{"ast":null,"code":"var _jsxFileName = \"/home/leo/amr-developer-interface/src/components/AMRDeveloperInterface.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Square, ArrowUp, ArrowDown, ArrowLeft, ArrowRight, Battery, Camera, MapPin, Activity, Zap, AlertTriangle, CheckCircle, Clock, Wifi, WifiOff, Save, RotateCw, RotateCcw } from 'lucide-react';\n\n// 從全局變量獲取 ROSLIB (CDN 方式)\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ROSLIB = window.ROSLIB || (() => {\n  console.warn('ROSLIB 未加載，使用模擬模式');\n  return {\n    Ros: class {\n      constructor() {\n        this.isConnected = false;\n      }\n      connect() {\n        console.log('模擬 ROS 連接');\n        setTimeout(() => {\n          this.isConnected = true;\n          if (this.onConnection) this.onConnection();\n        }, 1000);\n      }\n      close() {\n        this.isConnected = false;\n      }\n      on() {}\n    },\n    Topic: class {\n      publish() {}\n      subscribe() {}\n    },\n    Service: class {\n      callService() {}\n    },\n    Message: class {\n      constructor(data) {\n        Object.assign(this, data);\n      }\n    }\n  };\n})();\nconst TurtleBotInterface = () => {\n  _s();\n  // ROS 連接狀態\n  const [ros, setRos] = useState(null);\n  const [rosConnected, setRosConnected] = useState(false);\n  const [rosUrl, setRosUrl] = useState('ws://localhost:9090');\n\n  // 機器人狀態\n  const [robotStatus, setRobotStatus] = useState('未連接');\n  const [batteryLevel, setBatteryLevel] = useState(85);\n  const [currentPose, setCurrentPose] = useState({\n    x: 0,\n    y: 0,\n    theta: 0\n  });\n  const [linearVel, setLinearVel] = useState(0);\n  const [angularVel] = useState(0);\n  const [speed, setSpeed] = useState(0.2);\n  const [angularSpeed, setAngularSpeed] = useState(0.5);\n\n  // 地圖和導航\n  const [currentMode, setCurrentMode] = useState('teleop'); // teleop, mapping, navigation\n  const [mapData, setMapData] = useState(null);\n  const [goalPose, setGoalPose] = useState(null);\n  const [isMappingActive, setIsMappingActive] = useState(false);\n\n  // 地圖縮放和拖拽狀態\n  const [mapZoom, setMapZoom] = useState(1.0);\n  const [mapOffset, setMapOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [lastMousePos, setLastMousePos] = useState({\n    x: 0,\n    y: 0\n  });\n\n  // UI 狀態\n  const [logs, setLogs] = useState([{\n    time: new Date().toLocaleTimeString(),\n    type: 'info',\n    message: 'TurtleBot3 界面啟動'\n  }]);\n  const mapCanvasRef = useRef(null);\n  const cmdVelRef = useRef(null);\n  const mapSubRef = useRef(null);\n  const odomSubRef = useRef(null);\n\n  // 初始化 ROS 連接\n  useEffect(() => {\n    // 檢查 ROSLIB 是否可用\n    if (window.ROSLIB) {\n      addLog('success', 'ROSLIB 已成功加載');\n    } else {\n      addLog('warning', 'ROSLIB 未加載，使用模擬模式');\n    }\n    const initAndSetupROS = () => {\n      try {\n        const rosInstance = new ROSLIB.Ros({\n          url: rosUrl\n        });\n        rosInstance.on('connection', () => {\n          setRosConnected(true);\n          setRobotStatus('已連接');\n          addLog('success', 'ROS 連接成功');\n          setupRosTopics(rosInstance);\n        });\n        rosInstance.on('error', error => {\n          setRosConnected(false);\n          setRobotStatus('連接錯誤');\n          addLog('error', `ROS 連接錯誤: ${error}`);\n        });\n        rosInstance.on('close', () => {\n          setRosConnected(false);\n          setRobotStatus('連接斷開');\n          addLog('warning', 'ROS 連接斷開');\n        });\n        if (typeof rosInstance.connect === 'function') {\n          rosInstance.connect();\n        }\n        setRos(rosInstance);\n      } catch (error) {\n        addLog('error', `初始化失敗: ${error.message}`);\n      }\n    };\n    initAndSetupROS();\n    return () => {\n      // 清理函數\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // 鍵盤控制\n  useEffect(() => {\n    const handleKeyPress = event => {\n      if (!rosConnected || currentMode !== 'mapping') return;\n      switch (event.key.toLowerCase()) {\n        case 'w':\n        case 'arrowup':\n          event.preventDefault();\n          moveRobot('forward');\n          setTimeout(stopRobot, 100);\n          break;\n        case 's':\n        case 'arrowdown':\n          event.preventDefault();\n          moveRobot('backward');\n          setTimeout(stopRobot, 100);\n          break;\n        case 'a':\n        case 'arrowleft':\n          event.preventDefault();\n          moveRobot('left');\n          setTimeout(stopRobot, 100);\n          break;\n        case 'd':\n        case 'arrowright':\n          event.preventDefault();\n          moveRobot('right');\n          setTimeout(stopRobot, 100);\n          break;\n        case 'q':\n          event.preventDefault();\n          moveRobot('rotate_left');\n          setTimeout(stopRobot, 100);\n          break;\n        case 'e':\n          event.preventDefault();\n          moveRobot('rotate_right');\n          setTimeout(stopRobot, 100);\n          break;\n        case ' ':\n          event.preventDefault();\n          stopRobot();\n          break;\n        default:\n          break;\n      }\n    };\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [rosConnected, currentMode]);\n  const addLog = (type, message) => {\n    const time = new Date().toLocaleTimeString();\n    setLogs(prev => [...prev.slice(-9), {\n      time,\n      type,\n      message\n    }]);\n  };\n  const initROS = () => {\n    if (!ros || !ros.isConnected) {\n      // 重新初始化 ROS 連接\n      window.location.reload();\n    }\n  };\n  const setupRosTopics = rosInstance => {\n    // cmd_vel 發布者 (控制機器人移動)\n    cmdVelRef.current = new ROSLIB.Topic({\n      ros: rosInstance,\n      name: '/cmd_vel',\n      messageType: 'geometry_msgs/Twist'\n    });\n\n    // odom 訂閱者 (機器人位置)\n    odomSubRef.current = new ROSLIB.Topic({\n      ros: rosInstance,\n      name: '/odom',\n      messageType: 'nav_msgs/Odometry'\n    });\n    odomSubRef.current.subscribe(message => {\n      const {\n        position,\n        orientation\n      } = message.pose.pose;\n      const {\n        linear\n      } = message.twist.twist;\n\n      // 轉換四元數到歐拉角\n      const theta = 2 * Math.atan2(orientation.z, orientation.w);\n      setCurrentPose({\n        x: parseFloat(position.x.toFixed(2)),\n        y: parseFloat(position.y.toFixed(2)),\n        theta: (theta * 180 / Math.PI).toFixed(1)\n      });\n      setLinearVel(linear.x.toFixed(2));\n    });\n\n    // 地圖訂閱者 - 完全重寫\n    mapSubRef.current = new ROSLIB.Topic({\n      ros: rosInstance,\n      name: '/map',\n      messageType: 'nav_msgs/OccupancyGrid'\n    });\n    addLog('info', '正在訂閱地圖話題 /map...');\n    mapSubRef.current.subscribe(message => {\n      console.log('🗺️ 收到地圖數據!', {\n        width: message.info.width,\n        height: message.info.height,\n        resolution: message.info.resolution,\n        dataLength: message.data ? message.data.length : 0\n      });\n      if (message.data && message.data.length > 0) {\n        setMapData(message);\n        // 延遲一點再繪製，確保狀態更新\n        setTimeout(() => drawMap(message), 100);\n        addLog('success', `地圖更新: ${message.info.width}x${message.info.height}, 解析度: ${message.info.resolution.toFixed(3)}m`);\n      } else {\n        addLog('warning', '收到地圖訊息但無數據');\n      }\n    });\n\n    // 模擬電池狀態（因為 TurtleBot3 模擬器沒有真實電池）\n    const batterySimulation = setInterval(() => {\n      setBatteryLevel(prev => {\n        const newLevel = Math.max(20, prev - 0.1);\n        return newLevel;\n      });\n    }, 10000);\n\n    // 清理函數中清除定時器\n    rosInstance.batterySimulation = batterySimulation;\n    addLog('success', 'ROS 話題設置完成');\n  };\n\n  // 繪製地圖到 Canvas - 修復版本\n  const drawMap = mapMessage => {\n    var _mapMessage$info, _mapMessage$info2;\n    const canvas = mapCanvasRef.current;\n    if (!canvas || !mapMessage) {\n      console.log('❌ Canvas 或地圖數據不存在');\n      return;\n    }\n    console.log('🎨 開始繪製地圖...', {\n      canvas: !!canvas,\n      mapData: !!mapMessage,\n      width: (_mapMessage$info = mapMessage.info) === null || _mapMessage$info === void 0 ? void 0 : _mapMessage$info.width,\n      height: (_mapMessage$info2 = mapMessage.info) === null || _mapMessage$info2 === void 0 ? void 0 : _mapMessage$info2.height,\n      zoom: mapZoom\n    });\n    const ctx = canvas.getContext('2d');\n    const {\n      width,\n      height,\n      resolution,\n      origin\n    } = mapMessage.info;\n    const {\n      data\n    } = mapMessage;\n    if (!data || data.length === 0) {\n      console.log('❌ 地圖數據為空');\n      return;\n    }\n\n    // 設置 canvas 尺寸\n    const displayWidth = canvas.clientWidth || 800;\n    const displayHeight = canvas.clientHeight || 400;\n    canvas.width = displayWidth;\n    canvas.height = displayHeight;\n\n    // 清空畫布\n    ctx.fillStyle = '#374151'; // 深灰色背景\n    ctx.fillRect(0, 0, displayWidth, displayHeight);\n\n    // 計算基礎縮放比例\n    const baseScaleX = displayWidth / width;\n    const baseScaleY = displayHeight / height;\n    const baseScale = Math.min(baseScaleX, baseScaleY) * 0.8;\n\n    // 應用用戶縮放\n    const finalScale = baseScale * mapZoom;\n\n    // 計算偏移量（考慮用戶拖拽和縮放）\n    const centerX = displayWidth / 2;\n    const centerY = displayHeight / 2;\n    const offsetX = centerX - width * finalScale / 2 + mapOffset.x;\n    const offsetY = centerY - height * finalScale / 2 + mapOffset.y;\n    console.log('📏 繪製參數:', {\n      finalScale,\n      offsetX,\n      offsetY,\n      mapZoom,\n      baseScale\n    });\n\n    // 直接繪製像素\n    const imageData = ctx.createImageData(Math.ceil(width * finalScale), Math.ceil(height * finalScale));\n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        const dataIndex = y * width + x;\n        const value = data[dataIndex];\n        let color;\n        if (value === -1) {\n          color = [128, 128, 128, 255]; // 未知區域 (灰色)\n        } else if (value >= 0 && value < 25) {\n          color = [240, 240, 240, 255]; // 空閒區域 (白色)\n        } else if (value >= 65) {\n          color = [20, 20, 20, 255]; // 障礙物 (黑色)\n        } else {\n          color = [180, 180, 180, 255]; // 部分已知區域\n        }\n\n        // 將像素寫入縮放後的圖像\n        const scaledX = Math.floor(x * finalScale);\n        const scaledY = Math.floor(y * finalScale);\n        if (scaledX < imageData.width && scaledY < imageData.height) {\n          const pixelIndex = (scaledY * imageData.width + scaledX) * 4;\n          if (pixelIndex + 3 < imageData.data.length) {\n            imageData.data[pixelIndex] = color[0];\n            imageData.data[pixelIndex + 1] = color[1];\n            imageData.data[pixelIndex + 2] = color[2];\n            imageData.data[pixelIndex + 3] = color[3];\n          }\n        }\n      }\n    }\n\n    // 將圖像數據繪製到畫布\n    ctx.putImageData(imageData, offsetX, offsetY);\n\n    // 修正機器人位置計算\n    if (currentPose && currentPose.x !== undefined) {\n      // 正確的坐標變換\n      const robotWorldX = parseFloat(currentPose.x);\n      const robotWorldY = parseFloat(currentPose.y);\n\n      // 將世界坐標轉換為地圖像素坐標\n      const robotMapX = (robotWorldX - origin.position.x) / resolution;\n      const robotMapY = (origin.position.y + height * resolution - robotWorldY) / resolution;\n\n      // 轉換到顯示坐標\n      const robotDisplayX = offsetX + robotMapX * finalScale;\n      const robotDisplayY = offsetY + robotMapY * finalScale;\n      console.log('🤖 機器人位置計算:', {\n        world: {\n          x: robotWorldX,\n          y: robotWorldY\n        },\n        map: {\n          x: robotMapX,\n          y: robotMapY\n        },\n        display: {\n          x: robotDisplayX,\n          y: robotDisplayY\n        },\n        origin: origin.position\n      });\n\n      // 確保機器人位置在合理範圍內再繪製\n      if (robotDisplayX >= -50 && robotDisplayX <= displayWidth + 50 && robotDisplayY >= -50 && robotDisplayY <= displayHeight + 50) {\n        // 繪製機器人位置（藍色圓點）\n        ctx.fillStyle = '#3b82f6';\n        ctx.strokeStyle = '#1e40af';\n        ctx.lineWidth = 2;\n        ctx.beginPath();\n        ctx.arc(robotDisplayX, robotDisplayY, 8 * mapZoom, 0, 2 * Math.PI);\n        ctx.fill();\n        ctx.stroke();\n\n        // 繪製機器人方向箭頭\n        const theta = parseFloat(currentPose.theta) * Math.PI / 180;\n        const arrowLength = 20 * mapZoom;\n        const arrowX = robotDisplayX + Math.cos(theta) * arrowLength;\n        const arrowY = robotDisplayY - Math.sin(theta) * arrowLength;\n        ctx.strokeStyle = '#1d4ed8';\n        ctx.lineWidth = 3;\n        ctx.beginPath();\n        ctx.moveTo(robotDisplayX, robotDisplayY);\n        ctx.lineTo(arrowX, arrowY);\n        ctx.stroke();\n\n        // 繪製掃描範圍\n        ctx.strokeStyle = '#10b981';\n        ctx.lineWidth = 2;\n        ctx.setLineDash([5, 5]);\n        ctx.beginPath();\n        ctx.arc(robotDisplayX, robotDisplayY, 40 * mapZoom, 0, 2 * Math.PI);\n        ctx.stroke();\n        ctx.setLineDash([]);\n      }\n    }\n\n    // 繪製目標位置（如果有）\n    if (goalPose) {\n      const goalMapX = (goalPose.x - origin.position.x) / resolution;\n      const goalMapY = (origin.position.y + height * resolution - goalPose.y) / resolution;\n      const goalDisplayX = offsetX + goalMapX * finalScale;\n      const goalDisplayY = offsetY + goalMapY * finalScale;\n      ctx.fillStyle = '#ef4444';\n      ctx.beginPath();\n      ctx.arc(goalDisplayX, goalDisplayY, 6 * mapZoom, 0, 2 * Math.PI);\n      ctx.fill();\n    }\n\n    // 添加地圖信息顯示\n    ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';\n    ctx.fillRect(10, 10, 280, 100);\n    ctx.fillStyle = 'white';\n    ctx.font = '12px monospace';\n    ctx.fillText(`地圖尺寸: ${width} x ${height}`, 20, 30);\n    ctx.fillText(`解析度: ${resolution.toFixed(3)} m/pixel`, 20, 50);\n    ctx.fillText(`機器人: (${currentPose.x}, ${currentPose.y})`, 20, 70);\n    ctx.fillText(`縮放: ${(mapZoom * 100).toFixed(0)}%`, 20, 90);\n    console.log('✅ 地圖繪製完成');\n  };\n\n  // 發送速度命令\n  const publishCmdVel = (linear, angular) => {\n    if (!rosConnected || !cmdVelRef.current) return;\n    const twist = new ROSLIB.Message({\n      linear: {\n        x: linear,\n        y: 0,\n        z: 0\n      },\n      angular: {\n        x: 0,\n        y: 0,\n        z: angular\n      }\n    });\n    cmdVelRef.current.publish(twist);\n  };\n\n  // 停止機器人\n  const stopRobot = () => {\n    publishCmdVel(0, 0);\n    addLog('warning', '機器人停止');\n  };\n\n  // 鍵盤控制\n  const moveRobot = direction => {\n    if (!rosConnected) {\n      addLog('error', '請先連接 ROS');\n      return;\n    }\n    let linear = 0,\n      angular = 0;\n    switch (direction) {\n      case 'forward':\n        linear = speed;\n        break;\n      case 'backward':\n        linear = -speed;\n        break;\n      case 'left':\n        angular = angularSpeed;\n        break;\n      case 'right':\n        angular = -angularSpeed;\n        break;\n      case 'rotate_left':\n        angular = angularSpeed;\n        break;\n      case 'rotate_right':\n        angular = -angularSpeed;\n        break;\n      default:\n        break;\n    }\n    publishCmdVel(linear, angular);\n    addLog('info', `移動指令: 線速度=${linear}, 角速度=${angular}`);\n  };\n\n  // 開始/停止建圖\n  const toggleMapping = () => {\n    if (!rosConnected) {\n      addLog('error', '請先連接 ROS');\n      return;\n    }\n    if (isMappingActive) {\n      // 停止建圖並保存地圖\n      const saveMapService = new ROSLIB.Service({\n        ros: ros,\n        name: '/dynamic_map',\n        serviceType: 'nav_msgs/GetMap'\n      });\n      saveMapService.callService(new ROSLIB.ServiceRequest(), result => {\n        addLog('success', '地圖已保存');\n      });\n      setIsMappingActive(false);\n      setRobotStatus('建圖完成');\n    } else {\n      setIsMappingActive(true);\n      setRobotStatus('建圖中...');\n      addLog('info', '開始 SLAM 建圖');\n    }\n  };\n\n  // 設置導航目標\n  const setNavigationGoal = (x, y) => {\n    if (!rosConnected) {\n      addLog('error', '請先連接 ROS');\n      return;\n    }\n    const goalTopic = new ROSLIB.Topic({\n      ros: ros,\n      name: '/move_base_simple/goal',\n      messageType: 'geometry_msgs/PoseStamped'\n    });\n    const goal = new ROSLIB.Message({\n      header: {\n        frame_id: 'map',\n        stamp: {\n          sec: 0,\n          nsec: 0\n        }\n      },\n      pose: {\n        position: {\n          x: x,\n          y: y,\n          z: 0\n        },\n        orientation: {\n          x: 0,\n          y: 0,\n          z: 0,\n          w: 1\n        }\n      }\n    });\n    goalTopic.publish(goal);\n    setGoalPose({\n      x,\n      y\n    });\n    addLog('info', `設置導航目標: (${x.toFixed(2)}, ${y.toFixed(2)})`);\n  };\n\n  // 地圖點擊處理\n  const handleMapClick = event => {\n    if (!mapData || currentMode !== 'navigation') return;\n    const canvas = mapCanvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    // 轉換畫布坐標到世界坐標\n    const worldX = x * mapData.info.resolution + mapData.info.origin.position.x;\n    const worldY = (canvas.height - y) * mapData.info.resolution + mapData.info.origin.position.y;\n    setNavigationGoal(worldX, worldY);\n  };\n\n  // 滑鼠滾輪縮放處理 - 修復版本\n  const handleMapWheel = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    const delta = event.deltaY > 0 ? 0.9 : 1.1;\n    const newZoom = Math.max(0.5, Math.min(5.0, mapZoom * delta));\n    setMapZoom(newZoom);\n\n    // 重新繪製地圖\n    if (mapData) {\n      setTimeout(() => drawMap(mapData), 10);\n    }\n  };\n\n  // 滑鼠拖拽處理\n  const handleMapMouseDown = event => {\n    setIsDragging(true);\n    setLastMousePos({\n      x: event.clientX,\n      y: event.clientY\n    });\n  };\n  const handleMapMouseMove = event => {\n    if (!isDragging) return;\n    const deltaX = event.clientX - lastMousePos.x;\n    const deltaY = event.clientY - lastMousePos.y;\n    setMapOffset(prev => ({\n      x: prev.x + deltaX,\n      y: prev.y + deltaY\n    }));\n    setLastMousePos({\n      x: event.clientX,\n      y: event.clientY\n    });\n\n    // 重新繪製地圖\n    if (mapData) {\n      drawMap(mapData);\n    }\n  };\n  const handleMapMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  // 重置地圖視圖\n  const resetMapView = () => {\n    setMapZoom(1.0);\n    setMapOffset({\n      x: 0,\n      y: 0\n    });\n    if (mapData) {\n      setTimeout(() => drawMap(mapData), 10);\n    }\n  };\n  const getConnectionStatus = () => {\n    return rosConnected ? 'text-green-400' : 'text-red-400';\n  };\n  const getBatteryColor = () => {\n    if (batteryLevel > 60) return 'text-green-400';\n    if (batteryLevel > 30) return 'text-yellow-400';\n    return 'text-red-400';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl font-bold text-white mb-2\",\n          children: \"TurtleBot3 \\u63A7\\u5236\\u754C\\u9762\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-300\",\n          children: \"ROS Noetic \\xB7 SLAM \\xB7 \\u5C0E\\u822A\\u7CFB\\u7D71\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-4 mb-6 border border-white/20\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-300 mb-2\",\n              children: \"ROS Bridge URL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: rosUrl,\n              onChange: e => setRosUrl(e.target.value),\n              className: \"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-gray-400\",\n              placeholder: \"ws://localhost:9090\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: initROS,\n            disabled: rosConnected,\n            className: \"px-6 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n            children: rosConnected ? '已連接' : '連接 ROS'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 665,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 664,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center gap-2 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentMode('teleop'),\n          className: `px-4 py-2 rounded-lg font-medium transition-all ${currentMode === 'teleop' ? 'bg-blue-500 text-white' : 'bg-white/10 text-gray-300'}`,\n          children: \"\\u9059\\u63A7\\u6A21\\u5F0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentMode('mapping'),\n          className: `px-4 py-2 rounded-lg font-medium transition-all ${currentMode === 'mapping' ? 'bg-purple-500 text-white' : 'bg-white/10 text-gray-300'}`,\n          children: \"\\u5EFA\\u5716\\u6A21\\u5F0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 696,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentMode('navigation'),\n          className: `px-4 py-2 rounded-lg font-medium transition-all ${currentMode === 'navigation' ? 'bg-green-500 text-white' : 'bg-white/10 text-gray-300'}`,\n          children: \"\\u5C0E\\u822A\\u6A21\\u5F0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [rosConnected ? /*#__PURE__*/_jsxDEV(Wifi, {\n              className: \"w-8 h-8 text-green-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 31\n            }, this) : /*#__PURE__*/_jsxDEV(WifiOff, {\n              className: \"w-8 h-8 text-red-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 77\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-300\",\n                children: \"ROS \\u72C0\\u614B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `font-semibold ${getConnectionStatus()}`,\n                children: robotStatus\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 721,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(Battery, {\n              className: `w-8 h-8 ${getBatteryColor()}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 728,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-300\",\n                children: \"\\u96FB\\u91CF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `font-semibold ${getBatteryColor()}`,\n                children: [batteryLevel, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 731,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 729,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 727,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(MapPin, {\n              className: \"w-8 h-8 text-purple-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-300\",\n                children: \"\\u4F4D\\u7F6E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 740,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-purple-400\",\n                children: [\"(\", currentPose.x, \", \", currentPose.y, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 741,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(Activity, {\n              className: \"w-8 h-8 text-orange-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 750,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-300\",\n                children: \"\\u901F\\u5EA6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 752,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-orange-400\",\n                children: [linearVel, \" m/s\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 753,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 751,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 749,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-white flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 765,\n                  columnNumber: 19\n                }, this), currentMode === 'mapping' ? 'SLAM 即時建圖' : currentMode === 'navigation' ? '導航地圖' : '機器人地圖']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 764,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-300\",\n                children: [currentMode === 'navigation' && '點擊地圖設置目標點', currentMode === 'mapping' && (isMappingActive ? '即時建圖中...' : '準備開始建圖'), currentMode === 'teleop' && '遙控模式']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 768,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 763,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-black/30 rounded-lg p-4 relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n                ref: mapCanvasRef,\n                onClick: handleMapClick,\n                onWheel: handleMapWheel,\n                onMouseDown: handleMapMouseDown,\n                onMouseMove: handleMapMouseMove,\n                onMouseUp: handleMapMouseUp,\n                onMouseLeave: handleMapMouseUp,\n                className: \"w-full h-96 bg-gray-800 rounded cursor-move border-2 border-dashed border-gray-600 select-none\",\n                style: {\n                  maxWidth: '100%',\n                  height: '400px',\n                  touchAction: 'none' // 防止觸控設備的滾動\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 776,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute top-4 right-4 flex flex-col gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: resetMapView,\n                  className: \"px-3 py-1 bg-blue-500/80 hover:bg-blue-600/80 text-white rounded text-sm transition-all\",\n                  title: \"\\u91CD\\u7F6E\\u8996\\u5716\",\n                  children: \"\\uD83D\\uDD04 \\u91CD\\u7F6E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 794,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"px-3 py-1 bg-black/60 text-white rounded text-sm\",\n                  children: [(mapZoom * 100).toFixed(0), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 801,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 793,\n                columnNumber: 17\n              }, this), !mapData && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 flex flex-col items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-400 text-center\",\n                  children: currentMode === 'mapping' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                      className: \"w-12 h-12 mx-auto mb-2 opacity-50\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 811,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-lg mb-2\",\n                      children: \"\\u7B49\\u5F85 SLAM \\u5730\\u5716\\u6578\\u64DA...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 812,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm\",\n                      children: \"\\u8ACB\\u5148\\u555F\\u52D5 SLAM \\u4E26\\u958B\\u59CB\\u5EFA\\u5716\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 813,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-4 p-3 bg-purple-500/20 rounded-lg\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-purple-200\",\n                        children: \"\\u7D42\\u7AEF\\u57F7\\u884C\\uFF1Aroslaunch turtlebot3_slam turtlebot3_slam.launch\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 815,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 814,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                      className: \"w-12 h-12 mx-auto mb-2 opacity-50\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 822,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"\\u7B49\\u5F85\\u5730\\u5716\\u6578\\u64DA...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 823,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 808,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 807,\n                columnNumber: 19\n              }, this), currentMode === 'mapping' && isMappingActive && !mapData && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute top-4 left-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 bg-purple-500/80 text-white px-3 py-2 rounded-lg text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 834,\n                    columnNumber: 23\n                  }, this), \"\\u6B63\\u5728\\u7B49\\u5F85\\u5730\\u5716\\u6578\\u64DA\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 833,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 19\n              }, this), mapData && currentPose && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute bottom-4 left-4 bg-blue-500/80 text-white px-3 py-2 rounded-lg text-sm\",\n                children: [\"\\u6A5F\\u5668\\u4EBA\\u4F4D\\u7F6E: (\", currentPose.x, \", \", currentPose.y, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 842,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-xs text-gray-400 mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDD35 \\u6A5F\\u5668\\u4EBA\\u4F4D\\u7F6E \\uD83D\\uDD34 \\u76EE\\u6A19\\u9EDE \\uD83D\\uDFE2 \\u96F7\\u5C04\\u6383\\u63CF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 849,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: currentMode === 'mapping' ? '🗺️ 滾輪縮放 · 拖拽移動' : currentMode === 'navigation' ? '🎯 點擊設定目標' : '🎮 遙控模式'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 850,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 762,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 761,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [currentMode === 'teleop' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-white mb-4\",\n              children: \"\\u9375\\u76E4\\u63A7\\u5236\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-2 max-w-48 mx-auto mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 866,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onMouseDown: () => moveRobot('forward'),\n                onMouseUp: stopRobot,\n                disabled: !rosConnected,\n                className: \"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n                children: /*#__PURE__*/_jsxDEV(ArrowUp, {\n                  className: \"w-6 h-6 mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 873,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 867,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 875,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onMouseDown: () => moveRobot('left'),\n                onMouseUp: stopRobot,\n                disabled: !rosConnected,\n                className: \"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n                children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n                  className: \"w-6 h-6 mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 883,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 877,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: stopRobot,\n                className: \"p-3 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all\",\n                children: /*#__PURE__*/_jsxDEV(Square, {\n                  className: \"w-6 h-6 mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 889,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 885,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onMouseDown: () => moveRobot('right'),\n                onMouseUp: stopRobot,\n                disabled: !rosConnected,\n                className: \"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n                children: /*#__PURE__*/_jsxDEV(ArrowRight, {\n                  className: \"w-6 h-6 mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 897,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 891,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 900,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onMouseDown: () => moveRobot('backward'),\n                onMouseUp: stopRobot,\n                disabled: !rosConnected,\n                className: \"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n                children: /*#__PURE__*/_jsxDEV(ArrowDown, {\n                  className: \"w-6 h-6 mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 907,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 901,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 909,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 865,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onMouseDown: () => moveRobot('rotate_left'),\n                onMouseUp: stopRobot,\n                disabled: !rosConnected,\n                className: \"flex-1 flex items-center justify-center gap-2 p-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 919,\n                  columnNumber: 21\n                }, this), \"\\u5DE6\\u8F49\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onMouseDown: () => moveRobot('rotate_right'),\n                onMouseUp: stopRobot,\n                disabled: !rosConnected,\n                className: \"flex-1 flex items-center justify-center gap-2 p-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(RotateCw, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 928,\n                  columnNumber: 21\n                }, this), \"\\u53F3\\u8F49\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 922,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-300 mb-2\",\n                  children: [\"\\u7DDA\\u901F\\u5EA6: \", speed, \" m/s\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 935,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"range\",\n                  min: \"0.1\",\n                  max: \"1.0\",\n                  step: \"0.1\",\n                  value: speed,\n                  onChange: e => setSpeed(parseFloat(e.target.value)),\n                  className: \"w-full h-2 bg-white/20 rounded-lg appearance-none slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 938,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 934,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-300 mb-2\",\n                  children: [\"\\u89D2\\u901F\\u5EA6: \", angularSpeed, \" rad/s\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 950,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"range\",\n                  min: \"0.1\",\n                  max: \"2.0\",\n                  step: \"0.1\",\n                  value: angularSpeed,\n                  onChange: e => setAngularSpeed(parseFloat(e.target.value)),\n                  className: \"w-full h-2 bg-white/20 rounded-lg appearance-none slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 953,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 949,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 933,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 862,\n            columnNumber: 15\n          }, this), currentMode === 'mapping' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-white mb-4\",\n                children: \"SLAM \\u5EFA\\u5716\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 972,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: toggleMapping,\n                  disabled: !rosConnected,\n                  className: `w-full flex items-center justify-center gap-2 px-4 py-3 ${isMappingActive ? 'bg-red-500 hover:bg-red-600' : 'bg-purple-500 hover:bg-purple-600'} disabled:bg-gray-600 text-white rounded-lg font-medium transition-all`,\n                  children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 982,\n                    columnNumber: 23\n                  }, this), isMappingActive ? '停止建圖' : '開始建圖']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 975,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  disabled: !rosConnected || !mapData,\n                  className: \"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg font-medium transition-all\",\n                  children: [/*#__PURE__*/_jsxDEV(Save, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 990,\n                    columnNumber: 23\n                  }, this), \"\\u4FDD\\u5B58\\u5730\\u5716\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 986,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 974,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 971,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-white mb-4\",\n                children: \"\\u5EFA\\u5716\\u63A7\\u5236\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 998,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-3 gap-2 max-w-48 mx-auto mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1001,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onMouseDown: () => moveRobot('forward'),\n                  onMouseUp: stopRobot,\n                  disabled: !rosConnected,\n                  className: \"p-3 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n                  children: /*#__PURE__*/_jsxDEV(ArrowUp, {\n                    className: \"w-6 h-6 mx-auto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1008,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1002,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1010,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onMouseDown: () => moveRobot('left'),\n                  onMouseUp: stopRobot,\n                  disabled: !rosConnected,\n                  className: \"p-3 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n                  children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n                    className: \"w-6 h-6 mx-auto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1018,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1012,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: stopRobot,\n                  className: \"p-3 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all\",\n                  children: /*#__PURE__*/_jsxDEV(Square, {\n                    className: \"w-6 h-6 mx-auto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1024,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1020,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onMouseDown: () => moveRobot('right'),\n                  onMouseUp: stopRobot,\n                  disabled: !rosConnected,\n                  className: \"p-3 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n                  children: /*#__PURE__*/_jsxDEV(ArrowRight, {\n                    className: \"w-6 h-6 mx-auto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1026,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1035,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onMouseDown: () => moveRobot('backward'),\n                  onMouseUp: stopRobot,\n                  disabled: !rosConnected,\n                  className: \"p-3 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n                  children: /*#__PURE__*/_jsxDEV(ArrowDown, {\n                    className: \"w-6 h-6 mx-auto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1042,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1036,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1044,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1000,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2 mb-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onMouseDown: () => moveRobot('rotate_left'),\n                  onMouseUp: stopRobot,\n                  disabled: !rosConnected,\n                  className: \"flex-1 flex items-center justify-center gap-2 p-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\",\n                  children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1054,\n                    columnNumber: 23\n                  }, this), \"\\u5DE6\\u8F49\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1048,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onMouseDown: () => moveRobot('rotate_right'),\n                  onMouseUp: stopRobot,\n                  disabled: !rosConnected,\n                  className: \"flex-1 flex items-center justify-center gap-2 p-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\",\n                  children: [/*#__PURE__*/_jsxDEV(RotateCw, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1063,\n                    columnNumber: 23\n                  }, this), \"\\u53F3\\u8F49\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1057,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1047,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-300 mb-2\",\n                    children: [\"\\u5EFA\\u5716\\u901F\\u5EA6: \", speed, \" m/s\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1070,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"range\",\n                    min: \"0.1\",\n                    max: \"0.5\",\n                    step: \"0.1\",\n                    value: speed,\n                    onChange: e => setSpeed(parseFloat(e.target.value)),\n                    className: \"w-full h-2 bg-white/20 rounded-lg appearance-none slider\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1073,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1069,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-300 mb-2\",\n                    children: [\"\\u8F49\\u5411\\u901F\\u5EA6: \", angularSpeed, \" rad/s\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1085,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"range\",\n                    min: \"0.2\",\n                    max: \"1.0\",\n                    step: \"0.1\",\n                    value: angularSpeed,\n                    onChange: e => setAngularSpeed(parseFloat(e.target.value)),\n                    className: \"w-full h-2 bg-white/20 rounded-lg appearance-none slider\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1088,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1084,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1068,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 p-3 bg-purple-500/20 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-purple-200 mb-2\",\n                  children: \"\\uD83D\\uDCA1 \\u5EFA\\u5716\\u63D0\\u793A\\uFF1A\\u6162\\u6162\\u79FB\\u52D5\\u6A5F\\u5668\\u4EBA\\uFF0C\\u8B93\\u96F7\\u5C04\\u6383\\u63CF\\u5668\\u6536\\u96C6\\u74B0\\u5883\\u6578\\u64DA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1101,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-purple-300\",\n                  children: \"\\u2328\\uFE0F \\u9375\\u76E4\\u5FEB\\u6377\\u9375\\uFF1AW/A/S/D \\u6216\\u65B9\\u5411\\u9375\\u79FB\\u52D5\\uFF0CQ/E \\u65CB\\u8F49\\uFF0C\\u7A7A\\u683C\\u505C\\u6B62\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1104,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1100,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 997,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), currentMode === 'navigation' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-white mb-4\",\n              children: \"\\u81EA\\u4E3B\\u5C0E\\u822A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1115,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [goalPose && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-black/20 rounded-lg p-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-300\",\n                  children: \"\\u76EE\\u6A19\\u4F4D\\u7F6E:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1120,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-white\",\n                  children: [\"(\", goalPose.x.toFixed(2), \", \", goalPose.y.toFixed(2), \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1121,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1119,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: stopRobot,\n                disabled: !rosConnected,\n                className: \"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-500 hover:bg-red-600 disabled:bg-gray-600 text-white rounded-lg font-medium transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(Square, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1130,\n                  columnNumber: 21\n                }, this), \"\\u505C\\u6B62\\u5C0E\\u822A\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1125,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-300\",\n                children: \"\\u9EDE\\u64CA\\u5730\\u5716\\u8A2D\\u7F6E\\u5C0E\\u822A\\u76EE\\u6A19\\u9EDE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1134,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1117,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1114,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-white mb-4 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Clock, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1144,\n                columnNumber: 17\n              }, this), \"\\u7CFB\\u7D71\\u65E5\\u8A8C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1143,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2 max-h-48 overflow-y-auto\",\n              children: logs.map((log, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start gap-3 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400 font-mono text-xs\",\n                  children: log.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1151,\n                  columnNumber: 21\n                }, this), log.type === 'success' && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                  className: \"w-4 h-4 text-green-400 mt-0.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1152,\n                  columnNumber: 48\n                }, this), log.type === 'warning' && /*#__PURE__*/_jsxDEV(AlertTriangle, {\n                  className: \"w-4 h-4 text-yellow-400 mt-0.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1153,\n                  columnNumber: 48\n                }, this), log.type === 'info' && /*#__PURE__*/_jsxDEV(Zap, {\n                  className: \"w-4 h-4 text-blue-400 mt-0.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1154,\n                  columnNumber: 45\n                }, this), log.type === 'error' && /*#__PURE__*/_jsxDEV(AlertTriangle, {\n                  className: \"w-4 h-4 text-red-400 mt-0.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1155,\n                  columnNumber: 46\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-300 text-xs\",\n                  children: log.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1156,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1150,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1148,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-white mb-4\",\n              children: \"\\u6A5F\\u5668\\u4EBA\\u8CC7\\u8A0A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-300\",\n                  children: \"\\u4F4D\\u7F6E X:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1168,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-white\",\n                  children: [currentPose.x, \" m\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1169,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1167,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-300\",\n                  children: \"\\u4F4D\\u7F6E Y:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1172,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-white\",\n                  children: [currentPose.y, \" m\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1173,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-300\",\n                  children: \"\\u65B9\\u5411\\u89D2:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1176,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-white\",\n                  children: [currentPose.theta, \"\\xB0\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1177,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-300\",\n                  children: \"\\u7DDA\\u901F\\u5EA6:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1180,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-white\",\n                  children: [linearVel, \" m/s\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1181,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-300\",\n                  children: \"\\u89D2\\u901F\\u5EA6:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1184,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-white\",\n                  children: [angularVel, \" rad/s\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1185,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1183,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1166,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-white mb-4\",\n              children: \"\\u5FEB\\u901F\\u52D5\\u4F5C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setNavigationGoal(0, 0),\n                disabled: !rosConnected || currentMode !== 'navigation',\n                className: \"flex items-center justify-center gap-2 px-3 py-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1200,\n                  columnNumber: 19\n                }, this), \"\\u56DE\\u5230\\u539F\\u9EDE\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1195,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: stopRobot,\n                disabled: !rosConnected,\n                className: \"flex items-center justify-center gap-2 px-3 py-2 bg-red-500 hover:bg-red-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(Square, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1208,\n                  columnNumber: 19\n                }, this), \"\\u7DCA\\u6025\\u505C\\u6B62\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1203,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => window.open('http://localhost:8080', '_blank'),\n                className: \"flex items-center justify-center gap-2 px-3 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(Camera, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1215,\n                  columnNumber: 19\n                }, this), \"\\u651D\\u5F71\\u6A5F\\u8996\\u5716\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1211,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1194,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 859,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 759,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 655,\n    columnNumber: 5\n  }, this);\n};\n_s(TurtleBotInterface, \"c30Ry7+zXmlUFSZGyzPe7ee7GqY=\");\n_c = TurtleBotInterface;\nexport default TurtleBotInterface;\nvar _c;\n$RefreshReg$(_c, \"TurtleBotInterface\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Square","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Battery","Camera","MapPin","Activity","Zap","AlertTriangle","CheckCircle","Clock","Wifi","WifiOff","Save","RotateCw","RotateCcw","jsxDEV","_jsxDEV","Fragment","_Fragment","ROSLIB","window","console","warn","Ros","constructor","isConnected","connect","log","setTimeout","onConnection","close","on","Topic","publish","subscribe","Service","callService","Message","data","Object","assign","TurtleBotInterface","_s","ros","setRos","rosConnected","setRosConnected","rosUrl","setRosUrl","robotStatus","setRobotStatus","batteryLevel","setBatteryLevel","currentPose","setCurrentPose","x","y","theta","linearVel","setLinearVel","angularVel","speed","setSpeed","angularSpeed","setAngularSpeed","currentMode","setCurrentMode","mapData","setMapData","goalPose","setGoalPose","isMappingActive","setIsMappingActive","mapZoom","setMapZoom","mapOffset","setMapOffset","isDragging","setIsDragging","lastMousePos","setLastMousePos","logs","setLogs","time","Date","toLocaleTimeString","type","message","mapCanvasRef","cmdVelRef","mapSubRef","odomSubRef","addLog","initAndSetupROS","rosInstance","url","setupRosTopics","error","handleKeyPress","event","key","toLowerCase","preventDefault","moveRobot","stopRobot","addEventListener","removeEventListener","prev","slice","initROS","location","reload","current","name","messageType","position","orientation","pose","linear","twist","Math","atan2","z","w","parseFloat","toFixed","PI","width","info","height","resolution","dataLength","length","drawMap","batterySimulation","setInterval","newLevel","max","mapMessage","_mapMessage$info","_mapMessage$info2","canvas","zoom","ctx","getContext","origin","displayWidth","clientWidth","displayHeight","clientHeight","fillStyle","fillRect","baseScaleX","baseScaleY","baseScale","min","finalScale","centerX","centerY","offsetX","offsetY","imageData","createImageData","ceil","dataIndex","value","color","scaledX","floor","scaledY","pixelIndex","putImageData","undefined","robotWorldX","robotWorldY","robotMapX","robotMapY","robotDisplayX","robotDisplayY","world","map","display","strokeStyle","lineWidth","beginPath","arc","fill","stroke","arrowLength","arrowX","cos","arrowY","sin","moveTo","lineTo","setLineDash","goalMapX","goalMapY","goalDisplayX","goalDisplayY","font","fillText","publishCmdVel","angular","direction","toggleMapping","saveMapService","serviceType","ServiceRequest","result","setNavigationGoal","goalTopic","goal","header","frame_id","stamp","sec","nsec","handleMapClick","rect","getBoundingClientRect","clientX","left","clientY","top","worldX","worldY","handleMapWheel","stopPropagation","delta","deltaY","newZoom","handleMapMouseDown","handleMapMouseMove","deltaX","handleMapMouseUp","resetMapView","getConnectionStatus","getBatteryColor","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","placeholder","onClick","disabled","ref","onWheel","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","style","maxWidth","touchAction","title","step","index","open","_c","$RefreshReg$"],"sources":["/home/leo/amr-developer-interface/src/components/AMRDeveloperInterface.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { \n  Square, \n  ArrowUp, \n  ArrowDown, \n  ArrowLeft, \n  ArrowRight,\n  Battery,\n  Camera,\n  MapPin,\n  Activity,\n  Zap,\n  AlertTriangle,\n  CheckCircle,\n  Clock,\n  Wifi,\n  WifiOff,\n  Save,\n  RotateCw,\n  RotateCcw\n} from 'lucide-react';\n\n// 從全局變量獲取 ROSLIB (CDN 方式)\nconst ROSLIB = window.ROSLIB || (() => {\n  console.warn('ROSLIB 未加載，使用模擬模式');\n  return {\n    Ros: class {\n      constructor() {\n        this.isConnected = false;\n      }\n      connect() {\n        console.log('模擬 ROS 連接');\n        setTimeout(() => {\n          this.isConnected = true;\n          if (this.onConnection) this.onConnection();\n        }, 1000);\n      }\n      close() {\n        this.isConnected = false;\n      }\n      on() {}\n    },\n    Topic: class {\n      publish() {}\n      subscribe() {}\n    },\n    Service: class {\n      callService() {}\n    },\n    Message: class {\n      constructor(data) {\n        Object.assign(this, data);\n      }\n    }\n  };\n})();\n\nconst TurtleBotInterface = () => {\n  // ROS 連接狀態\n  const [ros, setRos] = useState(null);\n  const [rosConnected, setRosConnected] = useState(false);\n  const [rosUrl, setRosUrl] = useState('ws://localhost:9090');\n  \n  // 機器人狀態\n  const [robotStatus, setRobotStatus] = useState('未連接');\n  const [batteryLevel, setBatteryLevel] = useState(85);\n  const [currentPose, setCurrentPose] = useState({ x: 0, y: 0, theta: 0 });\n  const [linearVel, setLinearVel] = useState(0);\n  const [angularVel] = useState(0);\n  const [speed, setSpeed] = useState(0.2);\n  const [angularSpeed, setAngularSpeed] = useState(0.5);\n  \n  // 地圖和導航\n  const [currentMode, setCurrentMode] = useState('teleop'); // teleop, mapping, navigation\n  const [mapData, setMapData] = useState(null);\n  const [goalPose, setGoalPose] = useState(null);\n  const [isMappingActive, setIsMappingActive] = useState(false);\n  \n  // 地圖縮放和拖拽狀態\n  const [mapZoom, setMapZoom] = useState(1.0);\n  const [mapOffset, setMapOffset] = useState({ x: 0, y: 0 });\n  const [isDragging, setIsDragging] = useState(false);\n  const [lastMousePos, setLastMousePos] = useState({ x: 0, y: 0 });\n  \n  // UI 狀態\n  const [logs, setLogs] = useState([\n    { time: new Date().toLocaleTimeString(), type: 'info', message: 'TurtleBot3 界面啟動' }\n  ]);\n  \n  const mapCanvasRef = useRef(null);\n  const cmdVelRef = useRef(null);\n  const mapSubRef = useRef(null);\n  const odomSubRef = useRef(null);\n\n  // 初始化 ROS 連接\n  useEffect(() => {\n    // 檢查 ROSLIB 是否可用\n    if (window.ROSLIB) {\n      addLog('success', 'ROSLIB 已成功加載');\n    } else {\n      addLog('warning', 'ROSLIB 未加載，使用模擬模式');\n    }\n    \n    const initAndSetupROS = () => {\n      try {\n        const rosInstance = new ROSLIB.Ros({\n          url: rosUrl\n        });\n\n        rosInstance.on('connection', () => {\n          setRosConnected(true);\n          setRobotStatus('已連接');\n          addLog('success', 'ROS 連接成功');\n          setupRosTopics(rosInstance);\n        });\n\n        rosInstance.on('error', (error) => {\n          setRosConnected(false);\n          setRobotStatus('連接錯誤');\n          addLog('error', `ROS 連接錯誤: ${error}`);\n        });\n\n        rosInstance.on('close', () => {\n          setRosConnected(false);\n          setRobotStatus('連接斷開');\n          addLog('warning', 'ROS 連接斷開');\n        });\n\n        if (typeof rosInstance.connect === 'function') {\n          rosInstance.connect();\n        }\n        \n        setRos(rosInstance);\n      } catch (error) {\n        addLog('error', `初始化失敗: ${error.message}`);\n      }\n    };\n\n    initAndSetupROS();\n    \n    return () => {\n      // 清理函數\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // 鍵盤控制\n  useEffect(() => {\n    const handleKeyPress = (event) => {\n      if (!rosConnected || currentMode !== 'mapping') return;\n      \n      switch (event.key.toLowerCase()) {\n        case 'w':\n        case 'arrowup':\n          event.preventDefault();\n          moveRobot('forward');\n          setTimeout(stopRobot, 100);\n          break;\n        case 's':\n        case 'arrowdown':\n          event.preventDefault();\n          moveRobot('backward');\n          setTimeout(stopRobot, 100);\n          break;\n        case 'a':\n        case 'arrowleft':\n          event.preventDefault();\n          moveRobot('left');\n          setTimeout(stopRobot, 100);\n          break;\n        case 'd':\n        case 'arrowright':\n          event.preventDefault();\n          moveRobot('right');\n          setTimeout(stopRobot, 100);\n          break;\n        case 'q':\n          event.preventDefault();\n          moveRobot('rotate_left');\n          setTimeout(stopRobot, 100);\n          break;\n        case 'e':\n          event.preventDefault();\n          moveRobot('rotate_right');\n          setTimeout(stopRobot, 100);\n          break;\n        case ' ':\n          event.preventDefault();\n          stopRobot();\n          break;\n        default:\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [rosConnected, currentMode]);\n\n  const addLog = (type, message) => {\n    const time = new Date().toLocaleTimeString();\n    setLogs(prev => [...prev.slice(-9), { time, type, message }]);\n  };\n\n  const initROS = () => {\n    if (!ros || !ros.isConnected) {\n      // 重新初始化 ROS 連接\n      window.location.reload();\n    }\n  };\n\n  const setupRosTopics = (rosInstance) => {\n    // cmd_vel 發布者 (控制機器人移動)\n    cmdVelRef.current = new ROSLIB.Topic({\n      ros: rosInstance,\n      name: '/cmd_vel',\n      messageType: 'geometry_msgs/Twist'\n    });\n\n    // odom 訂閱者 (機器人位置)\n    odomSubRef.current = new ROSLIB.Topic({\n      ros: rosInstance,\n      name: '/odom',\n      messageType: 'nav_msgs/Odometry'\n    });\n\n    odomSubRef.current.subscribe((message) => {\n      const { position, orientation } = message.pose.pose;\n      const { linear } = message.twist.twist;\n      \n      // 轉換四元數到歐拉角\n      const theta = 2 * Math.atan2(orientation.z, orientation.w);\n      \n      setCurrentPose({\n        x: parseFloat(position.x.toFixed(2)),\n        y: parseFloat(position.y.toFixed(2)),\n        theta: (theta * 180 / Math.PI).toFixed(1)\n      });\n      \n      setLinearVel(linear.x.toFixed(2));\n    });\n\n    // 地圖訂閱者 - 完全重寫\n    mapSubRef.current = new ROSLIB.Topic({\n      ros: rosInstance,\n      name: '/map',\n      messageType: 'nav_msgs/OccupancyGrid'\n    });\n\n    addLog('info', '正在訂閱地圖話題 /map...');\n    \n    mapSubRef.current.subscribe((message) => {\n      console.log('🗺️ 收到地圖數據!', {\n        width: message.info.width,\n        height: message.info.height,\n        resolution: message.info.resolution,\n        dataLength: message.data ? message.data.length : 0\n      });\n      \n      if (message.data && message.data.length > 0) {\n        setMapData(message);\n        // 延遲一點再繪製，確保狀態更新\n        setTimeout(() => drawMap(message), 100);\n        addLog('success', `地圖更新: ${message.info.width}x${message.info.height}, 解析度: ${message.info.resolution.toFixed(3)}m`);\n      } else {\n        addLog('warning', '收到地圖訊息但無數據');\n      }\n    });\n\n    // 模擬電池狀態（因為 TurtleBot3 模擬器沒有真實電池）\n    const batterySimulation = setInterval(() => {\n      setBatteryLevel(prev => {\n        const newLevel = Math.max(20, prev - 0.1);\n        return newLevel;\n      });\n    }, 10000);\n\n    // 清理函數中清除定時器\n    rosInstance.batterySimulation = batterySimulation;\n\n    addLog('success', 'ROS 話題設置完成');\n  };\n\n  // 繪製地圖到 Canvas - 修復版本\n  const drawMap = (mapMessage) => {\n    const canvas = mapCanvasRef.current;\n    if (!canvas || !mapMessage) {\n      console.log('❌ Canvas 或地圖數據不存在');\n      return;\n    }\n\n    console.log('🎨 開始繪製地圖...', {\n      canvas: !!canvas,\n      mapData: !!mapMessage,\n      width: mapMessage.info?.width,\n      height: mapMessage.info?.height,\n      zoom: mapZoom\n    });\n\n    const ctx = canvas.getContext('2d');\n    const { width, height, resolution, origin } = mapMessage.info;\n    const { data } = mapMessage;\n    \n    if (!data || data.length === 0) {\n      console.log('❌ 地圖數據為空');\n      return;\n    }\n\n    // 設置 canvas 尺寸\n    const displayWidth = canvas.clientWidth || 800;\n    const displayHeight = canvas.clientHeight || 400;\n    canvas.width = displayWidth;\n    canvas.height = displayHeight;\n    \n    // 清空畫布\n    ctx.fillStyle = '#374151'; // 深灰色背景\n    ctx.fillRect(0, 0, displayWidth, displayHeight);\n    \n    // 計算基礎縮放比例\n    const baseScaleX = displayWidth / width;\n    const baseScaleY = displayHeight / height;\n    const baseScale = Math.min(baseScaleX, baseScaleY) * 0.8;\n    \n    // 應用用戶縮放\n    const finalScale = baseScale * mapZoom;\n    \n    // 計算偏移量（考慮用戶拖拽和縮放）\n    const centerX = displayWidth / 2;\n    const centerY = displayHeight / 2;\n    const offsetX = centerX - (width * finalScale) / 2 + mapOffset.x;\n    const offsetY = centerY - (height * finalScale) / 2 + mapOffset.y;\n    \n    console.log('📏 繪製參數:', { \n      finalScale, \n      offsetX, \n      offsetY, \n      mapZoom,\n      baseScale \n    });\n    \n    // 直接繪製像素\n    const imageData = ctx.createImageData(Math.ceil(width * finalScale), Math.ceil(height * finalScale));\n    \n    for (let y = 0; y < height; y++) {\n      for (let x = 0; x < width; x++) {\n        const dataIndex = y * width + x;\n        const value = data[dataIndex];\n        \n        let color;\n        if (value === -1) {\n          color = [128, 128, 128, 255]; // 未知區域 (灰色)\n        } else if (value >= 0 && value < 25) {\n          color = [240, 240, 240, 255]; // 空閒區域 (白色)\n        } else if (value >= 65) {\n          color = [20, 20, 20, 255]; // 障礙物 (黑色)\n        } else {\n          color = [180, 180, 180, 255]; // 部分已知區域\n        }\n        \n        // 將像素寫入縮放後的圖像\n        const scaledX = Math.floor(x * finalScale);\n        const scaledY = Math.floor(y * finalScale);\n        \n        if (scaledX < imageData.width && scaledY < imageData.height) {\n          const pixelIndex = (scaledY * imageData.width + scaledX) * 4;\n          if (pixelIndex + 3 < imageData.data.length) {\n            imageData.data[pixelIndex] = color[0];\n            imageData.data[pixelIndex + 1] = color[1];\n            imageData.data[pixelIndex + 2] = color[2];\n            imageData.data[pixelIndex + 3] = color[3];\n          }\n        }\n      }\n    }\n    \n    // 將圖像數據繪製到畫布\n    ctx.putImageData(imageData, offsetX, offsetY);\n    \n    // 修正機器人位置計算\n    if (currentPose && currentPose.x !== undefined) {\n      // 正確的坐標變換\n      const robotWorldX = parseFloat(currentPose.x);\n      const robotWorldY = parseFloat(currentPose.y);\n      \n      // 將世界坐標轉換為地圖像素坐標\n      const robotMapX = (robotWorldX - origin.position.x) / resolution;\n      const robotMapY = (origin.position.y + height * resolution - robotWorldY) / resolution;\n      \n      // 轉換到顯示坐標\n      const robotDisplayX = offsetX + robotMapX * finalScale;\n      const robotDisplayY = offsetY + robotMapY * finalScale;\n      \n      console.log('🤖 機器人位置計算:', {\n        world: { x: robotWorldX, y: robotWorldY },\n        map: { x: robotMapX, y: robotMapY },\n        display: { x: robotDisplayX, y: robotDisplayY },\n        origin: origin.position\n      });\n      \n      // 確保機器人位置在合理範圍內再繪製\n      if (robotDisplayX >= -50 && robotDisplayX <= displayWidth + 50 && \n          robotDisplayY >= -50 && robotDisplayY <= displayHeight + 50) {\n        \n        // 繪製機器人位置（藍色圓點）\n        ctx.fillStyle = '#3b82f6';\n        ctx.strokeStyle = '#1e40af';\n        ctx.lineWidth = 2;\n        ctx.beginPath();\n        ctx.arc(robotDisplayX, robotDisplayY, 8 * mapZoom, 0, 2 * Math.PI);\n        ctx.fill();\n        ctx.stroke();\n        \n        // 繪製機器人方向箭頭\n        const theta = parseFloat(currentPose.theta) * Math.PI / 180;\n        const arrowLength = 20 * mapZoom;\n        const arrowX = robotDisplayX + Math.cos(theta) * arrowLength;\n        const arrowY = robotDisplayY - Math.sin(theta) * arrowLength;\n        \n        ctx.strokeStyle = '#1d4ed8';\n        ctx.lineWidth = 3;\n        ctx.beginPath();\n        ctx.moveTo(robotDisplayX, robotDisplayY);\n        ctx.lineTo(arrowX, arrowY);\n        ctx.stroke();\n        \n        // 繪製掃描範圍\n        ctx.strokeStyle = '#10b981';\n        ctx.lineWidth = 2;\n        ctx.setLineDash([5, 5]);\n        ctx.beginPath();\n        ctx.arc(robotDisplayX, robotDisplayY, 40 * mapZoom, 0, 2 * Math.PI);\n        ctx.stroke();\n        ctx.setLineDash([]);\n      }\n    }\n    \n    // 繪製目標位置（如果有）\n    if (goalPose) {\n      const goalMapX = (goalPose.x - origin.position.x) / resolution;\n      const goalMapY = (origin.position.y + height * resolution - goalPose.y) / resolution;\n      \n      const goalDisplayX = offsetX + goalMapX * finalScale;\n      const goalDisplayY = offsetY + goalMapY * finalScale;\n      \n      ctx.fillStyle = '#ef4444';\n      ctx.beginPath();\n      ctx.arc(goalDisplayX, goalDisplayY, 6 * mapZoom, 0, 2 * Math.PI);\n      ctx.fill();\n    }\n    \n    // 添加地圖信息顯示\n    ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';\n    ctx.fillRect(10, 10, 280, 100);\n    ctx.fillStyle = 'white';\n    ctx.font = '12px monospace';\n    ctx.fillText(`地圖尺寸: ${width} x ${height}`, 20, 30);\n    ctx.fillText(`解析度: ${resolution.toFixed(3)} m/pixel`, 20, 50);\n    ctx.fillText(`機器人: (${currentPose.x}, ${currentPose.y})`, 20, 70);\n    ctx.fillText(`縮放: ${(mapZoom * 100).toFixed(0)}%`, 20, 90);\n    \n    console.log('✅ 地圖繪製完成');\n  };\n\n  // 發送速度命令\n  const publishCmdVel = (linear, angular) => {\n    if (!rosConnected || !cmdVelRef.current) return;\n\n    const twist = new ROSLIB.Message({\n      linear: { x: linear, y: 0, z: 0 },\n      angular: { x: 0, y: 0, z: angular }\n    });\n\n    cmdVelRef.current.publish(twist);\n  };\n\n  // 停止機器人\n  const stopRobot = () => {\n    publishCmdVel(0, 0);\n    addLog('warning', '機器人停止');\n  };\n\n  // 鍵盤控制\n  const moveRobot = (direction) => {\n    if (!rosConnected) {\n      addLog('error', '請先連接 ROS');\n      return;\n    }\n\n    let linear = 0, angular = 0;\n\n    switch (direction) {\n      case 'forward':\n        linear = speed;\n        break;\n      case 'backward':\n        linear = -speed;\n        break;\n      case 'left':\n        angular = angularSpeed;\n        break;\n      case 'right':\n        angular = -angularSpeed;\n        break;\n      case 'rotate_left':\n        angular = angularSpeed;\n        break;\n      case 'rotate_right':\n        angular = -angularSpeed;\n        break;\n      default:\n        break;\n    }\n\n    publishCmdVel(linear, angular);\n    addLog('info', `移動指令: 線速度=${linear}, 角速度=${angular}`);\n  };\n\n  // 開始/停止建圖\n  const toggleMapping = () => {\n    if (!rosConnected) {\n      addLog('error', '請先連接 ROS');\n      return;\n    }\n\n    if (isMappingActive) {\n      // 停止建圖並保存地圖\n      const saveMapService = new ROSLIB.Service({\n        ros: ros,\n        name: '/dynamic_map',\n        serviceType: 'nav_msgs/GetMap'\n      });\n\n      saveMapService.callService(new ROSLIB.ServiceRequest(), (result) => {\n        addLog('success', '地圖已保存');\n      });\n\n      setIsMappingActive(false);\n      setRobotStatus('建圖完成');\n    } else {\n      setIsMappingActive(true);\n      setRobotStatus('建圖中...');\n      addLog('info', '開始 SLAM 建圖');\n    }\n  };\n\n  // 設置導航目標\n  const setNavigationGoal = (x, y) => {\n    if (!rosConnected) {\n      addLog('error', '請先連接 ROS');\n      return;\n    }\n\n    const goalTopic = new ROSLIB.Topic({\n      ros: ros,\n      name: '/move_base_simple/goal',\n      messageType: 'geometry_msgs/PoseStamped'\n    });\n\n    const goal = new ROSLIB.Message({\n      header: {\n        frame_id: 'map',\n        stamp: { sec: 0, nsec: 0 }\n      },\n      pose: {\n        position: { x: x, y: y, z: 0 },\n        orientation: { x: 0, y: 0, z: 0, w: 1 }\n      }\n    });\n\n    goalTopic.publish(goal);\n    setGoalPose({ x, y });\n    addLog('info', `設置導航目標: (${x.toFixed(2)}, ${y.toFixed(2)})`);\n  };\n\n  // 地圖點擊處理\n  const handleMapClick = (event) => {\n    if (!mapData || currentMode !== 'navigation') return;\n\n    const canvas = mapCanvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    // 轉換畫布坐標到世界坐標\n    const worldX = x * mapData.info.resolution + mapData.info.origin.position.x;\n    const worldY = (canvas.height - y) * mapData.info.resolution + mapData.info.origin.position.y;\n\n    setNavigationGoal(worldX, worldY);\n  };\n\n  // 滑鼠滾輪縮放處理 - 修復版本\n  const handleMapWheel = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    \n    const delta = event.deltaY > 0 ? 0.9 : 1.1;\n    const newZoom = Math.max(0.5, Math.min(5.0, mapZoom * delta));\n    setMapZoom(newZoom);\n    \n    // 重新繪製地圖\n    if (mapData) {\n      setTimeout(() => drawMap(mapData), 10);\n    }\n  };\n\n  // 滑鼠拖拽處理\n  const handleMapMouseDown = (event) => {\n    setIsDragging(true);\n    setLastMousePos({ x: event.clientX, y: event.clientY });\n  };\n\n  const handleMapMouseMove = (event) => {\n    if (!isDragging) return;\n    \n    const deltaX = event.clientX - lastMousePos.x;\n    const deltaY = event.clientY - lastMousePos.y;\n    \n    setMapOffset(prev => ({\n      x: prev.x + deltaX,\n      y: prev.y + deltaY\n    }));\n    \n    setLastMousePos({ x: event.clientX, y: event.clientY });\n    \n    // 重新繪製地圖\n    if (mapData) {\n      drawMap(mapData);\n    }\n  };\n\n  const handleMapMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  // 重置地圖視圖\n  const resetMapView = () => {\n    setMapZoom(1.0);\n    setMapOffset({ x: 0, y: 0 });\n    if (mapData) {\n      setTimeout(() => drawMap(mapData), 10);\n    }\n  };\n\n  const getConnectionStatus = () => {\n    return rosConnected ? 'text-green-400' : 'text-red-400';\n  };\n\n  const getBatteryColor = () => {\n    if (batteryLevel > 60) return 'text-green-400';\n    if (batteryLevel > 30) return 'text-yellow-400';\n    return 'text-red-400';\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* 標題 */}\n        <div className=\"text-center mb-6\">\n          <h1 className=\"text-4xl font-bold text-white mb-2\">TurtleBot3 控制界面</h1>\n          <p className=\"text-gray-300\">ROS Noetic · SLAM · 導航系統</p>\n        </div>\n\n        {/* ROS 連接設定 */}\n        <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-4 mb-6 border border-white/20\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex-1\">\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">ROS Bridge URL</label>\n              <input\n                type=\"text\"\n                value={rosUrl}\n                onChange={(e) => setRosUrl(e.target.value)}\n                className=\"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-gray-400\"\n                placeholder=\"ws://localhost:9090\"\n              />\n            </div>\n            <button\n              onClick={initROS}\n              disabled={rosConnected}\n              className=\"px-6 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n            >\n              {rosConnected ? '已連接' : '連接 ROS'}\n            </button>\n          </div>\n        </div>\n\n        {/* 模式切換 */}\n        <div className=\"flex justify-center gap-2 mb-6\">\n          <button\n            onClick={() => setCurrentMode('teleop')}\n            className={`px-4 py-2 rounded-lg font-medium transition-all ${\n              currentMode === 'teleop' ? 'bg-blue-500 text-white' : 'bg-white/10 text-gray-300'\n            }`}\n          >\n            遙控模式\n          </button>\n          <button\n            onClick={() => setCurrentMode('mapping')}\n            className={`px-4 py-2 rounded-lg font-medium transition-all ${\n              currentMode === 'mapping' ? 'bg-purple-500 text-white' : 'bg-white/10 text-gray-300'\n            }`}\n          >\n            建圖模式\n          </button>\n          <button\n            onClick={() => setCurrentMode('navigation')}\n            className={`px-4 py-2 rounded-lg font-medium transition-all ${\n              currentMode === 'navigation' ? 'bg-green-500 text-white' : 'bg-white/10 text-gray-300'\n            }`}\n          >\n            導航模式\n          </button>\n        </div>\n\n        {/* 狀態概覽 */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n          <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\">\n            <div className=\"flex items-center gap-3\">\n              {rosConnected ? <Wifi className=\"w-8 h-8 text-green-400\" /> : <WifiOff className=\"w-8 h-8 text-red-400\" />}\n              <div>\n                <p className=\"text-sm text-gray-300\">ROS 狀態</p>\n                <p className={`font-semibold ${getConnectionStatus()}`}>{robotStatus}</p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\">\n            <div className=\"flex items-center gap-3\">\n              <Battery className={`w-8 h-8 ${getBatteryColor()}`} />\n              <div>\n                <p className=\"text-sm text-gray-300\">電量</p>\n                <p className={`font-semibold ${getBatteryColor()}`}>{batteryLevel}%</p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\">\n            <div className=\"flex items-center gap-3\">\n              <MapPin className=\"w-8 h-8 text-purple-400\" />\n              <div>\n                <p className=\"text-sm text-gray-300\">位置</p>\n                <p className=\"font-semibold text-purple-400\">\n                  ({currentPose.x}, {currentPose.y})\n                </p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\">\n            <div className=\"flex items-center gap-3\">\n              <Activity className=\"w-8 h-8 text-orange-400\" />\n              <div>\n                <p className=\"text-sm text-gray-300\">速度</p>\n                <p className=\"font-semibold text-orange-400\">{linearVel} m/s</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* 地圖顯示 */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h2 className=\"text-xl font-semibold text-white flex items-center gap-2\">\n                  <MapPin className=\"w-5 h-5\" />\n                  {currentMode === 'mapping' ? 'SLAM 即時建圖' : currentMode === 'navigation' ? '導航地圖' : '機器人地圖'}\n                </h2>\n                <div className=\"text-sm text-gray-300\">\n                  {currentMode === 'navigation' && '點擊地圖設置目標點'}\n                  {currentMode === 'mapping' && (isMappingActive ? '即時建圖中...' : '準備開始建圖')}\n                  {currentMode === 'teleop' && '遙控模式'}\n                </div>\n              </div>\n              \n              <div className=\"bg-black/30 rounded-lg p-4 relative\">\n                <canvas\n                  ref={mapCanvasRef}\n                  onClick={handleMapClick}\n                  onWheel={handleMapWheel}\n                  onMouseDown={handleMapMouseDown}\n                  onMouseMove={handleMapMouseMove}\n                  onMouseUp={handleMapMouseUp}\n                  onMouseLeave={handleMapMouseUp}\n                  className=\"w-full h-96 bg-gray-800 rounded cursor-move border-2 border-dashed border-gray-600 select-none\"\n                  style={{ \n                    maxWidth: '100%', \n                    height: '400px',\n                    touchAction: 'none' // 防止觸控設備的滾動\n                  }}\n                />\n                \n                {/* 地圖控制按鈕 */}\n                <div className=\"absolute top-4 right-4 flex flex-col gap-2\">\n                  <button\n                    onClick={resetMapView}\n                    className=\"px-3 py-1 bg-blue-500/80 hover:bg-blue-600/80 text-white rounded text-sm transition-all\"\n                    title=\"重置視圖\"\n                  >\n                    🔄 重置\n                  </button>\n                  <div className=\"px-3 py-1 bg-black/60 text-white rounded text-sm\">\n                    {(mapZoom * 100).toFixed(0)}%\n                  </div>\n                </div>\n\n                {!mapData && (\n                  <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n                    <div className=\"text-gray-400 text-center\">\n                      {currentMode === 'mapping' ? (\n                        <>\n                          <MapPin className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\n                          <p className=\"text-lg mb-2\">等待 SLAM 地圖數據...</p>\n                          <p className=\"text-sm\">請先啟動 SLAM 並開始建圖</p>\n                          <div className=\"mt-4 p-3 bg-purple-500/20 rounded-lg\">\n                            <p className=\"text-xs text-purple-200\">\n                              終端執行：roslaunch turtlebot3_slam turtlebot3_slam.launch\n                            </p>\n                          </div>\n                        </>\n                      ) : (\n                        <>\n                          <MapPin className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\n                          <p>等待地圖數據...</p>\n                        </>\n                      )}\n                    </div>\n                  </div>\n                )}\n                \n                {/* 地圖數據載入指示器 */}\n                {currentMode === 'mapping' && isMappingActive && !mapData && (\n                  <div className=\"absolute top-4 left-4\">\n                    <div className=\"flex items-center gap-2 bg-purple-500/80 text-white px-3 py-2 rounded-lg text-sm\">\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                      正在等待地圖數據\n                    </div>\n                  </div>\n                )}\n                \n                {/* 機器人位置指示 */}\n                {mapData && currentPose && (\n                  <div className=\"absolute bottom-4 left-4 bg-blue-500/80 text-white px-3 py-2 rounded-lg text-sm\">\n                    機器人位置: ({currentPose.x}, {currentPose.y})\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"flex justify-between text-xs text-gray-400 mt-2\">\n                <span>🔵 機器人位置 🔴 目標點 🟢 雷射掃描</span>\n                <span>\n                  {currentMode === 'mapping' ? '🗺️ 滾輪縮放 · 拖拽移動' : \n                   currentMode === 'navigation' ? '🎯 點擊設定目標' : '🎮 遙控模式'}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* 控制面板 */}\n          <div className=\"space-y-6\">\n            {/* 遙控模式 */}\n            {currentMode === 'teleop' && (\n              <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\">\n                <h2 className=\"text-xl font-semibold text-white mb-4\">鍵盤控制</h2>\n                \n                <div className=\"grid grid-cols-3 gap-2 max-w-48 mx-auto mb-4\">\n                  <div></div>\n                  <button \n                    onMouseDown={() => moveRobot('forward')}\n                    onMouseUp={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n                  >\n                    <ArrowUp className=\"w-6 h-6 mx-auto\" />\n                  </button>\n                  <div></div>\n                  \n                  <button \n                    onMouseDown={() => moveRobot('left')}\n                    onMouseUp={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n                  >\n                    <ArrowLeft className=\"w-6 h-6 mx-auto\" />\n                  </button>\n                  <button \n                    onClick={stopRobot}\n                    className=\"p-3 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all\"\n                  >\n                    <Square className=\"w-6 h-6 mx-auto\" />\n                  </button>\n                  <button \n                    onMouseDown={() => moveRobot('right')}\n                    onMouseUp={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n                  >\n                    <ArrowRight className=\"w-6 h-6 mx-auto\" />\n                  </button>\n                  \n                  <div></div>\n                  <button \n                    onMouseDown={() => moveRobot('backward')}\n                    onMouseUp={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n                  >\n                    <ArrowDown className=\"w-6 h-6 mx-auto\" />\n                  </button>\n                  <div></div>\n                </div>\n                \n                <div className=\"flex gap-2 mb-4\">\n                  <button \n                    onMouseDown={() => moveRobot('rotate_left')}\n                    onMouseUp={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"flex-1 flex items-center justify-center gap-2 p-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\"\n                  >\n                    <RotateCcw className=\"w-4 h-4\" />\n                    左轉\n                  </button>\n                  <button \n                    onMouseDown={() => moveRobot('rotate_right')}\n                    onMouseUp={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"flex-1 flex items-center justify-center gap-2 p-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\"\n                  >\n                    <RotateCw className=\"w-4 h-4\" />\n                    右轉\n                  </button>\n                </div>\n                \n                <div className=\"space-y-3\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      線速度: {speed} m/s\n                    </label>\n                    <input\n                      type=\"range\"\n                      min=\"0.1\"\n                      max=\"1.0\"\n                      step=\"0.1\"\n                      value={speed}\n                      onChange={(e) => setSpeed(parseFloat(e.target.value))}\n                      className=\"w-full h-2 bg-white/20 rounded-lg appearance-none slider\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      角速度: {angularSpeed} rad/s\n                    </label>\n                    <input\n                      type=\"range\"\n                      min=\"0.1\"\n                      max=\"2.0\"\n                      step=\"0.1\"\n                      value={angularSpeed}\n                      onChange={(e) => setAngularSpeed(parseFloat(e.target.value))}\n                      className=\"w-full h-2 bg-white/20 rounded-lg appearance-none slider\"\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* 建圖模式 */}\n            {currentMode === 'mapping' && (\n              <>\n                {/* SLAM 建圖控制 */}\n                <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 mb-6\">\n                  <h2 className=\"text-xl font-semibold text-white mb-4\">SLAM 建圖</h2>\n                  \n                  <div className=\"space-y-4\">\n                    <button\n                      onClick={toggleMapping}\n                      disabled={!rosConnected}\n                      className={`w-full flex items-center justify-center gap-2 px-4 py-3 ${\n                        isMappingActive ? 'bg-red-500 hover:bg-red-600' : 'bg-purple-500 hover:bg-purple-600'\n                      } disabled:bg-gray-600 text-white rounded-lg font-medium transition-all`}\n                    >\n                      <MapPin className=\"w-5 h-5\" />\n                      {isMappingActive ? '停止建圖' : '開始建圖'}\n                    </button>\n                    \n                    <button\n                      disabled={!rosConnected || !mapData}\n                      className=\"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg font-medium transition-all\"\n                    >\n                      <Save className=\"w-5 h-5\" />\n                      保存地圖\n                    </button>\n                  </div>\n                </div>\n\n                {/* 建圖時的方向控制 */}\n                <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\">\n                  <h2 className=\"text-xl font-semibold text-white mb-4\">建圖控制</h2>\n                  \n                  <div className=\"grid grid-cols-3 gap-2 max-w-48 mx-auto mb-4\">\n                    <div></div>\n                    <button \n                      onMouseDown={() => moveRobot('forward')}\n                      onMouseUp={stopRobot}\n                      disabled={!rosConnected}\n                      className=\"p-3 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n                    >\n                      <ArrowUp className=\"w-6 h-6 mx-auto\" />\n                    </button>\n                    <div></div>\n                    \n                    <button \n                      onMouseDown={() => moveRobot('left')}\n                      onMouseUp={stopRobot}\n                      disabled={!rosConnected}\n                      className=\"p-3 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n                    >\n                      <ArrowLeft className=\"w-6 h-6 mx-auto\" />\n                    </button>\n                    <button \n                      onClick={stopRobot}\n                      className=\"p-3 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all\"\n                    >\n                      <Square className=\"w-6 h-6 mx-auto\" />\n                    </button>\n                    <button \n                      onMouseDown={() => moveRobot('right')}\n                      onMouseUp={stopRobot}\n                      disabled={!rosConnected}\n                      className=\"p-3 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n                    >\n                      <ArrowRight className=\"w-6 h-6 mx-auto\" />\n                    </button>\n                    \n                    <div></div>\n                    <button \n                      onMouseDown={() => moveRobot('backward')}\n                      onMouseUp={stopRobot}\n                      disabled={!rosConnected}\n                      className=\"p-3 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n                    >\n                      <ArrowDown className=\"w-6 h-6 mx-auto\" />\n                    </button>\n                    <div></div>\n                  </div>\n                  \n                  <div className=\"flex gap-2 mb-4\">\n                    <button \n                      onMouseDown={() => moveRobot('rotate_left')}\n                      onMouseUp={stopRobot}\n                      disabled={!rosConnected}\n                      className=\"flex-1 flex items-center justify-center gap-2 p-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\"\n                    >\n                      <RotateCcw className=\"w-4 h-4\" />\n                      左轉\n                    </button>\n                    <button \n                      onMouseDown={() => moveRobot('rotate_right')}\n                      onMouseUp={stopRobot}\n                      disabled={!rosConnected}\n                      className=\"flex-1 flex items-center justify-center gap-2 p-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\"\n                    >\n                      <RotateCw className=\"w-4 h-4\" />\n                      右轉\n                    </button>\n                  </div>\n                  \n                  <div className=\"space-y-3\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                        建圖速度: {speed} m/s\n                      </label>\n                      <input\n                        type=\"range\"\n                        min=\"0.1\"\n                        max=\"0.5\"\n                        step=\"0.1\"\n                        value={speed}\n                        onChange={(e) => setSpeed(parseFloat(e.target.value))}\n                        className=\"w-full h-2 bg-white/20 rounded-lg appearance-none slider\"\n                      />\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                        轉向速度: {angularSpeed} rad/s\n                      </label>\n                      <input\n                        type=\"range\"\n                        min=\"0.2\"\n                        max=\"1.0\"\n                        step=\"0.1\"\n                        value={angularSpeed}\n                        onChange={(e) => setAngularSpeed(parseFloat(e.target.value))}\n                        className=\"w-full h-2 bg-white/20 rounded-lg appearance-none slider\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"mt-4 p-3 bg-purple-500/20 rounded-lg\">\n                    <p className=\"text-sm text-purple-200 mb-2\">\n                      💡 建圖提示：慢慢移動機器人，讓雷射掃描器收集環境數據\n                    </p>\n                    <p className=\"text-xs text-purple-300\">\n                      ⌨️ 鍵盤快捷鍵：W/A/S/D 或方向鍵移動，Q/E 旋轉，空格停止\n                    </p>\n                  </div>\n                </div>\n              </>\n            )}\n\n            {/* 導航模式 */}\n            {currentMode === 'navigation' && (\n              <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\">\n                <h2 className=\"text-xl font-semibold text-white mb-4\">自主導航</h2>\n                \n                <div className=\"space-y-4\">\n                  {goalPose && (\n                    <div className=\"bg-black/20 rounded-lg p-3\">\n                      <p className=\"text-sm text-gray-300\">目標位置:</p>\n                      <p className=\"text-white\">({goalPose.x.toFixed(2)}, {goalPose.y.toFixed(2)})</p>\n                    </div>\n                  )}\n                  \n                  <button\n                    onClick={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-500 hover:bg-red-600 disabled:bg-gray-600 text-white rounded-lg font-medium transition-all\"\n                  >\n                    <Square className=\"w-5 h-5\" />\n                    停止導航\n                  </button>\n                  \n                  <p className=\"text-sm text-gray-300\">\n                    點擊地圖設置導航目標點\n                  </p>\n                </div>\n              </div>\n            )}\n\n            {/* 系統日誌 */}\n            <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\">\n              <h2 className=\"text-xl font-semibold text-white mb-4 flex items-center gap-2\">\n                <Clock className=\"w-5 h-5\" />\n                系統日誌\n              </h2>\n              \n              <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n                {logs.map((log, index) => (\n                  <div key={index} className=\"flex items-start gap-3 text-sm\">\n                    <span className=\"text-gray-400 font-mono text-xs\">{log.time}</span>\n                    {log.type === 'success' && <CheckCircle className=\"w-4 h-4 text-green-400 mt-0.5\" />}\n                    {log.type === 'warning' && <AlertTriangle className=\"w-4 h-4 text-yellow-400 mt-0.5\" />}\n                    {log.type === 'info' && <Zap className=\"w-4 h-4 text-blue-400 mt-0.5\" />}\n                    {log.type === 'error' && <AlertTriangle className=\"w-4 h-4 text-red-400 mt-0.5\" />}\n                    <span className=\"text-gray-300 text-xs\">{log.message}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* 機器人資訊 */}\n            <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\">\n              <h2 className=\"text-xl font-semibold text-white mb-4\">機器人資訊</h2>\n              \n              <div className=\"space-y-3 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-300\">位置 X:</span>\n                  <span className=\"text-white\">{currentPose.x} m</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-300\">位置 Y:</span>\n                  <span className=\"text-white\">{currentPose.y} m</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-300\">方向角:</span>\n                  <span className=\"text-white\">{currentPose.theta}°</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-300\">線速度:</span>\n                  <span className=\"text-white\">{linearVel} m/s</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-300\">角速度:</span>\n                  <span className=\"text-white\">{angularVel} rad/s</span>\n                </div>\n              </div>\n            </div>\n\n            {/* 快速動作 */}\n            <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\">\n              <h2 className=\"text-xl font-semibold text-white mb-4\">快速動作</h2>\n              \n              <div className=\"grid grid-cols-1 gap-2\">\n                <button \n                  onClick={() => setNavigationGoal(0, 0)}\n                  disabled={!rosConnected || currentMode !== 'navigation'}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\"\n                >\n                  <MapPin className=\"w-4 h-4\" />\n                  回到原點\n                </button>\n                <button \n                  onClick={stopRobot}\n                  disabled={!rosConnected}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-red-500 hover:bg-red-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\"\n                >\n                  <Square className=\"w-4 h-4\" />\n                  緊急停止\n                </button>\n                <button \n                  onClick={() => window.open('http://localhost:8080', '_blank')}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm transition-all\"\n                >\n                  <Camera className=\"w-4 h-4\" />\n                  攝影機視圖\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TurtleBotInterface;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SACEC,MAAM,EACNC,OAAO,EACPC,SAAS,EACTC,SAAS,EACTC,UAAU,EACVC,OAAO,EACPC,MAAM,EACNC,MAAM,EACNC,QAAQ,EACRC,GAAG,EACHC,aAAa,EACbC,WAAW,EACXC,KAAK,EACLC,IAAI,EACJC,OAAO,EACPC,IAAI,EACJC,QAAQ,EACRC,SAAS,QACJ,cAAc;;AAErB;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,MAAM,GAAGC,MAAM,CAACD,MAAM,IAAI,CAAC,MAAM;EACrCE,OAAO,CAACC,IAAI,CAAC,mBAAmB,CAAC;EACjC,OAAO;IACLC,GAAG,EAAE,MAAM;MACTC,WAAWA,CAAA,EAAG;QACZ,IAAI,CAACC,WAAW,GAAG,KAAK;MAC1B;MACAC,OAAOA,CAAA,EAAG;QACRL,OAAO,CAACM,GAAG,CAAC,WAAW,CAAC;QACxBC,UAAU,CAAC,MAAM;UACf,IAAI,CAACH,WAAW,GAAG,IAAI;UACvB,IAAI,IAAI,CAACI,YAAY,EAAE,IAAI,CAACA,YAAY,CAAC,CAAC;QAC5C,CAAC,EAAE,IAAI,CAAC;MACV;MACAC,KAAKA,CAAA,EAAG;QACN,IAAI,CAACL,WAAW,GAAG,KAAK;MAC1B;MACAM,EAAEA,CAAA,EAAG,CAAC;IACR,CAAC;IACDC,KAAK,EAAE,MAAM;MACXC,OAAOA,CAAA,EAAG,CAAC;MACXC,SAASA,CAAA,EAAG,CAAC;IACf,CAAC;IACDC,OAAO,EAAE,MAAM;MACbC,WAAWA,CAAA,EAAG,CAAC;IACjB,CAAC;IACDC,OAAO,EAAE,MAAM;MACbb,WAAWA,CAACc,IAAI,EAAE;QAChBC,MAAM,CAACC,MAAM,CAAC,IAAI,EAAEF,IAAI,CAAC;MAC3B;IACF;EACF,CAAC;AACH,CAAC,EAAE,CAAC;AAEJ,MAAMG,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B;EACA,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGlD,QAAQ,CAAC,IAAI,CAAC;EACpC,MAAM,CAACmD,YAAY,EAAEC,eAAe,CAAC,GAAGpD,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACqD,MAAM,EAAEC,SAAS,CAAC,GAAGtD,QAAQ,CAAC,qBAAqB,CAAC;;EAE3D;EACA,MAAM,CAACuD,WAAW,EAAEC,cAAc,CAAC,GAAGxD,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACyD,YAAY,EAAEC,eAAe,CAAC,GAAG1D,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC2D,WAAW,EAAEC,cAAc,CAAC,GAAG5D,QAAQ,CAAC;IAAE6D,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE,CAAC;IAAEC,KAAK,EAAE;EAAE,CAAC,CAAC;EACxE,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGjE,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACkE,UAAU,CAAC,GAAGlE,QAAQ,CAAC,CAAC,CAAC;EAChC,MAAM,CAACmE,KAAK,EAAEC,QAAQ,CAAC,GAAGpE,QAAQ,CAAC,GAAG,CAAC;EACvC,MAAM,CAACqE,YAAY,EAAEC,eAAe,CAAC,GAAGtE,QAAQ,CAAC,GAAG,CAAC;;EAErD;EACA,MAAM,CAACuE,WAAW,EAAEC,cAAc,CAAC,GAAGxE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;EAC1D,MAAM,CAACyE,OAAO,EAAEC,UAAU,CAAC,GAAG1E,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC2E,QAAQ,EAAEC,WAAW,CAAC,GAAG5E,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAAC6E,eAAe,EAAEC,kBAAkB,CAAC,GAAG9E,QAAQ,CAAC,KAAK,CAAC;;EAE7D;EACA,MAAM,CAAC+E,OAAO,EAAEC,UAAU,CAAC,GAAGhF,QAAQ,CAAC,GAAG,CAAC;EAC3C,MAAM,CAACiF,SAAS,EAAEC,YAAY,CAAC,GAAGlF,QAAQ,CAAC;IAAE6D,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;EAC1D,MAAM,CAACqB,UAAU,EAAEC,aAAa,CAAC,GAAGpF,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACqF,YAAY,EAAEC,eAAe,CAAC,GAAGtF,QAAQ,CAAC;IAAE6D,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;;EAEhE;EACA,MAAM,CAACyB,IAAI,EAAEC,OAAO,CAAC,GAAGxF,QAAQ,CAAC,CAC/B;IAAEyF,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,CAAC;IAAEC,IAAI,EAAE,MAAM;IAAEC,OAAO,EAAE;EAAkB,CAAC,CACpF,CAAC;EAEF,MAAMC,YAAY,GAAG5F,MAAM,CAAC,IAAI,CAAC;EACjC,MAAM6F,SAAS,GAAG7F,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM8F,SAAS,GAAG9F,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM+F,UAAU,GAAG/F,MAAM,CAAC,IAAI,CAAC;;EAE/B;EACAD,SAAS,CAAC,MAAM;IACd;IACA,IAAIyB,MAAM,CAACD,MAAM,EAAE;MACjByE,MAAM,CAAC,SAAS,EAAE,cAAc,CAAC;IACnC,CAAC,MAAM;MACLA,MAAM,CAAC,SAAS,EAAE,mBAAmB,CAAC;IACxC;IAEA,MAAMC,eAAe,GAAGA,CAAA,KAAM;MAC5B,IAAI;QACF,MAAMC,WAAW,GAAG,IAAI3E,MAAM,CAACI,GAAG,CAAC;UACjCwE,GAAG,EAAEhD;QACP,CAAC,CAAC;QAEF+C,WAAW,CAAC/D,EAAE,CAAC,YAAY,EAAE,MAAM;UACjCe,eAAe,CAAC,IAAI,CAAC;UACrBI,cAAc,CAAC,KAAK,CAAC;UACrB0C,MAAM,CAAC,SAAS,EAAE,UAAU,CAAC;UAC7BI,cAAc,CAACF,WAAW,CAAC;QAC7B,CAAC,CAAC;QAEFA,WAAW,CAAC/D,EAAE,CAAC,OAAO,EAAGkE,KAAK,IAAK;UACjCnD,eAAe,CAAC,KAAK,CAAC;UACtBI,cAAc,CAAC,MAAM,CAAC;UACtB0C,MAAM,CAAC,OAAO,EAAE,aAAaK,KAAK,EAAE,CAAC;QACvC,CAAC,CAAC;QAEFH,WAAW,CAAC/D,EAAE,CAAC,OAAO,EAAE,MAAM;UAC5Be,eAAe,CAAC,KAAK,CAAC;UACtBI,cAAc,CAAC,MAAM,CAAC;UACtB0C,MAAM,CAAC,SAAS,EAAE,UAAU,CAAC;QAC/B,CAAC,CAAC;QAEF,IAAI,OAAOE,WAAW,CAACpE,OAAO,KAAK,UAAU,EAAE;UAC7CoE,WAAW,CAACpE,OAAO,CAAC,CAAC;QACvB;QAEAkB,MAAM,CAACkD,WAAW,CAAC;MACrB,CAAC,CAAC,OAAOG,KAAK,EAAE;QACdL,MAAM,CAAC,OAAO,EAAE,UAAUK,KAAK,CAACV,OAAO,EAAE,CAAC;MAC5C;IACF,CAAC;IAEDM,eAAe,CAAC,CAAC;IAEjB,OAAO,MAAM;MACX;IAAA,CACD;IACD;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAlG,SAAS,CAAC,MAAM;IACd,MAAMuG,cAAc,GAAIC,KAAK,IAAK;MAChC,IAAI,CAACtD,YAAY,IAAIoB,WAAW,KAAK,SAAS,EAAE;MAEhD,QAAQkC,KAAK,CAACC,GAAG,CAACC,WAAW,CAAC,CAAC;QAC7B,KAAK,GAAG;QACR,KAAK,SAAS;UACZF,KAAK,CAACG,cAAc,CAAC,CAAC;UACtBC,SAAS,CAAC,SAAS,CAAC;UACpB3E,UAAU,CAAC4E,SAAS,EAAE,GAAG,CAAC;UAC1B;QACF,KAAK,GAAG;QACR,KAAK,WAAW;UACdL,KAAK,CAACG,cAAc,CAAC,CAAC;UACtBC,SAAS,CAAC,UAAU,CAAC;UACrB3E,UAAU,CAAC4E,SAAS,EAAE,GAAG,CAAC;UAC1B;QACF,KAAK,GAAG;QACR,KAAK,WAAW;UACdL,KAAK,CAACG,cAAc,CAAC,CAAC;UACtBC,SAAS,CAAC,MAAM,CAAC;UACjB3E,UAAU,CAAC4E,SAAS,EAAE,GAAG,CAAC;UAC1B;QACF,KAAK,GAAG;QACR,KAAK,YAAY;UACfL,KAAK,CAACG,cAAc,CAAC,CAAC;UACtBC,SAAS,CAAC,OAAO,CAAC;UAClB3E,UAAU,CAAC4E,SAAS,EAAE,GAAG,CAAC;UAC1B;QACF,KAAK,GAAG;UACNL,KAAK,CAACG,cAAc,CAAC,CAAC;UACtBC,SAAS,CAAC,aAAa,CAAC;UACxB3E,UAAU,CAAC4E,SAAS,EAAE,GAAG,CAAC;UAC1B;QACF,KAAK,GAAG;UACNL,KAAK,CAACG,cAAc,CAAC,CAAC;UACtBC,SAAS,CAAC,cAAc,CAAC;UACzB3E,UAAU,CAAC4E,SAAS,EAAE,GAAG,CAAC;UAC1B;QACF,KAAK,GAAG;UACNL,KAAK,CAACG,cAAc,CAAC,CAAC;UACtBE,SAAS,CAAC,CAAC;UACX;QACF;UACE;MACJ;IACF,CAAC;IAEDpF,MAAM,CAACqF,gBAAgB,CAAC,SAAS,EAAEP,cAAc,CAAC;IAClD,OAAO,MAAM9E,MAAM,CAACsF,mBAAmB,CAAC,SAAS,EAAER,cAAc,CAAC;EACpE,CAAC,EAAE,CAACrD,YAAY,EAAEoB,WAAW,CAAC,CAAC;EAE/B,MAAM2B,MAAM,GAAGA,CAACN,IAAI,EAAEC,OAAO,KAAK;IAChC,MAAMJ,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,CAAC;IAC5CH,OAAO,CAACyB,IAAI,IAAI,CAAC,GAAGA,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;MAAEzB,IAAI;MAAEG,IAAI;MAAEC;IAAQ,CAAC,CAAC,CAAC;EAC/D,CAAC;EAED,MAAMsB,OAAO,GAAGA,CAAA,KAAM;IACpB,IAAI,CAAClE,GAAG,IAAI,CAACA,GAAG,CAAClB,WAAW,EAAE;MAC5B;MACAL,MAAM,CAAC0F,QAAQ,CAACC,MAAM,CAAC,CAAC;IAC1B;EACF,CAAC;EAED,MAAMf,cAAc,GAAIF,WAAW,IAAK;IACtC;IACAL,SAAS,CAACuB,OAAO,GAAG,IAAI7F,MAAM,CAACa,KAAK,CAAC;MACnCW,GAAG,EAAEmD,WAAW;MAChBmB,IAAI,EAAE,UAAU;MAChBC,WAAW,EAAE;IACf,CAAC,CAAC;;IAEF;IACAvB,UAAU,CAACqB,OAAO,GAAG,IAAI7F,MAAM,CAACa,KAAK,CAAC;MACpCW,GAAG,EAAEmD,WAAW;MAChBmB,IAAI,EAAE,OAAO;MACbC,WAAW,EAAE;IACf,CAAC,CAAC;IAEFvB,UAAU,CAACqB,OAAO,CAAC9E,SAAS,CAAEqD,OAAO,IAAK;MACxC,MAAM;QAAE4B,QAAQ;QAAEC;MAAY,CAAC,GAAG7B,OAAO,CAAC8B,IAAI,CAACA,IAAI;MACnD,MAAM;QAAEC;MAAO,CAAC,GAAG/B,OAAO,CAACgC,KAAK,CAACA,KAAK;;MAEtC;MACA,MAAM9D,KAAK,GAAG,CAAC,GAAG+D,IAAI,CAACC,KAAK,CAACL,WAAW,CAACM,CAAC,EAAEN,WAAW,CAACO,CAAC,CAAC;MAE1DrE,cAAc,CAAC;QACbC,CAAC,EAAEqE,UAAU,CAACT,QAAQ,CAAC5D,CAAC,CAACsE,OAAO,CAAC,CAAC,CAAC,CAAC;QACpCrE,CAAC,EAAEoE,UAAU,CAACT,QAAQ,CAAC3D,CAAC,CAACqE,OAAO,CAAC,CAAC,CAAC,CAAC;QACpCpE,KAAK,EAAE,CAACA,KAAK,GAAG,GAAG,GAAG+D,IAAI,CAACM,EAAE,EAAED,OAAO,CAAC,CAAC;MAC1C,CAAC,CAAC;MAEFlE,YAAY,CAAC2D,MAAM,CAAC/D,CAAC,CAACsE,OAAO,CAAC,CAAC,CAAC,CAAC;IACnC,CAAC,CAAC;;IAEF;IACAnC,SAAS,CAACsB,OAAO,GAAG,IAAI7F,MAAM,CAACa,KAAK,CAAC;MACnCW,GAAG,EAAEmD,WAAW;MAChBmB,IAAI,EAAE,MAAM;MACZC,WAAW,EAAE;IACf,CAAC,CAAC;IAEFtB,MAAM,CAAC,MAAM,EAAE,kBAAkB,CAAC;IAElCF,SAAS,CAACsB,OAAO,CAAC9E,SAAS,CAAEqD,OAAO,IAAK;MACvClE,OAAO,CAACM,GAAG,CAAC,aAAa,EAAE;QACzBoG,KAAK,EAAExC,OAAO,CAACyC,IAAI,CAACD,KAAK;QACzBE,MAAM,EAAE1C,OAAO,CAACyC,IAAI,CAACC,MAAM;QAC3BC,UAAU,EAAE3C,OAAO,CAACyC,IAAI,CAACE,UAAU;QACnCC,UAAU,EAAE5C,OAAO,CAACjD,IAAI,GAAGiD,OAAO,CAACjD,IAAI,CAAC8F,MAAM,GAAG;MACnD,CAAC,CAAC;MAEF,IAAI7C,OAAO,CAACjD,IAAI,IAAIiD,OAAO,CAACjD,IAAI,CAAC8F,MAAM,GAAG,CAAC,EAAE;QAC3ChE,UAAU,CAACmB,OAAO,CAAC;QACnB;QACA3D,UAAU,CAAC,MAAMyG,OAAO,CAAC9C,OAAO,CAAC,EAAE,GAAG,CAAC;QACvCK,MAAM,CAAC,SAAS,EAAE,SAASL,OAAO,CAACyC,IAAI,CAACD,KAAK,IAAIxC,OAAO,CAACyC,IAAI,CAACC,MAAM,UAAU1C,OAAO,CAACyC,IAAI,CAACE,UAAU,CAACL,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;MACtH,CAAC,MAAM;QACLjC,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC;MACjC;IACF,CAAC,CAAC;;IAEF;IACA,MAAM0C,iBAAiB,GAAGC,WAAW,CAAC,MAAM;MAC1CnF,eAAe,CAACuD,IAAI,IAAI;QACtB,MAAM6B,QAAQ,GAAGhB,IAAI,CAACiB,GAAG,CAAC,EAAE,EAAE9B,IAAI,GAAG,GAAG,CAAC;QACzC,OAAO6B,QAAQ;MACjB,CAAC,CAAC;IACJ,CAAC,EAAE,KAAK,CAAC;;IAET;IACA1C,WAAW,CAACwC,iBAAiB,GAAGA,iBAAiB;IAEjD1C,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC;EACjC,CAAC;;EAED;EACA,MAAMyC,OAAO,GAAIK,UAAU,IAAK;IAAA,IAAAC,gBAAA,EAAAC,iBAAA;IAC9B,MAAMC,MAAM,GAAGrD,YAAY,CAACwB,OAAO;IACnC,IAAI,CAAC6B,MAAM,IAAI,CAACH,UAAU,EAAE;MAC1BrH,OAAO,CAACM,GAAG,CAAC,mBAAmB,CAAC;MAChC;IACF;IAEAN,OAAO,CAACM,GAAG,CAAC,cAAc,EAAE;MAC1BkH,MAAM,EAAE,CAAC,CAACA,MAAM;MAChB1E,OAAO,EAAE,CAAC,CAACuE,UAAU;MACrBX,KAAK,GAAAY,gBAAA,GAAED,UAAU,CAACV,IAAI,cAAAW,gBAAA,uBAAfA,gBAAA,CAAiBZ,KAAK;MAC7BE,MAAM,GAAAW,iBAAA,GAAEF,UAAU,CAACV,IAAI,cAAAY,iBAAA,uBAAfA,iBAAA,CAAiBX,MAAM;MAC/Ba,IAAI,EAAErE;IACR,CAAC,CAAC;IAEF,MAAMsE,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IACnC,MAAM;MAAEjB,KAAK;MAAEE,MAAM;MAAEC,UAAU;MAAEe;IAAO,CAAC,GAAGP,UAAU,CAACV,IAAI;IAC7D,MAAM;MAAE1F;IAAK,CAAC,GAAGoG,UAAU;IAE3B,IAAI,CAACpG,IAAI,IAAIA,IAAI,CAAC8F,MAAM,KAAK,CAAC,EAAE;MAC9B/G,OAAO,CAACM,GAAG,CAAC,UAAU,CAAC;MACvB;IACF;;IAEA;IACA,MAAMuH,YAAY,GAAGL,MAAM,CAACM,WAAW,IAAI,GAAG;IAC9C,MAAMC,aAAa,GAAGP,MAAM,CAACQ,YAAY,IAAI,GAAG;IAChDR,MAAM,CAACd,KAAK,GAAGmB,YAAY;IAC3BL,MAAM,CAACZ,MAAM,GAAGmB,aAAa;;IAE7B;IACAL,GAAG,CAACO,SAAS,GAAG,SAAS,CAAC,CAAC;IAC3BP,GAAG,CAACQ,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAEL,YAAY,EAAEE,aAAa,CAAC;;IAE/C;IACA,MAAMI,UAAU,GAAGN,YAAY,GAAGnB,KAAK;IACvC,MAAM0B,UAAU,GAAGL,aAAa,GAAGnB,MAAM;IACzC,MAAMyB,SAAS,GAAGlC,IAAI,CAACmC,GAAG,CAACH,UAAU,EAAEC,UAAU,CAAC,GAAG,GAAG;;IAExD;IACA,MAAMG,UAAU,GAAGF,SAAS,GAAGjF,OAAO;;IAEtC;IACA,MAAMoF,OAAO,GAAGX,YAAY,GAAG,CAAC;IAChC,MAAMY,OAAO,GAAGV,aAAa,GAAG,CAAC;IACjC,MAAMW,OAAO,GAAGF,OAAO,GAAI9B,KAAK,GAAG6B,UAAU,GAAI,CAAC,GAAGjF,SAAS,CAACpB,CAAC;IAChE,MAAMyG,OAAO,GAAGF,OAAO,GAAI7B,MAAM,GAAG2B,UAAU,GAAI,CAAC,GAAGjF,SAAS,CAACnB,CAAC;IAEjEnC,OAAO,CAACM,GAAG,CAAC,UAAU,EAAE;MACtBiI,UAAU;MACVG,OAAO;MACPC,OAAO;MACPvF,OAAO;MACPiF;IACF,CAAC,CAAC;;IAEF;IACA,MAAMO,SAAS,GAAGlB,GAAG,CAACmB,eAAe,CAAC1C,IAAI,CAAC2C,IAAI,CAACpC,KAAK,GAAG6B,UAAU,CAAC,EAAEpC,IAAI,CAAC2C,IAAI,CAAClC,MAAM,GAAG2B,UAAU,CAAC,CAAC;IAEpG,KAAK,IAAIpG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyE,MAAM,EAAEzE,CAAC,EAAE,EAAE;MAC/B,KAAK,IAAID,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwE,KAAK,EAAExE,CAAC,EAAE,EAAE;QAC9B,MAAM6G,SAAS,GAAG5G,CAAC,GAAGuE,KAAK,GAAGxE,CAAC;QAC/B,MAAM8G,KAAK,GAAG/H,IAAI,CAAC8H,SAAS,CAAC;QAE7B,IAAIE,KAAK;QACT,IAAID,KAAK,KAAK,CAAC,CAAC,EAAE;UAChBC,KAAK,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;QAChC,CAAC,MAAM,IAAID,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAG,EAAE,EAAE;UACnCC,KAAK,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;QAChC,CAAC,MAAM,IAAID,KAAK,IAAI,EAAE,EAAE;UACtBC,KAAK,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;QAC7B,CAAC,MAAM;UACLA,KAAK,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;QAChC;;QAEA;QACA,MAAMC,OAAO,GAAG/C,IAAI,CAACgD,KAAK,CAACjH,CAAC,GAAGqG,UAAU,CAAC;QAC1C,MAAMa,OAAO,GAAGjD,IAAI,CAACgD,KAAK,CAAChH,CAAC,GAAGoG,UAAU,CAAC;QAE1C,IAAIW,OAAO,GAAGN,SAAS,CAAClC,KAAK,IAAI0C,OAAO,GAAGR,SAAS,CAAChC,MAAM,EAAE;UAC3D,MAAMyC,UAAU,GAAG,CAACD,OAAO,GAAGR,SAAS,CAAClC,KAAK,GAAGwC,OAAO,IAAI,CAAC;UAC5D,IAAIG,UAAU,GAAG,CAAC,GAAGT,SAAS,CAAC3H,IAAI,CAAC8F,MAAM,EAAE;YAC1C6B,SAAS,CAAC3H,IAAI,CAACoI,UAAU,CAAC,GAAGJ,KAAK,CAAC,CAAC,CAAC;YACrCL,SAAS,CAAC3H,IAAI,CAACoI,UAAU,GAAG,CAAC,CAAC,GAAGJ,KAAK,CAAC,CAAC,CAAC;YACzCL,SAAS,CAAC3H,IAAI,CAACoI,UAAU,GAAG,CAAC,CAAC,GAAGJ,KAAK,CAAC,CAAC,CAAC;YACzCL,SAAS,CAAC3H,IAAI,CAACoI,UAAU,GAAG,CAAC,CAAC,GAAGJ,KAAK,CAAC,CAAC,CAAC;UAC3C;QACF;MACF;IACF;;IAEA;IACAvB,GAAG,CAAC4B,YAAY,CAACV,SAAS,EAAEF,OAAO,EAAEC,OAAO,CAAC;;IAE7C;IACA,IAAI3G,WAAW,IAAIA,WAAW,CAACE,CAAC,KAAKqH,SAAS,EAAE;MAC9C;MACA,MAAMC,WAAW,GAAGjD,UAAU,CAACvE,WAAW,CAACE,CAAC,CAAC;MAC7C,MAAMuH,WAAW,GAAGlD,UAAU,CAACvE,WAAW,CAACG,CAAC,CAAC;;MAE7C;MACA,MAAMuH,SAAS,GAAG,CAACF,WAAW,GAAG5B,MAAM,CAAC9B,QAAQ,CAAC5D,CAAC,IAAI2E,UAAU;MAChE,MAAM8C,SAAS,GAAG,CAAC/B,MAAM,CAAC9B,QAAQ,CAAC3D,CAAC,GAAGyE,MAAM,GAAGC,UAAU,GAAG4C,WAAW,IAAI5C,UAAU;;MAEtF;MACA,MAAM+C,aAAa,GAAGlB,OAAO,GAAGgB,SAAS,GAAGnB,UAAU;MACtD,MAAMsB,aAAa,GAAGlB,OAAO,GAAGgB,SAAS,GAAGpB,UAAU;MAEtDvI,OAAO,CAACM,GAAG,CAAC,aAAa,EAAE;QACzBwJ,KAAK,EAAE;UAAE5H,CAAC,EAAEsH,WAAW;UAAErH,CAAC,EAAEsH;QAAY,CAAC;QACzCM,GAAG,EAAE;UAAE7H,CAAC,EAAEwH,SAAS;UAAEvH,CAAC,EAAEwH;QAAU,CAAC;QACnCK,OAAO,EAAE;UAAE9H,CAAC,EAAE0H,aAAa;UAAEzH,CAAC,EAAE0H;QAAc,CAAC;QAC/CjC,MAAM,EAAEA,MAAM,CAAC9B;MACjB,CAAC,CAAC;;MAEF;MACA,IAAI8D,aAAa,IAAI,CAAC,EAAE,IAAIA,aAAa,IAAI/B,YAAY,GAAG,EAAE,IAC1DgC,aAAa,IAAI,CAAC,EAAE,IAAIA,aAAa,IAAI9B,aAAa,GAAG,EAAE,EAAE;QAE/D;QACAL,GAAG,CAACO,SAAS,GAAG,SAAS;QACzBP,GAAG,CAACuC,WAAW,GAAG,SAAS;QAC3BvC,GAAG,CAACwC,SAAS,GAAG,CAAC;QACjBxC,GAAG,CAACyC,SAAS,CAAC,CAAC;QACfzC,GAAG,CAAC0C,GAAG,CAACR,aAAa,EAAEC,aAAa,EAAE,CAAC,GAAGzG,OAAO,EAAE,CAAC,EAAE,CAAC,GAAG+C,IAAI,CAACM,EAAE,CAAC;QAClEiB,GAAG,CAAC2C,IAAI,CAAC,CAAC;QACV3C,GAAG,CAAC4C,MAAM,CAAC,CAAC;;QAEZ;QACA,MAAMlI,KAAK,GAAGmE,UAAU,CAACvE,WAAW,CAACI,KAAK,CAAC,GAAG+D,IAAI,CAACM,EAAE,GAAG,GAAG;QAC3D,MAAM8D,WAAW,GAAG,EAAE,GAAGnH,OAAO;QAChC,MAAMoH,MAAM,GAAGZ,aAAa,GAAGzD,IAAI,CAACsE,GAAG,CAACrI,KAAK,CAAC,GAAGmI,WAAW;QAC5D,MAAMG,MAAM,GAAGb,aAAa,GAAG1D,IAAI,CAACwE,GAAG,CAACvI,KAAK,CAAC,GAAGmI,WAAW;QAE5D7C,GAAG,CAACuC,WAAW,GAAG,SAAS;QAC3BvC,GAAG,CAACwC,SAAS,GAAG,CAAC;QACjBxC,GAAG,CAACyC,SAAS,CAAC,CAAC;QACfzC,GAAG,CAACkD,MAAM,CAAChB,aAAa,EAAEC,aAAa,CAAC;QACxCnC,GAAG,CAACmD,MAAM,CAACL,MAAM,EAAEE,MAAM,CAAC;QAC1BhD,GAAG,CAAC4C,MAAM,CAAC,CAAC;;QAEZ;QACA5C,GAAG,CAACuC,WAAW,GAAG,SAAS;QAC3BvC,GAAG,CAACwC,SAAS,GAAG,CAAC;QACjBxC,GAAG,CAACoD,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACvBpD,GAAG,CAACyC,SAAS,CAAC,CAAC;QACfzC,GAAG,CAAC0C,GAAG,CAACR,aAAa,EAAEC,aAAa,EAAE,EAAE,GAAGzG,OAAO,EAAE,CAAC,EAAE,CAAC,GAAG+C,IAAI,CAACM,EAAE,CAAC;QACnEiB,GAAG,CAAC4C,MAAM,CAAC,CAAC;QACZ5C,GAAG,CAACoD,WAAW,CAAC,EAAE,CAAC;MACrB;IACF;;IAEA;IACA,IAAI9H,QAAQ,EAAE;MACZ,MAAM+H,QAAQ,GAAG,CAAC/H,QAAQ,CAACd,CAAC,GAAG0F,MAAM,CAAC9B,QAAQ,CAAC5D,CAAC,IAAI2E,UAAU;MAC9D,MAAMmE,QAAQ,GAAG,CAACpD,MAAM,CAAC9B,QAAQ,CAAC3D,CAAC,GAAGyE,MAAM,GAAGC,UAAU,GAAG7D,QAAQ,CAACb,CAAC,IAAI0E,UAAU;MAEpF,MAAMoE,YAAY,GAAGvC,OAAO,GAAGqC,QAAQ,GAAGxC,UAAU;MACpD,MAAM2C,YAAY,GAAGvC,OAAO,GAAGqC,QAAQ,GAAGzC,UAAU;MAEpDb,GAAG,CAACO,SAAS,GAAG,SAAS;MACzBP,GAAG,CAACyC,SAAS,CAAC,CAAC;MACfzC,GAAG,CAAC0C,GAAG,CAACa,YAAY,EAAEC,YAAY,EAAE,CAAC,GAAG9H,OAAO,EAAE,CAAC,EAAE,CAAC,GAAG+C,IAAI,CAACM,EAAE,CAAC;MAChEiB,GAAG,CAAC2C,IAAI,CAAC,CAAC;IACZ;;IAEA;IACA3C,GAAG,CAACO,SAAS,GAAG,oBAAoB;IACpCP,GAAG,CAACQ,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,CAAC;IAC9BR,GAAG,CAACO,SAAS,GAAG,OAAO;IACvBP,GAAG,CAACyD,IAAI,GAAG,gBAAgB;IAC3BzD,GAAG,CAAC0D,QAAQ,CAAC,SAAS1E,KAAK,MAAME,MAAM,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;IAClDc,GAAG,CAAC0D,QAAQ,CAAC,QAAQvE,UAAU,CAACL,OAAO,CAAC,CAAC,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE,CAAC;IAC7DkB,GAAG,CAAC0D,QAAQ,CAAC,SAASpJ,WAAW,CAACE,CAAC,KAAKF,WAAW,CAACG,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC;IACjEuF,GAAG,CAAC0D,QAAQ,CAAC,OAAO,CAAChI,OAAO,GAAG,GAAG,EAAEoD,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC;IAE1DxG,OAAO,CAACM,GAAG,CAAC,UAAU,CAAC;EACzB,CAAC;;EAED;EACA,MAAM+K,aAAa,GAAGA,CAACpF,MAAM,EAAEqF,OAAO,KAAK;IACzC,IAAI,CAAC9J,YAAY,IAAI,CAAC4C,SAAS,CAACuB,OAAO,EAAE;IAEzC,MAAMO,KAAK,GAAG,IAAIpG,MAAM,CAACkB,OAAO,CAAC;MAC/BiF,MAAM,EAAE;QAAE/D,CAAC,EAAE+D,MAAM;QAAE9D,CAAC,EAAE,CAAC;QAAEkE,CAAC,EAAE;MAAE,CAAC;MACjCiF,OAAO,EAAE;QAAEpJ,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE,CAAC;QAAEkE,CAAC,EAAEiF;MAAQ;IACpC,CAAC,CAAC;IAEFlH,SAAS,CAACuB,OAAO,CAAC/E,OAAO,CAACsF,KAAK,CAAC;EAClC,CAAC;;EAED;EACA,MAAMf,SAAS,GAAGA,CAAA,KAAM;IACtBkG,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC;IACnB9G,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC;EAC5B,CAAC;;EAED;EACA,MAAMW,SAAS,GAAIqG,SAAS,IAAK;IAC/B,IAAI,CAAC/J,YAAY,EAAE;MACjB+C,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC;MAC3B;IACF;IAEA,IAAI0B,MAAM,GAAG,CAAC;MAAEqF,OAAO,GAAG,CAAC;IAE3B,QAAQC,SAAS;MACf,KAAK,SAAS;QACZtF,MAAM,GAAGzD,KAAK;QACd;MACF,KAAK,UAAU;QACbyD,MAAM,GAAG,CAACzD,KAAK;QACf;MACF,KAAK,MAAM;QACT8I,OAAO,GAAG5I,YAAY;QACtB;MACF,KAAK,OAAO;QACV4I,OAAO,GAAG,CAAC5I,YAAY;QACvB;MACF,KAAK,aAAa;QAChB4I,OAAO,GAAG5I,YAAY;QACtB;MACF,KAAK,cAAc;QACjB4I,OAAO,GAAG,CAAC5I,YAAY;QACvB;MACF;QACE;IACJ;IAEA2I,aAAa,CAACpF,MAAM,EAAEqF,OAAO,CAAC;IAC9B/G,MAAM,CAAC,MAAM,EAAE,aAAa0B,MAAM,SAASqF,OAAO,EAAE,CAAC;EACvD,CAAC;;EAED;EACA,MAAME,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAI,CAAChK,YAAY,EAAE;MACjB+C,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC;MAC3B;IACF;IAEA,IAAIrB,eAAe,EAAE;MACnB;MACA,MAAMuI,cAAc,GAAG,IAAI3L,MAAM,CAACgB,OAAO,CAAC;QACxCQ,GAAG,EAAEA,GAAG;QACRsE,IAAI,EAAE,cAAc;QACpB8F,WAAW,EAAE;MACf,CAAC,CAAC;MAEFD,cAAc,CAAC1K,WAAW,CAAC,IAAIjB,MAAM,CAAC6L,cAAc,CAAC,CAAC,EAAGC,MAAM,IAAK;QAClErH,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC;MAC5B,CAAC,CAAC;MAEFpB,kBAAkB,CAAC,KAAK,CAAC;MACzBtB,cAAc,CAAC,MAAM,CAAC;IACxB,CAAC,MAAM;MACLsB,kBAAkB,CAAC,IAAI,CAAC;MACxBtB,cAAc,CAAC,QAAQ,CAAC;MACxB0C,MAAM,CAAC,MAAM,EAAE,YAAY,CAAC;IAC9B;EACF,CAAC;;EAED;EACA,MAAMsH,iBAAiB,GAAGA,CAAC3J,CAAC,EAAEC,CAAC,KAAK;IAClC,IAAI,CAACX,YAAY,EAAE;MACjB+C,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC;MAC3B;IACF;IAEA,MAAMuH,SAAS,GAAG,IAAIhM,MAAM,CAACa,KAAK,CAAC;MACjCW,GAAG,EAAEA,GAAG;MACRsE,IAAI,EAAE,wBAAwB;MAC9BC,WAAW,EAAE;IACf,CAAC,CAAC;IAEF,MAAMkG,IAAI,GAAG,IAAIjM,MAAM,CAACkB,OAAO,CAAC;MAC9BgL,MAAM,EAAE;QACNC,QAAQ,EAAE,KAAK;QACfC,KAAK,EAAE;UAAEC,GAAG,EAAE,CAAC;UAAEC,IAAI,EAAE;QAAE;MAC3B,CAAC;MACDpG,IAAI,EAAE;QACJF,QAAQ,EAAE;UAAE5D,CAAC,EAAEA,CAAC;UAAEC,CAAC,EAAEA,CAAC;UAAEkE,CAAC,EAAE;QAAE,CAAC;QAC9BN,WAAW,EAAE;UAAE7D,CAAC,EAAE,CAAC;UAAEC,CAAC,EAAE,CAAC;UAAEkE,CAAC,EAAE,CAAC;UAAEC,CAAC,EAAE;QAAE;MACxC;IACF,CAAC,CAAC;IAEFwF,SAAS,CAAClL,OAAO,CAACmL,IAAI,CAAC;IACvB9I,WAAW,CAAC;MAAEf,CAAC;MAAEC;IAAE,CAAC,CAAC;IACrBoC,MAAM,CAAC,MAAM,EAAE,YAAYrC,CAAC,CAACsE,OAAO,CAAC,CAAC,CAAC,KAAKrE,CAAC,CAACqE,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;EAC9D,CAAC;;EAED;EACA,MAAM6F,cAAc,GAAIvH,KAAK,IAAK;IAChC,IAAI,CAAChC,OAAO,IAAIF,WAAW,KAAK,YAAY,EAAE;IAE9C,MAAM4E,MAAM,GAAGrD,YAAY,CAACwB,OAAO;IACnC,MAAM2G,IAAI,GAAG9E,MAAM,CAAC+E,qBAAqB,CAAC,CAAC;IAC3C,MAAMrK,CAAC,GAAG4C,KAAK,CAAC0H,OAAO,GAAGF,IAAI,CAACG,IAAI;IACnC,MAAMtK,CAAC,GAAG2C,KAAK,CAAC4H,OAAO,GAAGJ,IAAI,CAACK,GAAG;;IAElC;IACA,MAAMC,MAAM,GAAG1K,CAAC,GAAGY,OAAO,CAAC6D,IAAI,CAACE,UAAU,GAAG/D,OAAO,CAAC6D,IAAI,CAACiB,MAAM,CAAC9B,QAAQ,CAAC5D,CAAC;IAC3E,MAAM2K,MAAM,GAAG,CAACrF,MAAM,CAACZ,MAAM,GAAGzE,CAAC,IAAIW,OAAO,CAAC6D,IAAI,CAACE,UAAU,GAAG/D,OAAO,CAAC6D,IAAI,CAACiB,MAAM,CAAC9B,QAAQ,CAAC3D,CAAC;IAE7F0J,iBAAiB,CAACe,MAAM,EAAEC,MAAM,CAAC;EACnC,CAAC;;EAED;EACA,MAAMC,cAAc,GAAIhI,KAAK,IAAK;IAChCA,KAAK,CAACG,cAAc,CAAC,CAAC;IACtBH,KAAK,CAACiI,eAAe,CAAC,CAAC;IAEvB,MAAMC,KAAK,GAAGlI,KAAK,CAACmI,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG;IAC1C,MAAMC,OAAO,GAAG/G,IAAI,CAACiB,GAAG,CAAC,GAAG,EAAEjB,IAAI,CAACmC,GAAG,CAAC,GAAG,EAAElF,OAAO,GAAG4J,KAAK,CAAC,CAAC;IAC7D3J,UAAU,CAAC6J,OAAO,CAAC;;IAEnB;IACA,IAAIpK,OAAO,EAAE;MACXvC,UAAU,CAAC,MAAMyG,OAAO,CAAClE,OAAO,CAAC,EAAE,EAAE,CAAC;IACxC;EACF,CAAC;;EAED;EACA,MAAMqK,kBAAkB,GAAIrI,KAAK,IAAK;IACpCrB,aAAa,CAAC,IAAI,CAAC;IACnBE,eAAe,CAAC;MAAEzB,CAAC,EAAE4C,KAAK,CAAC0H,OAAO;MAAErK,CAAC,EAAE2C,KAAK,CAAC4H;IAAQ,CAAC,CAAC;EACzD,CAAC;EAED,MAAMU,kBAAkB,GAAItI,KAAK,IAAK;IACpC,IAAI,CAACtB,UAAU,EAAE;IAEjB,MAAM6J,MAAM,GAAGvI,KAAK,CAAC0H,OAAO,GAAG9I,YAAY,CAACxB,CAAC;IAC7C,MAAM+K,MAAM,GAAGnI,KAAK,CAAC4H,OAAO,GAAGhJ,YAAY,CAACvB,CAAC;IAE7CoB,YAAY,CAAC+B,IAAI,KAAK;MACpBpD,CAAC,EAAEoD,IAAI,CAACpD,CAAC,GAAGmL,MAAM;MAClBlL,CAAC,EAAEmD,IAAI,CAACnD,CAAC,GAAG8K;IACd,CAAC,CAAC,CAAC;IAEHtJ,eAAe,CAAC;MAAEzB,CAAC,EAAE4C,KAAK,CAAC0H,OAAO;MAAErK,CAAC,EAAE2C,KAAK,CAAC4H;IAAQ,CAAC,CAAC;;IAEvD;IACA,IAAI5J,OAAO,EAAE;MACXkE,OAAO,CAAClE,OAAO,CAAC;IAClB;EACF,CAAC;EAED,MAAMwK,gBAAgB,GAAGA,CAAA,KAAM;IAC7B7J,aAAa,CAAC,KAAK,CAAC;EACtB,CAAC;;EAED;EACA,MAAM8J,YAAY,GAAGA,CAAA,KAAM;IACzBlK,UAAU,CAAC,GAAG,CAAC;IACfE,YAAY,CAAC;MAAErB,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAE,CAAC,CAAC;IAC5B,IAAIW,OAAO,EAAE;MACXvC,UAAU,CAAC,MAAMyG,OAAO,CAAClE,OAAO,CAAC,EAAE,EAAE,CAAC;IACxC;EACF,CAAC;EAED,MAAM0K,mBAAmB,GAAGA,CAAA,KAAM;IAChC,OAAOhM,YAAY,GAAG,gBAAgB,GAAG,cAAc;EACzD,CAAC;EAED,MAAMiM,eAAe,GAAGA,CAAA,KAAM;IAC5B,IAAI3L,YAAY,GAAG,EAAE,EAAE,OAAO,gBAAgB;IAC9C,IAAIA,YAAY,GAAG,EAAE,EAAE,OAAO,iBAAiB;IAC/C,OAAO,cAAc;EACvB,CAAC;EAED,oBACEnC,OAAA;IAAK+N,SAAS,EAAC,6EAA6E;IAAAC,QAAA,eAC1FhO,OAAA;MAAK+N,SAAS,EAAC,mBAAmB;MAAAC,QAAA,gBAEhChO,OAAA;QAAK+N,SAAS,EAAC,kBAAkB;QAAAC,QAAA,gBAC/BhO,OAAA;UAAI+N,SAAS,EAAC,oCAAoC;UAAAC,QAAA,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvEpO,OAAA;UAAG+N,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtD,CAAC,eAGNpO,OAAA;QAAK+N,SAAS,EAAC,0EAA0E;QAAAC,QAAA,eACvFhO,OAAA;UAAK+N,SAAS,EAAC,yBAAyB;UAAAC,QAAA,gBACtChO,OAAA;YAAK+N,SAAS,EAAC,QAAQ;YAAAC,QAAA,gBACrBhO,OAAA;cAAO+N,SAAS,EAAC,8CAA8C;cAAAC,QAAA,EAAC;YAAc;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACtFpO,OAAA;cACEsE,IAAI,EAAC,MAAM;cACX+E,KAAK,EAAEtH,MAAO;cACdsM,QAAQ,EAAGC,CAAC,IAAKtM,SAAS,CAACsM,CAAC,CAACC,MAAM,CAAClF,KAAK,CAAE;cAC3C0E,SAAS,EAAC,gGAAgG;cAC1GS,WAAW,EAAC;YAAqB;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eACNpO,OAAA;YACEyO,OAAO,EAAE5I,OAAQ;YACjB6I,QAAQ,EAAE7M,YAAa;YACvBkM,SAAS,EAAC,mGAAmG;YAAAC,QAAA,EAE5GnM,YAAY,GAAG,KAAK,GAAG;UAAQ;YAAAoM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNpO,OAAA;QAAK+N,SAAS,EAAC,gCAAgC;QAAAC,QAAA,gBAC7ChO,OAAA;UACEyO,OAAO,EAAEA,CAAA,KAAMvL,cAAc,CAAC,QAAQ,CAAE;UACxC6K,SAAS,EAAE,mDACT9K,WAAW,KAAK,QAAQ,GAAG,wBAAwB,GAAG,2BAA2B,EAChF;UAAA+K,QAAA,EACJ;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTpO,OAAA;UACEyO,OAAO,EAAEA,CAAA,KAAMvL,cAAc,CAAC,SAAS,CAAE;UACzC6K,SAAS,EAAE,mDACT9K,WAAW,KAAK,SAAS,GAAG,0BAA0B,GAAG,2BAA2B,EACnF;UAAA+K,QAAA,EACJ;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTpO,OAAA;UACEyO,OAAO,EAAEA,CAAA,KAAMvL,cAAc,CAAC,YAAY,CAAE;UAC5C6K,SAAS,EAAE,mDACT9K,WAAW,KAAK,YAAY,GAAG,yBAAyB,GAAG,2BAA2B,EACrF;UAAA+K,QAAA,EACJ;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAGNpO,OAAA;QAAK+N,SAAS,EAAC,4CAA4C;QAAAC,QAAA,gBACzDhO,OAAA;UAAK+N,SAAS,EAAC,oEAAoE;UAAAC,QAAA,eACjFhO,OAAA;YAAK+N,SAAS,EAAC,yBAAyB;YAAAC,QAAA,GACrCnM,YAAY,gBAAG7B,OAAA,CAACN,IAAI;cAACqO,SAAS,EAAC;YAAwB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAAGpO,OAAA,CAACL,OAAO;cAACoO,SAAS,EAAC;YAAsB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC1GpO,OAAA;cAAAgO,QAAA,gBACEhO,OAAA;gBAAG+N,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAC/CpO,OAAA;gBAAG+N,SAAS,EAAE,iBAAiBF,mBAAmB,CAAC,CAAC,EAAG;gBAAAG,QAAA,EAAE/L;cAAW;gBAAAgM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENpO,OAAA;UAAK+N,SAAS,EAAC,oEAAoE;UAAAC,QAAA,eACjFhO,OAAA;YAAK+N,SAAS,EAAC,yBAAyB;YAAAC,QAAA,gBACtChO,OAAA,CAACd,OAAO;cAAC6O,SAAS,EAAE,WAAWD,eAAe,CAAC,CAAC;YAAG;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACtDpO,OAAA;cAAAgO,QAAA,gBACEhO,OAAA;gBAAG+N,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAAE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAC3CpO,OAAA;gBAAG+N,SAAS,EAAE,iBAAiBD,eAAe,CAAC,CAAC,EAAG;gBAAAE,QAAA,GAAE7L,YAAY,EAAC,GAAC;cAAA;gBAAA8L,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENpO,OAAA;UAAK+N,SAAS,EAAC,oEAAoE;UAAAC,QAAA,eACjFhO,OAAA;YAAK+N,SAAS,EAAC,yBAAyB;YAAAC,QAAA,gBACtChO,OAAA,CAACZ,MAAM;cAAC2O,SAAS,EAAC;YAAyB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC9CpO,OAAA;cAAAgO,QAAA,gBACEhO,OAAA;gBAAG+N,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAAE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAC3CpO,OAAA;gBAAG+N,SAAS,EAAC,+BAA+B;gBAAAC,QAAA,GAAC,GAC1C,EAAC3L,WAAW,CAACE,CAAC,EAAC,IAAE,EAACF,WAAW,CAACG,CAAC,EAAC,GACnC;cAAA;gBAAAyL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENpO,OAAA;UAAK+N,SAAS,EAAC,oEAAoE;UAAAC,QAAA,eACjFhO,OAAA;YAAK+N,SAAS,EAAC,yBAAyB;YAAAC,QAAA,gBACtChO,OAAA,CAACX,QAAQ;cAAC0O,SAAS,EAAC;YAAyB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAChDpO,OAAA;cAAAgO,QAAA,gBACEhO,OAAA;gBAAG+N,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAAE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAC3CpO,OAAA;gBAAG+N,SAAS,EAAC,+BAA+B;gBAAAC,QAAA,GAAEtL,SAAS,EAAC,MAAI;cAAA;gBAAAuL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7D,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENpO,OAAA;QAAK+N,SAAS,EAAC,uCAAuC;QAAAC,QAAA,gBAEpDhO,OAAA;UAAK+N,SAAS,EAAC,eAAe;UAAAC,QAAA,eAC5BhO,OAAA;YAAK+N,SAAS,EAAC,qEAAqE;YAAAC,QAAA,gBAClFhO,OAAA;cAAK+N,SAAS,EAAC,wCAAwC;cAAAC,QAAA,gBACrDhO,OAAA;gBAAI+N,SAAS,EAAC,0DAA0D;gBAAAC,QAAA,gBACtEhO,OAAA,CAACZ,MAAM;kBAAC2O,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,EAC7BnL,WAAW,KAAK,SAAS,GAAG,WAAW,GAAGA,WAAW,KAAK,YAAY,GAAG,MAAM,GAAG,OAAO;cAAA;gBAAAgL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxF,CAAC,eACLpO,OAAA;gBAAK+N,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GACnC/K,WAAW,KAAK,YAAY,IAAI,WAAW,EAC3CA,WAAW,KAAK,SAAS,KAAKM,eAAe,GAAG,UAAU,GAAG,QAAQ,CAAC,EACtEN,WAAW,KAAK,QAAQ,IAAI,MAAM;cAAA;gBAAAgL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENpO,OAAA;cAAK+N,SAAS,EAAC,qCAAqC;cAAAC,QAAA,gBAClDhO,OAAA;gBACE2O,GAAG,EAAEnK,YAAa;gBAClBiK,OAAO,EAAE/B,cAAe;gBACxBkC,OAAO,EAAEzB,cAAe;gBACxB0B,WAAW,EAAErB,kBAAmB;gBAChCsB,WAAW,EAAErB,kBAAmB;gBAChCsB,SAAS,EAAEpB,gBAAiB;gBAC5BqB,YAAY,EAAErB,gBAAiB;gBAC/BI,SAAS,EAAC,gGAAgG;gBAC1GkB,KAAK,EAAE;kBACLC,QAAQ,EAAE,MAAM;kBAChBjI,MAAM,EAAE,OAAO;kBACfkI,WAAW,EAAE,MAAM,CAAC;gBACtB;cAAE;gBAAAlB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAGFpO,OAAA;gBAAK+N,SAAS,EAAC,4CAA4C;gBAAAC,QAAA,gBACzDhO,OAAA;kBACEyO,OAAO,EAAEb,YAAa;kBACtBG,SAAS,EAAC,yFAAyF;kBACnGqB,KAAK,EAAC,0BAAM;kBAAApB,QAAA,EACb;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACTpO,OAAA;kBAAK+N,SAAS,EAAC,kDAAkD;kBAAAC,QAAA,GAC9D,CAACvK,OAAO,GAAG,GAAG,EAAEoD,OAAO,CAAC,CAAC,CAAC,EAAC,GAC9B;gBAAA;kBAAAoH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,EAEL,CAACjL,OAAO,iBACPnD,OAAA;gBAAK+N,SAAS,EAAC,4DAA4D;gBAAAC,QAAA,eACzEhO,OAAA;kBAAK+N,SAAS,EAAC,2BAA2B;kBAAAC,QAAA,EACvC/K,WAAW,KAAK,SAAS,gBACxBjD,OAAA,CAAAE,SAAA;oBAAA8N,QAAA,gBACEhO,OAAA,CAACZ,MAAM;sBAAC2O,SAAS,EAAC;oBAAmC;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eACxDpO,OAAA;sBAAG+N,SAAS,EAAC,cAAc;sBAAAC,QAAA,EAAC;oBAAe;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,eAC/CpO,OAAA;sBAAG+N,SAAS,EAAC,SAAS;sBAAAC,QAAA,EAAC;oBAAe;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,eAC1CpO,OAAA;sBAAK+N,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,eACnDhO,OAAA;wBAAG+N,SAAS,EAAC,yBAAyB;wBAAAC,QAAA,EAAC;sBAEvC;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAG;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACD,CAAC;kBAAA,eACN,CAAC,gBAEHpO,OAAA,CAAAE,SAAA;oBAAA8N,QAAA,gBACEhO,OAAA,CAACZ,MAAM;sBAAC2O,SAAS,EAAC;oBAAmC;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eACxDpO,OAAA;sBAAAgO,QAAA,EAAG;oBAAS;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC;kBAAA,eAChB;gBACH;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CACN,EAGAnL,WAAW,KAAK,SAAS,IAAIM,eAAe,IAAI,CAACJ,OAAO,iBACvDnD,OAAA;gBAAK+N,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,eACpChO,OAAA;kBAAK+N,SAAS,EAAC,kFAAkF;kBAAAC,QAAA,gBAC/FhO,OAAA;oBAAK+N,SAAS,EAAC;kBAA2D;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,oDAEnF;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CACN,EAGAjL,OAAO,IAAId,WAAW,iBACrBrC,OAAA;gBAAK+N,SAAS,EAAC,iFAAiF;gBAAAC,QAAA,GAAC,mCACvF,EAAC3L,WAAW,CAACE,CAAC,EAAC,IAAE,EAACF,WAAW,CAACG,CAAC,EAAC,GAC1C;cAAA;gBAAAyL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAENpO,OAAA;cAAK+N,SAAS,EAAC,iDAAiD;cAAAC,QAAA,gBAC9DhO,OAAA;gBAAAgO,QAAA,EAAM;cAAuB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACpCpO,OAAA;gBAAAgO,QAAA,EACG/K,WAAW,KAAK,SAAS,GAAG,iBAAiB,GAC7CA,WAAW,KAAK,YAAY,GAAG,WAAW,GAAG;cAAS;gBAAAgL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNpO,OAAA;UAAK+N,SAAS,EAAC,WAAW;UAAAC,QAAA,GAEvB/K,WAAW,KAAK,QAAQ,iBACvBjD,OAAA;YAAK+N,SAAS,EAAC,qEAAqE;YAAAC,QAAA,gBAClFhO,OAAA;cAAI+N,SAAS,EAAC,uCAAuC;cAAAC,QAAA,EAAC;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAE/DpO,OAAA;cAAK+N,SAAS,EAAC,8CAA8C;cAAAC,QAAA,gBAC3DhO,OAAA;gBAAAiO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAU,CAAC,eACXpO,OAAA;gBACE6O,WAAW,EAAEA,CAAA,KAAMtJ,SAAS,CAAC,SAAS,CAAE;gBACxCwJ,SAAS,EAAEvJ,SAAU;gBACrBkJ,QAAQ,EAAE,CAAC7M,YAAa;gBACxBkM,SAAS,EAAC,6FAA6F;gBAAAC,QAAA,eAEvGhO,OAAA,CAAClB,OAAO;kBAACiP,SAAS,EAAC;gBAAiB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjC,CAAC,eACTpO,OAAA;gBAAAiO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAU,CAAC,eAEXpO,OAAA;gBACE6O,WAAW,EAAEA,CAAA,KAAMtJ,SAAS,CAAC,MAAM,CAAE;gBACrCwJ,SAAS,EAAEvJ,SAAU;gBACrBkJ,QAAQ,EAAE,CAAC7M,YAAa;gBACxBkM,SAAS,EAAC,6FAA6F;gBAAAC,QAAA,eAEvGhO,OAAA,CAAChB,SAAS;kBAAC+O,SAAS,EAAC;gBAAiB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnC,CAAC,eACTpO,OAAA;gBACEyO,OAAO,EAAEjJ,SAAU;gBACnBuI,SAAS,EAAC,sEAAsE;gBAAAC,QAAA,eAEhFhO,OAAA,CAACnB,MAAM;kBAACkP,SAAS,EAAC;gBAAiB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChC,CAAC,eACTpO,OAAA;gBACE6O,WAAW,EAAEA,CAAA,KAAMtJ,SAAS,CAAC,OAAO,CAAE;gBACtCwJ,SAAS,EAAEvJ,SAAU;gBACrBkJ,QAAQ,EAAE,CAAC7M,YAAa;gBACxBkM,SAAS,EAAC,6FAA6F;gBAAAC,QAAA,eAEvGhO,OAAA,CAACf,UAAU;kBAAC8O,SAAS,EAAC;gBAAiB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpC,CAAC,eAETpO,OAAA;gBAAAiO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAU,CAAC,eACXpO,OAAA;gBACE6O,WAAW,EAAEA,CAAA,KAAMtJ,SAAS,CAAC,UAAU,CAAE;gBACzCwJ,SAAS,EAAEvJ,SAAU;gBACrBkJ,QAAQ,EAAE,CAAC7M,YAAa;gBACxBkM,SAAS,EAAC,6FAA6F;gBAAAC,QAAA,eAEvGhO,OAAA,CAACjB,SAAS;kBAACgP,SAAS,EAAC;gBAAiB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnC,CAAC,eACTpO,OAAA;gBAAAiO,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAU,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC,eAENpO,OAAA;cAAK+N,SAAS,EAAC,iBAAiB;cAAAC,QAAA,gBAC9BhO,OAAA;gBACE6O,WAAW,EAAEA,CAAA,KAAMtJ,SAAS,CAAC,aAAa,CAAE;gBAC5CwJ,SAAS,EAAEvJ,SAAU;gBACrBkJ,QAAQ,EAAE,CAAC7M,YAAa;gBACxBkM,SAAS,EAAC,qJAAqJ;gBAAAC,QAAA,gBAE/JhO,OAAA,CAACF,SAAS;kBAACiO,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAEnC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACTpO,OAAA;gBACE6O,WAAW,EAAEA,CAAA,KAAMtJ,SAAS,CAAC,cAAc,CAAE;gBAC7CwJ,SAAS,EAAEvJ,SAAU;gBACrBkJ,QAAQ,EAAE,CAAC7M,YAAa;gBACxBkM,SAAS,EAAC,qJAAqJ;gBAAAC,QAAA,gBAE/JhO,OAAA,CAACH,QAAQ;kBAACkO,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAElC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eAENpO,OAAA;cAAK+N,SAAS,EAAC,WAAW;cAAAC,QAAA,gBACxBhO,OAAA;gBAAAgO,QAAA,gBACEhO,OAAA;kBAAO+N,SAAS,EAAC,8CAA8C;kBAAAC,QAAA,GAAC,sBACzD,EAACnL,KAAK,EAAC,MACd;gBAAA;kBAAAoL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACRpO,OAAA;kBACEsE,IAAI,EAAC,OAAO;kBACZqE,GAAG,EAAC,KAAK;kBACTlB,GAAG,EAAC,KAAK;kBACT4H,IAAI,EAAC,KAAK;kBACVhG,KAAK,EAAExG,KAAM;kBACbwL,QAAQ,EAAGC,CAAC,IAAKxL,QAAQ,CAAC8D,UAAU,CAAC0H,CAAC,CAACC,MAAM,CAAClF,KAAK,CAAC,CAAE;kBACtD0E,SAAS,EAAC;gBAA0D;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACrE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAENpO,OAAA;gBAAAgO,QAAA,gBACEhO,OAAA;kBAAO+N,SAAS,EAAC,8CAA8C;kBAAAC,QAAA,GAAC,sBACzD,EAACjL,YAAY,EAAC,QACrB;gBAAA;kBAAAkL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACRpO,OAAA;kBACEsE,IAAI,EAAC,OAAO;kBACZqE,GAAG,EAAC,KAAK;kBACTlB,GAAG,EAAC,KAAK;kBACT4H,IAAI,EAAC,KAAK;kBACVhG,KAAK,EAAEtG,YAAa;kBACpBsL,QAAQ,EAAGC,CAAC,IAAKtL,eAAe,CAAC4D,UAAU,CAAC0H,CAAC,CAACC,MAAM,CAAClF,KAAK,CAAC,CAAE;kBAC7D0E,SAAS,EAAC;gBAA0D;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACrE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN,EAGAnL,WAAW,KAAK,SAAS,iBACxBjD,OAAA,CAAAE,SAAA;YAAA8N,QAAA,gBAEEhO,OAAA;cAAK+N,SAAS,EAAC,0EAA0E;cAAAC,QAAA,gBACvFhO,OAAA;gBAAI+N,SAAS,EAAC,uCAAuC;gBAAAC,QAAA,EAAC;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAElEpO,OAAA;gBAAK+N,SAAS,EAAC,WAAW;gBAAAC,QAAA,gBACxBhO,OAAA;kBACEyO,OAAO,EAAE5C,aAAc;kBACvB6C,QAAQ,EAAE,CAAC7M,YAAa;kBACxBkM,SAAS,EAAE,2DACTxK,eAAe,GAAG,6BAA6B,GAAG,mCAAmC,wEACd;kBAAAyK,QAAA,gBAEzEhO,OAAA,CAACZ,MAAM;oBAAC2O,SAAS,EAAC;kBAAS;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,EAC7B7K,eAAe,GAAG,MAAM,GAAG,MAAM;gBAAA;kBAAA0K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5B,CAAC,eAETpO,OAAA;kBACE0O,QAAQ,EAAE,CAAC7M,YAAY,IAAI,CAACsB,OAAQ;kBACpC4K,SAAS,EAAC,+JAA+J;kBAAAC,QAAA,gBAEzKhO,OAAA,CAACJ,IAAI;oBAACmO,SAAS,EAAC;kBAAS;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,4BAE9B;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAGNpO,OAAA;cAAK+N,SAAS,EAAC,qEAAqE;cAAAC,QAAA,gBAClFhO,OAAA;gBAAI+N,SAAS,EAAC,uCAAuC;gBAAAC,QAAA,EAAC;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAE/DpO,OAAA;gBAAK+N,SAAS,EAAC,8CAA8C;gBAAAC,QAAA,gBAC3DhO,OAAA;kBAAAiO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAU,CAAC,eACXpO,OAAA;kBACE6O,WAAW,EAAEA,CAAA,KAAMtJ,SAAS,CAAC,SAAS,CAAE;kBACxCwJ,SAAS,EAAEvJ,SAAU;kBACrBkJ,QAAQ,EAAE,CAAC7M,YAAa;kBACxBkM,SAAS,EAAC,iGAAiG;kBAAAC,QAAA,eAE3GhO,OAAA,CAAClB,OAAO;oBAACiP,SAAS,EAAC;kBAAiB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACjC,CAAC,eACTpO,OAAA;kBAAAiO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAU,CAAC,eAEXpO,OAAA;kBACE6O,WAAW,EAAEA,CAAA,KAAMtJ,SAAS,CAAC,MAAM,CAAE;kBACrCwJ,SAAS,EAAEvJ,SAAU;kBACrBkJ,QAAQ,EAAE,CAAC7M,YAAa;kBACxBkM,SAAS,EAAC,iGAAiG;kBAAAC,QAAA,eAE3GhO,OAAA,CAAChB,SAAS;oBAAC+O,SAAS,EAAC;kBAAiB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnC,CAAC,eACTpO,OAAA;kBACEyO,OAAO,EAAEjJ,SAAU;kBACnBuI,SAAS,EAAC,sEAAsE;kBAAAC,QAAA,eAEhFhO,OAAA,CAACnB,MAAM;oBAACkP,SAAS,EAAC;kBAAiB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChC,CAAC,eACTpO,OAAA;kBACE6O,WAAW,EAAEA,CAAA,KAAMtJ,SAAS,CAAC,OAAO,CAAE;kBACtCwJ,SAAS,EAAEvJ,SAAU;kBACrBkJ,QAAQ,EAAE,CAAC7M,YAAa;kBACxBkM,SAAS,EAAC,iGAAiG;kBAAAC,QAAA,eAE3GhO,OAAA,CAACf,UAAU;oBAAC8O,SAAS,EAAC;kBAAiB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACpC,CAAC,eAETpO,OAAA;kBAAAiO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAU,CAAC,eACXpO,OAAA;kBACE6O,WAAW,EAAEA,CAAA,KAAMtJ,SAAS,CAAC,UAAU,CAAE;kBACzCwJ,SAAS,EAAEvJ,SAAU;kBACrBkJ,QAAQ,EAAE,CAAC7M,YAAa;kBACxBkM,SAAS,EAAC,iGAAiG;kBAAAC,QAAA,eAE3GhO,OAAA,CAACjB,SAAS;oBAACgP,SAAS,EAAC;kBAAiB;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnC,CAAC,eACTpO,OAAA;kBAAAiO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAU,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR,CAAC,eAENpO,OAAA;gBAAK+N,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,gBAC9BhO,OAAA;kBACE6O,WAAW,EAAEA,CAAA,KAAMtJ,SAAS,CAAC,aAAa,CAAE;kBAC5CwJ,SAAS,EAAEvJ,SAAU;kBACrBkJ,QAAQ,EAAE,CAAC7M,YAAa;kBACxBkM,SAAS,EAAC,qJAAqJ;kBAAAC,QAAA,gBAE/JhO,OAAA,CAACF,SAAS;oBAACiO,SAAS,EAAC;kBAAS;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,gBAEnC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACTpO,OAAA;kBACE6O,WAAW,EAAEA,CAAA,KAAMtJ,SAAS,CAAC,cAAc,CAAE;kBAC7CwJ,SAAS,EAAEvJ,SAAU;kBACrBkJ,QAAQ,EAAE,CAAC7M,YAAa;kBACxBkM,SAAS,EAAC,qJAAqJ;kBAAAC,QAAA,gBAE/JhO,OAAA,CAACH,QAAQ;oBAACkO,SAAS,EAAC;kBAAS;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,gBAElC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eAENpO,OAAA;gBAAK+N,SAAS,EAAC,WAAW;gBAAAC,QAAA,gBACxBhO,OAAA;kBAAAgO,QAAA,gBACEhO,OAAA;oBAAO+N,SAAS,EAAC,8CAA8C;oBAAAC,QAAA,GAAC,4BACxD,EAACnL,KAAK,EAAC,MACf;kBAAA;oBAAAoL,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACRpO,OAAA;oBACEsE,IAAI,EAAC,OAAO;oBACZqE,GAAG,EAAC,KAAK;oBACTlB,GAAG,EAAC,KAAK;oBACT4H,IAAI,EAAC,KAAK;oBACVhG,KAAK,EAAExG,KAAM;oBACbwL,QAAQ,EAAGC,CAAC,IAAKxL,QAAQ,CAAC8D,UAAU,CAAC0H,CAAC,CAACC,MAAM,CAAClF,KAAK,CAAC,CAAE;oBACtD0E,SAAS,EAAC;kBAA0D;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACrE,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC,eAENpO,OAAA;kBAAAgO,QAAA,gBACEhO,OAAA;oBAAO+N,SAAS,EAAC,8CAA8C;oBAAAC,QAAA,GAAC,4BACxD,EAACjL,YAAY,EAAC,QACtB;kBAAA;oBAAAkL,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACRpO,OAAA;oBACEsE,IAAI,EAAC,OAAO;oBACZqE,GAAG,EAAC,KAAK;oBACTlB,GAAG,EAAC,KAAK;oBACT4H,IAAI,EAAC,KAAK;oBACVhG,KAAK,EAAEtG,YAAa;oBACpBsL,QAAQ,EAAGC,CAAC,IAAKtL,eAAe,CAAC4D,UAAU,CAAC0H,CAAC,CAACC,MAAM,CAAClF,KAAK,CAAC,CAAE;oBAC7D0E,SAAS,EAAC;kBAA0D;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACrE,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAENpO,OAAA;gBAAK+N,SAAS,EAAC,sCAAsC;gBAAAC,QAAA,gBACnDhO,OAAA;kBAAG+N,SAAS,EAAC,8BAA8B;kBAAAC,QAAA,EAAC;gBAE5C;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eACJpO,OAAA;kBAAG+N,SAAS,EAAC,yBAAyB;kBAAAC,QAAA,EAAC;gBAEvC;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA,eACN,CACH,EAGAnL,WAAW,KAAK,YAAY,iBAC3BjD,OAAA;YAAK+N,SAAS,EAAC,qEAAqE;YAAAC,QAAA,gBAClFhO,OAAA;cAAI+N,SAAS,EAAC,uCAAuC;cAAAC,QAAA,EAAC;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAE/DpO,OAAA;cAAK+N,SAAS,EAAC,WAAW;cAAAC,QAAA,GACvB3K,QAAQ,iBACPrD,OAAA;gBAAK+N,SAAS,EAAC,4BAA4B;gBAAAC,QAAA,gBACzChO,OAAA;kBAAG+N,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAC;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eAC9CpO,OAAA;kBAAG+N,SAAS,EAAC,YAAY;kBAAAC,QAAA,GAAC,GAAC,EAAC3K,QAAQ,CAACd,CAAC,CAACsE,OAAO,CAAC,CAAC,CAAC,EAAC,IAAE,EAACxD,QAAQ,CAACb,CAAC,CAACqE,OAAO,CAAC,CAAC,CAAC,EAAC,GAAC;gBAAA;kBAAAoH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7E,CACN,eAEDpO,OAAA;gBACEyO,OAAO,EAAEjJ,SAAU;gBACnBkJ,QAAQ,EAAE,CAAC7M,YAAa;gBACxBkM,SAAS,EAAC,2JAA2J;gBAAAC,QAAA,gBAErKhO,OAAA,CAACnB,MAAM;kBAACkP,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,4BAEhC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAETpO,OAAA;gBAAG+N,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAErC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN,eAGDpO,OAAA;YAAK+N,SAAS,EAAC,qEAAqE;YAAAC,QAAA,gBAClFhO,OAAA;cAAI+N,SAAS,EAAC,+DAA+D;cAAAC,QAAA,gBAC3EhO,OAAA,CAACP,KAAK;gBAACsO,SAAS,EAAC;cAAS;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,4BAE/B;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAELpO,OAAA;cAAK+N,SAAS,EAAC,oCAAoC;cAAAC,QAAA,EAChD/J,IAAI,CAACmG,GAAG,CAAC,CAACzJ,GAAG,EAAE2O,KAAK,kBACnBtP,OAAA;gBAAiB+N,SAAS,EAAC,gCAAgC;gBAAAC,QAAA,gBACzDhO,OAAA;kBAAM+N,SAAS,EAAC,iCAAiC;kBAAAC,QAAA,EAAErN,GAAG,CAACwD;gBAAI;kBAAA8J,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,EAClEzN,GAAG,CAAC2D,IAAI,KAAK,SAAS,iBAAItE,OAAA,CAACR,WAAW;kBAACuO,SAAS,EAAC;gBAA+B;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,EACnFzN,GAAG,CAAC2D,IAAI,KAAK,SAAS,iBAAItE,OAAA,CAACT,aAAa;kBAACwO,SAAS,EAAC;gBAAgC;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,EACtFzN,GAAG,CAAC2D,IAAI,KAAK,MAAM,iBAAItE,OAAA,CAACV,GAAG;kBAACyO,SAAS,EAAC;gBAA8B;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,EACvEzN,GAAG,CAAC2D,IAAI,KAAK,OAAO,iBAAItE,OAAA,CAACT,aAAa;kBAACwO,SAAS,EAAC;gBAA6B;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAClFpO,OAAA;kBAAM+N,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAErN,GAAG,CAAC4D;gBAAO;kBAAA0J,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA,GANpDkB,KAAK;gBAAArB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAOV,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGNpO,OAAA;YAAK+N,SAAS,EAAC,qEAAqE;YAAAC,QAAA,gBAClFhO,OAAA;cAAI+N,SAAS,EAAC,uCAAuC;cAAAC,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAEhEpO,OAAA;cAAK+N,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChChO,OAAA;gBAAK+N,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,gBACnChO,OAAA;kBAAM+N,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAC;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC5CpO,OAAA;kBAAM+N,SAAS,EAAC,YAAY;kBAAAC,QAAA,GAAE3L,WAAW,CAACE,CAAC,EAAC,IAAE;gBAAA;kBAAA0L,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClD,CAAC,eACNpO,OAAA;gBAAK+N,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,gBACnChO,OAAA;kBAAM+N,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAC;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC5CpO,OAAA;kBAAM+N,SAAS,EAAC,YAAY;kBAAAC,QAAA,GAAE3L,WAAW,CAACG,CAAC,EAAC,IAAE;gBAAA;kBAAAyL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClD,CAAC,eACNpO,OAAA;gBAAK+N,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,gBACnChO,OAAA;kBAAM+N,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC3CpO,OAAA;kBAAM+N,SAAS,EAAC,YAAY;kBAAAC,QAAA,GAAE3L,WAAW,CAACI,KAAK,EAAC,MAAC;gBAAA;kBAAAwL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrD,CAAC,eACNpO,OAAA;gBAAK+N,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,gBACnChO,OAAA;kBAAM+N,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC3CpO,OAAA;kBAAM+N,SAAS,EAAC,YAAY;kBAAAC,QAAA,GAAEtL,SAAS,EAAC,MAAI;gBAAA;kBAAAuL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChD,CAAC,eACNpO,OAAA;gBAAK+N,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,gBACnChO,OAAA;kBAAM+N,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAC;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC3CpO,OAAA;kBAAM+N,SAAS,EAAC,YAAY;kBAAAC,QAAA,GAAEpL,UAAU,EAAC,QAAM;gBAAA;kBAAAqL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGNpO,OAAA;YAAK+N,SAAS,EAAC,qEAAqE;YAAAC,QAAA,gBAClFhO,OAAA;cAAI+N,SAAS,EAAC,uCAAuC;cAAAC,QAAA,EAAC;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAE/DpO,OAAA;cAAK+N,SAAS,EAAC,wBAAwB;cAAAC,QAAA,gBACrChO,OAAA;gBACEyO,OAAO,EAAEA,CAAA,KAAMvC,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAE;gBACvCwC,QAAQ,EAAE,CAAC7M,YAAY,IAAIoB,WAAW,KAAK,YAAa;gBACxD8K,SAAS,EAAC,oJAAoJ;gBAAAC,QAAA,gBAE9JhO,OAAA,CAACZ,MAAM;kBAAC2O,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,4BAEhC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACTpO,OAAA;gBACEyO,OAAO,EAAEjJ,SAAU;gBACnBkJ,QAAQ,EAAE,CAAC7M,YAAa;gBACxBkM,SAAS,EAAC,gJAAgJ;gBAAAC,QAAA,gBAE1JhO,OAAA,CAACnB,MAAM;kBAACkP,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,4BAEhC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACTpO,OAAA;gBACEyO,OAAO,EAAEA,CAAA,KAAMrO,MAAM,CAACmP,IAAI,CAAC,uBAAuB,EAAE,QAAQ,CAAE;gBAC9DxB,SAAS,EAAC,iIAAiI;gBAAAC,QAAA,gBAE3IhO,OAAA,CAACb,MAAM;kBAAC4O,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,kCAEhC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC1M,EAAA,CA/oCID,kBAAkB;AAAA+N,EAAA,GAAlB/N,kBAAkB;AAipCxB,eAAeA,kBAAkB;AAAC,IAAA+N,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}