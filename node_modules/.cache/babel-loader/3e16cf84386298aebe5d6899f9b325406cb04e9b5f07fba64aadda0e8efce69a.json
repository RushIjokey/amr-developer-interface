{"ast":null,"code":"var _jsxFileName = \"/home/leo/amr-developer-interface/src/components/AMRDeveloperInterface.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { Square, ArrowUp, ArrowDown, ArrowLeft, ArrowRight, Battery, Camera, MapPin, Activity, Map, Home, Play, Pause, RotateCw, RotateCcw, Wifi, WifiOff, Trash2 } from 'lucide-react';\n\n// å¾žå…¨å±€è®Šé‡ç²å– ROSLIB\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ROSLIB = window.ROSLIB || (() => {\n  console.warn('ROSLIB æœªåŠ è¼‰ï¼Œä½¿ç”¨æ¨¡æ“¬æ¨¡å¼');\n  return {\n    Ros: class {\n      constructor() {\n        this.isConnected = false;\n      }\n      connect() {\n        console.log('æ¨¡æ“¬ ROS é€£æŽ¥');\n        setTimeout(() => {\n          this.isConnected = true;\n          if (this.onConnection) this.onConnection();\n        }, 1000);\n      }\n      close() {\n        this.isConnected = false;\n      }\n      on() {}\n    },\n    Topic: class {\n      publish() {}\n      subscribe() {}\n    },\n    Service: class {\n      callService() {}\n    },\n    Message: class {\n      constructor(data) {\n        Object.assign(this, data);\n      }\n    }\n  };\n})();\nconst TurtleBotInterface = () => {\n  _s();\n  // ROS é€£æŽ¥ç‹€æ…‹\n  const [rosConnected, setRosConnected] = useState(false);\n  const [rosUrl, setRosUrl] = useState('ws://localhost:9090');\n\n  // æ©Ÿå™¨äººç‹€æ…‹\n  const [robotStatus, setRobotStatus] = useState('æœªé€£æŽ¥');\n  const [batteryLevel, setBatteryLevel] = useState(85);\n  const [currentPose, setCurrentPose] = useState({\n    x: 0,\n    y: 0,\n    theta: 0\n  });\n  const [linearVel, setLinearVel] = useState(0);\n  const [angularVel, setAngularVel] = useState(0);\n  const [speed, setSpeed] = useState(0.2);\n  const [angularSpeed, setAngularSpeed] = useState(0.5);\n\n  // åœ°åœ–å’Œå°Žèˆª\n  const [currentMode, setCurrentMode] = useState('teleop');\n  const [mapData, setMapData] = useState(null);\n  const [stations, setStations] = useState([{\n    id: 1,\n    name: 'å……é›»ç«™',\n    x: 50,\n    y: 50,\n    type: 'charging',\n    color: 'bg-green-500'\n  }, {\n    id: 2,\n    name: 'å·¥ä½œç«™A',\n    x: 300,\n    y: 80,\n    type: 'work',\n    color: 'bg-blue-500'\n  }, {\n    id: 3,\n    name: 'å·¥ä½œç«™B',\n    x: 350,\n    y: 200,\n    type: 'work',\n    color: 'bg-blue-500'\n  }]);\n  const [waypoints, setWaypoints] = useState([{\n    id: 1,\n    x: 100,\n    y: 75,\n    order: 1\n  }, {\n    id: 2,\n    x: 250,\n    y: 120,\n    order: 2\n  }, {\n    id: 3,\n    x: 320,\n    y: 180,\n    order: 3\n  }]);\n  const [goalPose, setGoalPose] = useState(null);\n  const [isMappingActive, setIsMappingActive] = useState(false);\n  const [isPatrolling, setIsPatrolling] = useState(false);\n  const [currentWaypointIndex, setCurrentWaypointIndex] = useState(0);\n\n  // åœ°åœ–ç¸®æ”¾å’Œæ‹–æ‹½ç‹€æ…‹\n  const [mapZoom, setMapZoom] = useState(1.0);\n  const [mapOffset, setMapOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [lastMousePos, setLastMousePos] = useState({\n    x: 0,\n    y: 0\n  });\n  const [newStationName, setNewStationName] = useState('');\n\n  // UI ç‹€æ…‹\n  const [logs, setLogs] = useState([{\n    time: new Date().toLocaleTimeString(),\n    type: 'info',\n    message: 'TurtleBot3 ç•Œé¢å•Ÿå‹•'\n  }]);\n  const mapCanvasRef = useRef(null);\n  const cmdVelRef = useRef(null);\n  const mapSubRef = useRef(null);\n  const odomSubRef = useRef(null);\n  const rosRef = useRef(null);\n  const addLog = useCallback((type, message) => {\n    const time = new Date().toLocaleTimeString();\n    setLogs(prev => [...prev.slice(-9), {\n      time,\n      type,\n      message\n    }]);\n\n    // åŒæ™‚å»£æ’­åˆ°å…¶ä»–çª—å£\n    try {\n      localStorage.setItem('amr_log_broadcast', JSON.stringify({\n        time,\n        type,\n        message,\n        timestamp: Date.now()\n      }));\n    } catch (e) {\n      console.log('ç„¡æ³•å»£æ’­æ—¥èªŒ');\n    }\n  }, []);\n\n  // å»£æ’­æ©Ÿå™¨äººç‹€æ…‹åˆ°å…¶ä»–çª—å£\n  const broadcastRobotState = useCallback(() => {\n    try {\n      const robotState = {\n        pose: currentPose,\n        battery: batteryLevel,\n        status: robotStatus,\n        velocities: {\n          linear: linearVel,\n          angular: angularVel\n        },\n        connected: rosConnected,\n        timestamp: Date.now()\n      };\n      localStorage.setItem('amr_robot_state', JSON.stringify(robotState));\n    } catch (e) {\n      console.log('ç„¡æ³•å»£æ’­æ©Ÿå™¨äººç‹€æ…‹');\n    }\n  }, [currentPose, batteryLevel, robotStatus, linearVel, angularVel, rosConnected]);\n\n  // å»£æ’­æ—¥èªŒåˆ°å…¶ä»–çª—å£\n  const broadcastLogs = useCallback(() => {\n    try {\n      localStorage.setItem('amr_logs_state', JSON.stringify({\n        logs: logs,\n        timestamp: Date.now()\n      }));\n    } catch (e) {\n      console.log('ç„¡æ³•å»£æ’­æ—¥èªŒç‹€æ…‹');\n    }\n  }, [logs]);\n\n  // ç•¶ç‹€æ…‹è®ŠåŒ–æ™‚å»£æ’­\n  useEffect(() => {\n    broadcastRobotState();\n  }, [broadcastRobotState]);\n  useEffect(() => {\n    broadcastLogs();\n  }, [broadcastLogs]);\n\n  // ROS è¨­å®šå’Œç¹ªåœ–å‡½æ•¸\n  const setupRosTopics = useCallback(rosInstance => {\n    try {\n      cmdVelRef.current = new ROSLIB.Topic({\n        ros: rosInstance,\n        name: '/cmd_vel',\n        messageType: 'geometry_msgs/Twist'\n      });\n      odomSubRef.current = new ROSLIB.Topic({\n        ros: rosInstance,\n        name: '/odom',\n        messageType: 'nav_msgs/Odometry'\n      });\n      odomSubRef.current.subscribe(message => {\n        const {\n          position,\n          orientation\n        } = message.pose.pose;\n        const {\n          linear,\n          angular\n        } = message.twist.twist;\n        const theta = 2 * Math.atan2(orientation.z, orientation.w);\n        setCurrentPose({\n          x: parseFloat(position.x.toFixed(3)),\n          y: parseFloat(position.y.toFixed(3)),\n          theta: (theta * 180 / Math.PI).toFixed(1)\n        });\n        setLinearVel(linear.x.toFixed(2));\n        setAngularVel(angular.z.toFixed(2));\n      });\n      mapSubRef.current = new ROSLIB.Topic({\n        ros: rosInstance,\n        name: '/map',\n        messageType: 'nav_msgs/OccupancyGrid'\n      });\n      addLog('info', 'æ­£åœ¨è¨‚é–±åœ°åœ–è©±é¡Œ /map...');\n      mapSubRef.current.subscribe(message => {\n        if (message.data && message.data.length > 0) {\n          setMapData(message);\n          setTimeout(() => drawMap(message), 100);\n          addLog('success', `åœ°åœ–æ›´æ–°: ${message.info.width}x${message.info.height}`);\n        }\n      });\n      const batterySimulation = setInterval(() => {\n        setBatteryLevel(prev => Math.max(20, prev - 0.1));\n      }, 10000);\n      rosInstance.batterySimulation = batterySimulation;\n      addLog('success', 'ROS è©±é¡Œè¨­ç½®å®Œæˆ');\n    } catch (error) {\n      addLog('error', `è©±é¡Œè¨­ç½®å¤±æ•—: ${error.message}`);\n    }\n  }, [addLog, drawMap]);\n\n  // ç¹ªè£½åœ°åœ–\n  const drawMap = useCallback(mapMessage => {\n    const canvas = mapCanvasRef.current;\n    if (!canvas || !mapMessage) return;\n    const ctx = canvas.getContext('2d');\n    const {\n      width,\n      height,\n      resolution,\n      origin\n    } = mapMessage.info;\n    const {\n      data\n    } = mapMessage;\n    if (!data || data.length === 0) return;\n    const displayWidth = canvas.clientWidth || 800;\n    const displayHeight = canvas.clientHeight || 400;\n    canvas.width = displayWidth;\n    canvas.height = displayHeight;\n    ctx.fillStyle = '#374151';\n    ctx.fillRect(0, 0, displayWidth, displayHeight);\n    const baseScaleX = displayWidth / width;\n    const baseScaleY = displayHeight / height;\n    const baseScale = Math.min(baseScaleX, baseScaleY) * 0.8;\n    const finalScale = baseScale * mapZoom;\n    const centerX = displayWidth / 2;\n    const centerY = displayHeight / 2;\n    const offsetX = centerX - width * finalScale / 2 + mapOffset.x;\n    const offsetY = centerY - height * finalScale / 2 + mapOffset.y;\n\n    // ç¹ªè£½åœ°åœ–æ•¸æ“š\n    for (let y = 0; y < height; y += 2) {\n      for (let x = 0; x < width; x += 2) {\n        const dataIndex = y * width + x;\n        const value = data[dataIndex];\n        if (value === -1) continue;\n        let color;\n        if (value >= 0 && value < 25) {\n          color = '#ffffff';\n        } else if (value >= 65) {\n          color = '#000000';\n        } else {\n          color = '#d1d5db';\n        }\n        const pixelX = offsetX + x * finalScale;\n        const pixelY = offsetY + y * finalScale;\n        if (pixelX >= 0 && pixelX < displayWidth && pixelY >= 0 && pixelY < displayHeight) {\n          ctx.fillStyle = color;\n          ctx.fillRect(pixelX, pixelY, Math.ceil(finalScale * 2), Math.ceil(finalScale * 2));\n        }\n      }\n    }\n\n    // ç¹ªè£½ç«™é»ž\n    stations.forEach(station => {\n      const stationX = offsetX + station.x * finalScale;\n      const stationY = offsetY + station.y * finalScale;\n      ctx.fillStyle = station.type === 'charging' ? '#22c55e' : '#3b82f6';\n      ctx.beginPath();\n      ctx.arc(stationX, stationY, 8 * mapZoom, 0, 2 * Math.PI);\n      ctx.fill();\n    });\n\n    // ç¹ªè£½èˆªé»žå’Œè·¯å¾‘\n    if (waypoints.length > 1) {\n      ctx.strokeStyle = '#10b981';\n      ctx.lineWidth = 2;\n      ctx.setLineDash([5, 5]);\n      for (let i = 0; i < waypoints.length; i++) {\n        const current = waypoints[i];\n        const next = waypoints[(i + 1) % waypoints.length];\n        const currentX = offsetX + current.x * finalScale;\n        const currentY = offsetY + current.y * finalScale;\n        const nextX = offsetX + next.x * finalScale;\n        const nextY = offsetY + next.y * finalScale;\n        ctx.beginPath();\n        ctx.moveTo(currentX, currentY);\n        ctx.lineTo(nextX, nextY);\n        ctx.stroke();\n      }\n      ctx.setLineDash([]);\n    }\n    waypoints.forEach((waypoint, index) => {\n      const wpX = offsetX + waypoint.x * finalScale;\n      const wpY = offsetY + waypoint.y * finalScale;\n      ctx.fillStyle = index === currentWaypointIndex && isPatrolling ? '#fbbf24' : '#10b981';\n      ctx.beginPath();\n      ctx.arc(wpX, wpY, 6 * mapZoom, 0, 2 * Math.PI);\n      ctx.fill();\n      ctx.fillStyle = 'white';\n      ctx.font = `${10 * mapZoom}px Arial`;\n      ctx.textAlign = 'center';\n      ctx.fillText(waypoint.order.toString(), wpX, wpY + 3);\n    });\n\n    // ç¹ªè£½æ©Ÿå™¨äºº\n    if (currentPose && currentPose.x !== undefined) {\n      const robotWorldX = parseFloat(currentPose.x);\n      const robotWorldY = parseFloat(currentPose.y);\n      const robotMapX = (robotWorldX - origin.position.x) / resolution;\n      const robotMapY = height - (robotWorldY - origin.position.y) / resolution;\n      const robotDisplayX = offsetX + robotMapX * finalScale;\n      const robotDisplayY = offsetY + robotMapY * finalScale;\n      if (robotDisplayX >= -50 && robotDisplayX <= displayWidth + 50 && robotDisplayY >= -50 && robotDisplayY <= displayHeight + 50) {\n        ctx.fillStyle = '#3b82f6';\n        ctx.strokeStyle = '#1e40af';\n        ctx.lineWidth = 2;\n        ctx.beginPath();\n        ctx.arc(robotDisplayX, robotDisplayY, 8 * mapZoom, 0, 2 * Math.PI);\n        ctx.fill();\n        ctx.stroke();\n        const theta = parseFloat(currentPose.theta) * Math.PI / 180;\n        const arrowLength = 20 * mapZoom;\n        const arrowX = robotDisplayX + Math.cos(theta) * arrowLength;\n        const arrowY = robotDisplayY - Math.sin(theta) * arrowLength;\n        ctx.strokeStyle = '#1d4ed8';\n        ctx.lineWidth = 3;\n        ctx.beginPath();\n        ctx.moveTo(robotDisplayX, robotDisplayY);\n        ctx.lineTo(arrowX, arrowY);\n        ctx.stroke();\n        ctx.strokeStyle = '#10b981';\n        ctx.lineWidth = 2;\n        ctx.setLineDash([5, 5]);\n        ctx.beginPath();\n        ctx.arc(robotDisplayX, robotDisplayY, 40 * mapZoom, 0, 2 * Math.PI);\n        ctx.stroke();\n        ctx.setLineDash([]);\n      }\n    }\n\n    // ç¹ªè£½ç›®æ¨™ä½ç½®\n    if (goalPose) {\n      const goalMapX = (goalPose.x - origin.position.x) / resolution;\n      const goalMapY = height - (goalPose.y - origin.position.y) / resolution;\n      const goalDisplayX = offsetX + goalMapX * finalScale;\n      const goalDisplayY = offsetY + goalMapY * finalScale;\n      ctx.fillStyle = '#ef4444';\n      ctx.beginPath();\n      ctx.arc(goalDisplayX, goalDisplayY, 6 * mapZoom, 0, 2 * Math.PI);\n      ctx.fill();\n    }\n  }, [currentPose, goalPose, mapZoom, mapOffset, stations, waypoints, currentWaypointIndex, isPatrolling]);\n\n  // ROS åˆå§‹åŒ– - ä¿®å¾©ç‰ˆæœ¬\n  useEffect(() => {\n    if (window.ROSLIB) {\n      addLog('success', 'ROSLIB å·²æˆåŠŸåŠ è¼‰');\n      console.log('âœ… ROSLIB å·²æˆåŠŸåŠ è¼‰');\n    } else {\n      addLog('warning', 'ROSLIB æœªåŠ è¼‰ï¼Œä½¿ç”¨æ¨¡æ“¬æ¨¡å¼');\n      console.log('âŒ ROSLIB æœªåŠ è¼‰');\n    }\n    let reconnectTimer = null;\n    let isConnecting = false;\n    const initAndSetupROS = () => {\n      if (isConnecting) {\n        console.log('âš ï¸ å·²åœ¨é€£æŽ¥ä¸­ï¼Œè·³éŽé‡è¤‡é€£æŽ¥');\n        return;\n      }\n      try {\n        isConnecting = true;\n        console.log('ðŸ”„ é–‹å§‹åˆå§‹åŒ– ROS é€£æŽ¥...');\n\n        // æ¸…é™¤ä¹‹å‰çš„å®šæ™‚å™¨\n        if (reconnectTimer) {\n          clearTimeout(reconnectTimer);\n        }\n\n        // é—œé–‰èˆŠé€£æŽ¥\n        if (rosRef.current) {\n          try {\n            rosRef.current.close();\n            console.log('ðŸ”’ é—œé–‰èˆŠé€£æŽ¥');\n          } catch (e) {\n            console.log('é—œé–‰èˆŠé€£æŽ¥æ™‚ç™¼ç”ŸéŒ¯èª¤:', e);\n          }\n        }\n        console.log('ðŸŒ å‰µå»ºæ–°çš„ ROS å¯¦ä¾‹:', rosUrl);\n        const rosInstance = new ROSLIB.Ros({\n          url: rosUrl,\n          groovyCompatibility: false\n        });\n        rosInstance.on('connection', () => {\n          isConnecting = false;\n          console.log('âœ… ROS é€£æŽ¥æˆåŠŸ!');\n          setRosConnected(true);\n          setRobotStatus('å·²é€£æŽ¥');\n          addLog('success', 'ROS é€£æŽ¥æˆåŠŸ');\n\n          // å»¶é²è¨­ç½®è©±é¡Œï¼Œç¢ºä¿é€£æŽ¥ç©©å®š\n          setTimeout(() => {\n            console.log('ðŸ”§ é–‹å§‹è¨­ç½® ROS è©±é¡Œ...');\n            setupRosTopics(rosInstance);\n          }, 1000);\n        });\n        rosInstance.on('error', error => {\n          isConnecting = false;\n          console.error('âŒ ROS é€£æŽ¥éŒ¯èª¤:', error);\n          setRosConnected(false);\n          setRobotStatus('é€£æŽ¥éŒ¯èª¤');\n          addLog('error', 'é€£æŽ¥éŒ¯èª¤ï¼Œ5ç§’å¾Œé‡è©¦');\n\n          // å»¶é•·é‡é€£é–“éš”ï¼Œæ¸›å°‘è·³å‹•\n          reconnectTimer = setTimeout(() => {\n            if (!rosRef.current || !rosRef.current.isConnected) {\n              console.log('ðŸ”„ æº–å‚™é‡æ–°é€£æŽ¥...');\n              addLog('info', 'å˜—è©¦é‡æ–°é€£æŽ¥...');\n              initAndSetupROS();\n            }\n          }, 5000);\n        });\n        rosInstance.on('close', () => {\n          isConnecting = false;\n          console.log('âš ï¸ ROS é€£æŽ¥é—œé–‰');\n          setRosConnected(false);\n          setRobotStatus('é€£æŽ¥æ–·é–‹');\n          addLog('warning', 'ROS é€£æŽ¥æ–·é–‹ï¼Œ3ç§’å¾Œé‡é€£');\n\n          // å»¶é•·é‡é€£é–“éš”\n          reconnectTimer = setTimeout(() => {\n            console.log('ðŸ”„ æº–å‚™é‡æ–°é€£æŽ¥...');\n            addLog('info', 'å˜—è©¦é‡æ–°é€£æŽ¥...');\n            initAndSetupROS();\n          }, 3000);\n        });\n        rosRef.current = rosInstance;\n        console.log('ðŸ“ ROS å¯¦ä¾‹å·²ä¿å­˜åˆ° ref');\n      } catch (error) {\n        isConnecting = false;\n        console.error('ðŸ’¥ åˆå§‹åŒ–å¤±æ•—:', error);\n        addLog('error', `åˆå§‹åŒ–å¤±æ•—: ${error.message}`);\n\n        // æ›´é•·çš„é‡è©¦é–“éš”\n        reconnectTimer = setTimeout(() => {\n          console.log('ðŸ”„ é‡è©¦åˆå§‹åŒ–...');\n          addLog('info', 'é‡è©¦åˆå§‹åŒ–...');\n          initAndSetupROS();\n        }, 10000);\n      }\n    };\n\n    // ç«‹å³å˜—è©¦é€£æŽ¥\n    console.log('ðŸš€ å•Ÿå‹• ROS åˆå§‹åŒ–...');\n    initAndSetupROS();\n\n    // æ¸…ç†å‡½æ•¸\n    return () => {\n      console.log('ðŸ§¹ æ¸…ç† ROS é€£æŽ¥...');\n      isConnecting = false;\n      if (reconnectTimer) {\n        clearTimeout(reconnectTimer);\n      }\n      if (rosRef.current) {\n        try {\n          rosRef.current.close();\n        } catch (e) {\n          console.log('æ¸…ç†é€£æŽ¥æ™‚ç™¼ç”ŸéŒ¯èª¤:', e);\n        }\n      }\n    };\n  }, [rosUrl, addLog, setupRosTopics]);\n\n  // æŽ§åˆ¶å‡½æ•¸\n  const publishCmdVel = useCallback((linear, angular) => {\n    if (!rosConnected || !cmdVelRef.current) return;\n    const twist = new ROSLIB.Message({\n      linear: {\n        x: linear,\n        y: 0,\n        z: 0\n      },\n      angular: {\n        x: 0,\n        y: 0,\n        z: angular\n      }\n    });\n    cmdVelRef.current.publish(twist);\n  }, [rosConnected]);\n  const stopRobot = useCallback(() => {\n    publishCmdVel(0, 0);\n    setIsNavigating(false);\n    setIsPatrolling(false);\n    addLog('warning', 'æ©Ÿå™¨äººåœæ­¢');\n  }, [publishCmdVel, addLog]);\n  const moveRobot = useCallback(direction => {\n    if (!rosConnected) {\n      addLog('error', 'è«‹å…ˆé€£æŽ¥ ROS');\n      return;\n    }\n    let linear = 0,\n      angular = 0;\n    switch (direction) {\n      case 'forward':\n        linear = speed;\n        break;\n      case 'backward':\n        linear = -speed;\n        break;\n      case 'left':\n        angular = angularSpeed;\n        break;\n      case 'right':\n        angular = -angularSpeed;\n        break;\n      case 'rotate_left':\n        angular = angularSpeed;\n        break;\n      case 'rotate_right':\n        angular = -angularSpeed;\n        break;\n      default:\n        break;\n    }\n    publishCmdVel(linear, angular);\n    addLog('info', `ç§»å‹•æŒ‡ä»¤: ç·šé€Ÿåº¦=${linear.toFixed(2)}, è§’é€Ÿåº¦=${angular.toFixed(2)}`);\n  }, [rosConnected, speed, angularSpeed, publishCmdVel, addLog]);\n\n  // åœ°åœ–äº¤äº’\n  const handleMapWheel = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    const delta = event.deltaY > 0 ? 0.9 : 1.1;\n    const newZoom = Math.max(0.5, Math.min(5.0, mapZoom * delta));\n    setMapZoom(newZoom);\n    if (mapData) setTimeout(() => drawMap(mapData), 10);\n  };\n  const handleMapMouseDown = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    setIsDragging(true);\n    setLastMousePos({\n      x: event.clientX,\n      y: event.clientY\n    });\n  };\n  const handleMapMouseMove = event => {\n    if (!isDragging) return;\n    const deltaX = event.clientX - lastMousePos.x;\n    const deltaY = event.clientY - lastMousePos.y;\n    setMapOffset(prev => ({\n      x: prev.x + deltaX,\n      y: prev.y + deltaY\n    }));\n    setLastMousePos({\n      x: event.clientX,\n      y: event.clientY\n    });\n    if (mapData) drawMap(mapData);\n  };\n  const handleMapMouseUp = () => {\n    setIsDragging(false);\n  };\n  const resetMapView = () => {\n    setMapZoom(1.0);\n    setMapOffset({\n      x: 0,\n      y: 0\n    });\n    if (mapData) setTimeout(() => drawMap(mapData), 10);\n  };\n\n  // åœ°åœ–é»žæ“Šè™•ç†\n  const handleMapClick = event => {\n    if (!mapData) return;\n    const canvas = mapCanvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n    if (currentMode === 'mapping') {\n      if (newStationName.trim()) {\n        const newStation = {\n          id: Date.now(),\n          name: newStationName,\n          x: x,\n          y: y,\n          type: 'work',\n          color: 'bg-blue-500'\n        };\n        setStations(prev => [...prev, newStation]);\n        setNewStationName('');\n        addLog('success', `æ–°å¢žç«™é»ž: ${newStation.name}`);\n      }\n    } else if (currentMode === 'waypoints') {\n      const newWaypoint = {\n        id: Date.now(),\n        x: x,\n        y: y,\n        order: waypoints.length + 1\n      };\n      setWaypoints(prev => [...prev, newWaypoint]);\n      addLog('success', `æ–°å¢žèˆªé»ž ${newWaypoint.order}`);\n    } else if (currentMode === 'navigation') {\n      const worldX = x * mapData.info.resolution + mapData.info.origin.position.x;\n      const worldY = (canvas.height - y) * mapData.info.resolution + mapData.info.origin.position.y;\n      setGoalPose({\n        x: worldX,\n        y: worldY\n      });\n      addLog('info', `è¨­ç½®å°Žèˆªç›®æ¨™: (${worldX.toFixed(2)}, ${worldY.toFixed(2)})`);\n    }\n  };\n  const initROS = () => {\n    addLog('info', 'é‡æ–°åˆå§‹åŒ– ROS é€£æŽ¥...');\n    setTimeout(() => {\n      window.location.reload();\n    }, 500);\n  };\n  const getBatteryColor = () => {\n    if (batteryLevel > 60) return 'text-green-400';\n    if (batteryLevel > 30) return 'text-yellow-400';\n    return 'text-red-400';\n  };\n  const getStatusColor = () => {\n    if (robotStatus.includes('ç§»å‹•') || robotStatus.includes('å°Žèˆª') || robotStatus.includes('å·¡é‚')) return 'text-blue-400';\n    if (robotStatus.includes('å·²åˆ°é”') || robotStatus.includes('å·²é€£æŽ¥')) return 'text-green-400';\n    if (robotStatus.includes('åœæ­¢') || robotStatus.includes('éŒ¯èª¤')) return 'text-red-400';\n    if (robotStatus.includes('å»ºåœ–')) return 'text-purple-400';\n    return 'text-gray-400';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-6 overflow-hidden\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full max-w-7xl mx-auto flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl font-bold text-white mb-2\",\n          children: \"AMR \\u667A\\u80FD\\u5C0E\\u822A\\u7CFB\\u7D71\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-300\",\n          children: \"\\u5EFA\\u5716 \\xB7 \\u5C0E\\u822A \\xB7 \\u5DE1\\u908F\\u63A7\\u5236\\u53F0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 676,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-4 mb-6 border border-white/20\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-300 mb-2\",\n              children: \"ROS Bridge URL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: rosUrl,\n              onChange: e => setRosUrl(e.target.value),\n              className: \"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-gray-400\",\n              placeholder: \"ws://localhost:9090\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: initROS,\n            disabled: rosConnected,\n            className: \"px-6 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n            children: rosConnected ? 'å·²é€£æŽ¥' : 'é€£æŽ¥ ROS'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.open('/monitor', '_blank'),\n            className: \"px-6 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-all\",\n            children: \"\\u958B\\u555F\\u76E3\\u63A7\\u9801\\u9762\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 699,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center gap-2 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentMode('teleop'),\n          className: `px-4 py-2 rounded-lg font-medium transition-all ${currentMode === 'teleop' ? 'bg-blue-500 text-white' : 'bg-white/10 text-gray-300'}`,\n          children: \"\\u9059\\u63A7\\u6A21\\u5F0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentMode('mapping'),\n          className: `px-4 py-2 rounded-lg font-medium transition-all ${currentMode === 'mapping' ? 'bg-purple-500 text-white' : 'bg-white/10 text-gray-300'}`,\n          children: \"\\u5EFA\\u5716\\u6A21\\u5F0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentMode('waypoints'),\n          className: `px-4 py-2 rounded-lg font-medium transition-all ${currentMode === 'waypoints' ? 'bg-green-500 text-white' : 'bg-white/10 text-gray-300'}`,\n          children: \"\\u822A\\u9EDE\\u6A21\\u5F0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentMode('navigation'),\n          className: `px-4 py-2 rounded-lg font-medium transition-all ${currentMode === 'navigation' ? 'bg-orange-500 text-white' : 'bg-white/10 text-gray-300'}`,\n          children: \"\\u5C0E\\u822A\\u6A21\\u5F0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 709,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [rosConnected ? /*#__PURE__*/_jsxDEV(Wifi, {\n              className: \"w-8 h-8 text-green-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 748,\n              columnNumber: 31\n            }, this) : /*#__PURE__*/_jsxDEV(WifiOff, {\n              className: \"w-8 h-8 text-red-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 748,\n              columnNumber: 77\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-300\",\n                children: \"ROS \\u72C0\\u614B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `font-semibold ${getStatusColor()}`,\n                children: robotStatus\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 751,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(Battery, {\n              className: `w-8 h-8 ${getBatteryColor()}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 758,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-300\",\n                children: \"\\u96FB\\u91CF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 760,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `font-semibold ${getBatteryColor()}`,\n                children: [batteryLevel.toFixed(1), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 761,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 759,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(MapPin, {\n              className: \"w-8 h-8 text-purple-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 768,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-300\",\n                children: \"\\u4F4D\\u7F6E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 770,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-purple-400\",\n                children: [\"(\", currentPose.x, \", \", currentPose.y, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 771,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 769,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 767,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(Activity, {\n              className: \"w-8 h-8 text-orange-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 780,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-300\",\n                children: \"\\u822A\\u9EDE\\u6578\\u91CF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 782,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-orange-400\",\n                children: [waypoints.length, \" \\u500B\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 783,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 779,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 778,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2 flex flex-col min-h-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 flex-1 flex flex-col min-h-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-white flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Map, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 796,\n                  columnNumber: 19\n                }, this), \"\\u667A\\u80FD\\u5730\\u5716\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 795,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: resetMapView,\n                  className: \"px-3 py-1 bg-blue-500/80 hover:bg-blue-600/80 text-white rounded text-sm transition-all\",\n                  title: \"\\u91CD\\u7F6E\\u8996\\u5716\",\n                  children: \"\\uD83D\\uDD04 \\u91CD\\u7F6E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 800,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"px-3 py-1 bg-black/60 text-white rounded text-sm\",\n                  children: [(mapZoom * 100).toFixed(0), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 807,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 794,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 bg-black/30 rounded-lg p-4 relative min-h-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n                ref: mapCanvasRef,\n                onClick: handleMapClick,\n                onWheel: handleMapWheel,\n                onMouseDown: handleMapMouseDown,\n                onMouseMove: handleMapMouseMove,\n                onMouseUp: handleMapMouseUp,\n                onMouseLeave: handleMapMouseUp,\n                className: \"w-full h-full bg-gray-800 rounded cursor-move select-none\",\n                style: {\n                  touchAction: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 17\n              }, this), !mapData && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-400 text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                    className: \"w-12 h-12 mx-auto mb-2 opacity-50\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 829,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-lg mb-2\",\n                    children: \"\\u7B49\\u5F85\\u5730\\u5716\\u6578\\u64DA...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 830,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm\",\n                    children: \"\\u8ACB\\u78BA\\u4FDD SLAM \\u7BC0\\u9EDE\\u6B63\\u5728\\u904B\\u884C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 831,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 828,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 827,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-xs text-gray-400 mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDD35 \\u6A5F\\u5668\\u4EBA \\uD83D\\uDD34 \\u76EE\\u6A19 \\uD83D\\uDFE2 \\u822A\\u9EDE \\uD83C\\uDFE0 \\u5145\\u96FB\\u7AD9 \\uD83D\\uDEA9 \\u5DE5\\u4F5C\\u7AD9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 838,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u6EFE\\u8F2A\\u7E2E\\u653E \\xB7 \\u62D6\\u62FD\\u79FB\\u52D5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 837,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 792,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6 overflow-y-auto\",\n          children: [currentMode === 'teleop' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-white mb-4\",\n              children: \"\\u9375\\u76E4\\u63A7\\u5236\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 849,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-2 max-w-48 mx-auto mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 852,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onMouseDown: () => moveRobot('forward'),\n                onMouseUp: stopRobot,\n                disabled: !rosConnected,\n                className: \"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n                children: /*#__PURE__*/_jsxDEV(ArrowUp, {\n                  className: \"w-6 h-6 mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 859,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 853,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onMouseDown: () => moveRobot('left'),\n                onMouseUp: stopRobot,\n                disabled: !rosConnected,\n                className: \"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n                children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n                  className: \"w-6 h-6 mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 869,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 863,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: stopRobot,\n                className: \"p-3 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all\",\n                children: /*#__PURE__*/_jsxDEV(Square, {\n                  className: \"w-6 h-6 mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 875,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 871,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onMouseDown: () => moveRobot('right'),\n                onMouseUp: stopRobot,\n                disabled: !rosConnected,\n                className: \"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n                children: /*#__PURE__*/_jsxDEV(ArrowRight, {\n                  className: \"w-6 h-6 mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 883,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 877,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 886,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onMouseDown: () => moveRobot('backward'),\n                onMouseUp: stopRobot,\n                disabled: !rosConnected,\n                className: \"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\",\n                children: /*#__PURE__*/_jsxDEV(ArrowDown, {\n                  className: \"w-6 h-6 mx-auto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 893,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 887,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 895,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onMouseDown: () => moveRobot('rotate_left'),\n                onMouseUp: stopRobot,\n                disabled: !rosConnected,\n                className: \"flex-1 flex items-center justify-center gap-2 p-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 905,\n                  columnNumber: 21\n                }, this), \"\\u5DE6\\u8F49\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 899,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onMouseDown: () => moveRobot('rotate_right'),\n                onMouseUp: stopRobot,\n                disabled: !rosConnected,\n                className: \"flex-1 flex items-center justify-center gap-2 p-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(RotateCw, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 914,\n                  columnNumber: 21\n                }, this), \"\\u53F3\\u8F49\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 908,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 898,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-300 mb-2\",\n                  children: [\"\\u7DDA\\u901F\\u5EA6: \", speed.toFixed(1), \" m/s\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 921,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"range\",\n                  min: \"0.1\",\n                  max: \"1.0\",\n                  step: \"0.1\",\n                  value: speed,\n                  onChange: e => setSpeed(parseFloat(e.target.value)),\n                  className: \"w-full h-2 bg-white/20 rounded-lg appearance-none\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 924,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 920,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-300 mb-2\",\n                  children: [\"\\u89D2\\u901F\\u5EA6: \", angularSpeed.toFixed(1), \" rad/s\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 936,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"range\",\n                  min: \"0.1\",\n                  max: \"2.0\",\n                  step: \"0.1\",\n                  value: angularSpeed,\n                  onChange: e => setAngularSpeed(parseFloat(e.target.value)),\n                  className: \"w-full h-2 bg-white/20 rounded-lg appearance-none\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 939,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 935,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 919,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 848,\n            columnNumber: 15\n          }, this), currentMode === 'mapping' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-white mb-4\",\n              children: \"\\u5EFA\\u5716\\u5DE5\\u5177\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 956,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u8F38\\u5165\\u7AD9\\u9EDE\\u540D\\u7A31\",\n                value: newStationName,\n                onChange: e => setNewStationName(e.target.value),\n                className: \"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 959,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-300\",\n                children: \"\\u9EDE\\u64CA\\u5730\\u5716\\u65B0\\u589E\\u7AD9\\u9EDE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 966,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIsMappingActive(!isMappingActive),\n                disabled: !rosConnected,\n                className: `w-full flex items-center justify-center gap-2 px-4 py-3 ${isMappingActive ? 'bg-red-500 hover:bg-red-600' : 'bg-purple-500 hover:bg-purple-600'} disabled:bg-gray-600 text-white rounded-lg font-medium transition-all`,\n                children: [/*#__PURE__*/_jsxDEV(Map, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 975,\n                  columnNumber: 21\n                }, this), isMappingActive ? 'åœæ­¢å»ºåœ–' : 'é–‹å§‹å»ºåœ–']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 968,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 958,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 955,\n            columnNumber: 15\n          }, this), currentMode === 'waypoints' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-white mb-4\",\n              children: \"\\u822A\\u9EDE\\u7BA1\\u7406\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 985,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  if (waypoints.length === 0) {\n                    addLog('error', 'æ²’æœ‰è¨­å®šèˆªé»žï¼Œç„¡æ³•é–‹å§‹å·¡é‚');\n                    return;\n                  }\n                  setIsPatrolling(!isPatrolling);\n                  if (!isPatrolling) {\n                    setCurrentWaypointIndex(0);\n                    addLog('info', 'é–‹å§‹è‡ªå‹•å·¡é‚');\n                  } else {\n                    addLog('info', 'åœæ­¢å·¡é‚');\n                  }\n                },\n                disabled: waypoints.length === 0 || !rosConnected,\n                className: \"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg font-medium transition-all\",\n                children: [isPatrolling ? /*#__PURE__*/_jsxDEV(Pause, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1005,\n                  columnNumber: 37\n                }, this) : /*#__PURE__*/_jsxDEV(Play, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1005,\n                  columnNumber: 69\n                }, this), isPatrolling ? 'åœæ­¢å·¡é‚' : 'é–‹å§‹å·¡é‚']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 988,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-300\",\n                children: \"\\u9EDE\\u64CA\\u5730\\u5716\\u65B0\\u589E\\u822A\\u9EDE\\uFF0C\\u9EDE\\u64CA\\u822A\\u9EDE\\u522A\\u9664\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1008,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 987,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 984,\n            columnNumber: 15\n          }, this), currentMode === 'navigation' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-white mb-4\",\n              children: \"\\u81EA\\u4E3B\\u5C0E\\u822A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1016,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [goalPose && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-black/20 rounded-lg p-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-300\",\n                  children: \"\\u76EE\\u6A19\\u4F4D\\u7F6E:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1021,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-white\",\n                  children: [\"(\", goalPose.x.toFixed(2), \", \", goalPose.y.toFixed(2), \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1022,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1020,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: stopRobot,\n                disabled: !rosConnected,\n                className: \"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-500 hover:bg-red-600 disabled:bg-gray-600 text-white rounded-lg font-medium transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(Square, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1031,\n                  columnNumber: 21\n                }, this), \"\\u505C\\u6B62\\u5C0E\\u822A\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1026,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-300\",\n                children: \"\\u9EDE\\u64CA\\u5730\\u5716\\u8A2D\\u7F6E\\u5C0E\\u822A\\u76EE\\u6A19\\u9EDE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1035,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1018,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1015,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-white mb-4\",\n              children: \"\\u7AD9\\u9EDE\\u7BA1\\u7406\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1044,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2 max-h-40 overflow-y-auto\",\n              children: stations.map(station => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between p-2 bg-white/10 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `w-3 h-3 ${station.color} rounded`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1050,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-white text-sm\",\n                    children: station.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1051,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1049,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    disabled: !rosConnected,\n                    className: \"p-1 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded text-xs transition-all\",\n                    children: \"\\u524D\\u5F80\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1054,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setStations(prev => prev.filter(s => s.id !== station.id)),\n                    className: \"p-1 bg-red-500 hover:bg-red-600 text-white rounded text-xs transition-all\",\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"w-3 h-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1064,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1060,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1053,\n                  columnNumber: 21\n                }, this)]\n              }, station.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1048,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1046,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1043,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold text-white mb-4\",\n              children: \"\\u5FEB\\u901F\\u52D5\\u4F5C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1074,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  const chargingStation = stations.find(s => s.type === 'charging');\n                  if (chargingStation) {\n                    const worldX = chargingStation.x;\n                    const worldY = chargingStation.y;\n                    setGoalPose({\n                      x: worldX,\n                      y: worldY\n                    });\n                    addLog('info', `å°Žèˆªè‡³å……é›»ç«™`);\n                  }\n                },\n                disabled: !rosConnected || !stations.find(s => s.type === 'charging'),\n                className: \"flex items-center justify-center gap-2 px-3 py-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(Home, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1090,\n                  columnNumber: 19\n                }, this), \"\\u56DE\\u5145\\u96FB\\u7AD9\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1077,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: stopRobot,\n                disabled: !rosConnected,\n                className: \"flex items-center justify-center gap-2 px-3 py-2 bg-red-500 hover:bg-red-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(Square, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1098,\n                  columnNumber: 19\n                }, this), \"\\u7DCA\\u6025\\u505C\\u6B62\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1093,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => window.open('http://localhost:8080', '_blank'),\n                className: \"flex items-center justify-center gap-2 px-3 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm transition-all\",\n                children: [/*#__PURE__*/_jsxDEV(Camera, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1105,\n                  columnNumber: 19\n                }, this), \"\\u651D\\u5F71\\u6A5F\\u8996\\u5716\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1101,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1076,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1073,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 790,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 672,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 671,\n    columnNumber: 5\n  }, this);\n};\n_s(TurtleBotInterface, \"BT3TLn+jUUQsNSS/uFGCQNBS6iQ=\");\n_c = TurtleBotInterface;\nexport default TurtleBotInterface;\nvar _c;\n$RefreshReg$(_c, \"TurtleBotInterface\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Square","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Battery","Camera","MapPin","Activity","Map","Home","Play","Pause","RotateCw","RotateCcw","Wifi","WifiOff","Trash2","jsxDEV","_jsxDEV","ROSLIB","window","console","warn","Ros","constructor","isConnected","connect","log","setTimeout","onConnection","close","on","Topic","publish","subscribe","Service","callService","Message","data","Object","assign","TurtleBotInterface","_s","rosConnected","setRosConnected","rosUrl","setRosUrl","robotStatus","setRobotStatus","batteryLevel","setBatteryLevel","currentPose","setCurrentPose","x","y","theta","linearVel","setLinearVel","angularVel","setAngularVel","speed","setSpeed","angularSpeed","setAngularSpeed","currentMode","setCurrentMode","mapData","setMapData","stations","setStations","id","name","type","color","waypoints","setWaypoints","order","goalPose","setGoalPose","isMappingActive","setIsMappingActive","isPatrolling","setIsPatrolling","currentWaypointIndex","setCurrentWaypointIndex","mapZoom","setMapZoom","mapOffset","setMapOffset","isDragging","setIsDragging","lastMousePos","setLastMousePos","newStationName","setNewStationName","logs","setLogs","time","Date","toLocaleTimeString","message","mapCanvasRef","cmdVelRef","mapSubRef","odomSubRef","rosRef","addLog","prev","slice","localStorage","setItem","JSON","stringify","timestamp","now","e","broadcastRobotState","robotState","pose","battery","status","velocities","linear","angular","connected","broadcastLogs","setupRosTopics","rosInstance","current","ros","messageType","position","orientation","twist","Math","atan2","z","w","parseFloat","toFixed","PI","length","drawMap","info","width","height","batterySimulation","setInterval","max","error","mapMessage","canvas","ctx","getContext","resolution","origin","displayWidth","clientWidth","displayHeight","clientHeight","fillStyle","fillRect","baseScaleX","baseScaleY","baseScale","min","finalScale","centerX","centerY","offsetX","offsetY","dataIndex","value","pixelX","pixelY","ceil","forEach","station","stationX","stationY","beginPath","arc","fill","strokeStyle","lineWidth","setLineDash","i","next","currentX","currentY","nextX","nextY","moveTo","lineTo","stroke","waypoint","index","wpX","wpY","font","textAlign","fillText","toString","undefined","robotWorldX","robotWorldY","robotMapX","robotMapY","robotDisplayX","robotDisplayY","arrowLength","arrowX","cos","arrowY","sin","goalMapX","goalMapY","goalDisplayX","goalDisplayY","reconnectTimer","isConnecting","initAndSetupROS","clearTimeout","url","groovyCompatibility","publishCmdVel","stopRobot","setIsNavigating","moveRobot","direction","handleMapWheel","event","preventDefault","stopPropagation","delta","deltaY","newZoom","handleMapMouseDown","clientX","clientY","handleMapMouseMove","deltaX","handleMapMouseUp","resetMapView","handleMapClick","rect","getBoundingClientRect","left","top","trim","newStation","newWaypoint","worldX","worldY","initROS","location","reload","getBatteryColor","getStatusColor","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","target","placeholder","onClick","disabled","open","title","ref","onWheel","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","style","touchAction","step","map","filter","s","chargingStation","find","_c","$RefreshReg$"],"sources":["/home/leo/amr-developer-interface/src/components/AMRDeveloperInterface.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { \n  Square, \n  ArrowUp, \n  ArrowDown, \n  ArrowLeft, \n  ArrowRight,\n  Battery,\n  Camera,\n  MapPin,\n  Activity,\n  Map,\n  Home,\n  Play,\n  Pause,\n  RotateCw,\n  RotateCcw,\n  Wifi,\n  WifiOff,\n  Trash2\n} from 'lucide-react';\n\n// å¾žå…¨å±€è®Šé‡ç²å– ROSLIB\nconst ROSLIB = window.ROSLIB || (() => {\n  console.warn('ROSLIB æœªåŠ è¼‰ï¼Œä½¿ç”¨æ¨¡æ“¬æ¨¡å¼');\n  return {\n    Ros: class {\n      constructor() {\n        this.isConnected = false;\n      }\n      connect() {\n        console.log('æ¨¡æ“¬ ROS é€£æŽ¥');\n        setTimeout(() => {\n          this.isConnected = true;\n          if (this.onConnection) this.onConnection();\n        }, 1000);\n      }\n      close() {\n        this.isConnected = false;\n      }\n      on() {}\n    },\n    Topic: class {\n      publish() {}\n      subscribe() {}\n    },\n    Service: class {\n      callService() {}\n    },\n    Message: class {\n      constructor(data) {\n        Object.assign(this, data);\n      }\n    }\n  };\n})();\n\nconst TurtleBotInterface = () => {\n  // ROS é€£æŽ¥ç‹€æ…‹\n  const [rosConnected, setRosConnected] = useState(false);\n  const [rosUrl, setRosUrl] = useState('ws://localhost:9090');\n  \n  // æ©Ÿå™¨äººç‹€æ…‹\n  const [robotStatus, setRobotStatus] = useState('æœªé€£æŽ¥');\n  const [batteryLevel, setBatteryLevel] = useState(85);\n  const [currentPose, setCurrentPose] = useState({ x: 0, y: 0, theta: 0 });\n  const [linearVel, setLinearVel] = useState(0);\n  const [angularVel, setAngularVel] = useState(0);\n  const [speed, setSpeed] = useState(0.2);\n  const [angularSpeed, setAngularSpeed] = useState(0.5);\n  \n  // åœ°åœ–å’Œå°Žèˆª\n  const [currentMode, setCurrentMode] = useState('teleop');\n  const [mapData, setMapData] = useState(null);\n  const [stations, setStations] = useState([\n    { id: 1, name: 'å……é›»ç«™', x: 50, y: 50, type: 'charging', color: 'bg-green-500' },\n    { id: 2, name: 'å·¥ä½œç«™A', x: 300, y: 80, type: 'work', color: 'bg-blue-500' },\n    { id: 3, name: 'å·¥ä½œç«™B', x: 350, y: 200, type: 'work', color: 'bg-blue-500' }\n  ]);\n  const [waypoints, setWaypoints] = useState([\n    { id: 1, x: 100, y: 75, order: 1 },\n    { id: 2, x: 250, y: 120, order: 2 },\n    { id: 3, x: 320, y: 180, order: 3 }\n  ]);\n  const [goalPose, setGoalPose] = useState(null);\n  const [isMappingActive, setIsMappingActive] = useState(false);\n  const [isPatrolling, setIsPatrolling] = useState(false);\n  const [currentWaypointIndex, setCurrentWaypointIndex] = useState(0);\n  \n  // åœ°åœ–ç¸®æ”¾å’Œæ‹–æ‹½ç‹€æ…‹\n  const [mapZoom, setMapZoom] = useState(1.0);\n  const [mapOffset, setMapOffset] = useState({ x: 0, y: 0 });\n  const [isDragging, setIsDragging] = useState(false);\n  const [lastMousePos, setLastMousePos] = useState({ x: 0, y: 0 });\n  const [newStationName, setNewStationName] = useState('');\n  \n  // UI ç‹€æ…‹\n  const [logs, setLogs] = useState([\n    { time: new Date().toLocaleTimeString(), type: 'info', message: 'TurtleBot3 ç•Œé¢å•Ÿå‹•' }\n  ]);\n  \n  const mapCanvasRef = useRef(null);\n  const cmdVelRef = useRef(null);\n  const mapSubRef = useRef(null);\n  const odomSubRef = useRef(null);\n  const rosRef = useRef(null);\n\n  const addLog = useCallback((type, message) => {\n    const time = new Date().toLocaleTimeString();\n    setLogs(prev => [...prev.slice(-9), { time, type, message }]);\n    \n    // åŒæ™‚å»£æ’­åˆ°å…¶ä»–çª—å£\n    try {\n      localStorage.setItem('amr_log_broadcast', JSON.stringify({\n        time, type, message, timestamp: Date.now()\n      }));\n    } catch (e) {\n      console.log('ç„¡æ³•å»£æ’­æ—¥èªŒ');\n    }\n  }, []);\n\n  // å»£æ’­æ©Ÿå™¨äººç‹€æ…‹åˆ°å…¶ä»–çª—å£\n  const broadcastRobotState = useCallback(() => {\n    try {\n      const robotState = {\n        pose: currentPose,\n        battery: batteryLevel,\n        status: robotStatus,\n        velocities: { linear: linearVel, angular: angularVel },\n        connected: rosConnected,\n        timestamp: Date.now()\n      };\n      localStorage.setItem('amr_robot_state', JSON.stringify(robotState));\n    } catch (e) {\n      console.log('ç„¡æ³•å»£æ’­æ©Ÿå™¨äººç‹€æ…‹');\n    }\n  }, [currentPose, batteryLevel, robotStatus, linearVel, angularVel, rosConnected]);\n\n  // å»£æ’­æ—¥èªŒåˆ°å…¶ä»–çª—å£\n  const broadcastLogs = useCallback(() => {\n    try {\n      localStorage.setItem('amr_logs_state', JSON.stringify({\n        logs: logs,\n        timestamp: Date.now()\n      }));\n    } catch (e) {\n      console.log('ç„¡æ³•å»£æ’­æ—¥èªŒç‹€æ…‹');\n    }\n  }, [logs]);\n\n  // ç•¶ç‹€æ…‹è®ŠåŒ–æ™‚å»£æ’­\n  useEffect(() => {\n    broadcastRobotState();\n  }, [broadcastRobotState]);\n\n  useEffect(() => {\n    broadcastLogs();\n  }, [broadcastLogs]);\n\n  // ROS è¨­å®šå’Œç¹ªåœ–å‡½æ•¸\n  const setupRosTopics = useCallback((rosInstance) => {\n    try {\n      cmdVelRef.current = new ROSLIB.Topic({\n        ros: rosInstance,\n        name: '/cmd_vel',\n        messageType: 'geometry_msgs/Twist'\n      });\n\n      odomSubRef.current = new ROSLIB.Topic({\n        ros: rosInstance,\n        name: '/odom',\n        messageType: 'nav_msgs/Odometry'\n      });\n\n      odomSubRef.current.subscribe((message) => {\n        const { position, orientation } = message.pose.pose;\n        const { linear, angular } = message.twist.twist;\n        \n        const theta = 2 * Math.atan2(orientation.z, orientation.w);\n        \n        setCurrentPose({\n          x: parseFloat(position.x.toFixed(3)),\n          y: parseFloat(position.y.toFixed(3)),\n          theta: (theta * 180 / Math.PI).toFixed(1)\n        });\n        \n        setLinearVel(linear.x.toFixed(2));\n        setAngularVel(angular.z.toFixed(2));\n      });\n\n      mapSubRef.current = new ROSLIB.Topic({\n        ros: rosInstance,\n        name: '/map',\n        messageType: 'nav_msgs/OccupancyGrid'\n      });\n\n      addLog('info', 'æ­£åœ¨è¨‚é–±åœ°åœ–è©±é¡Œ /map...');\n      \n      mapSubRef.current.subscribe((message) => {\n        if (message.data && message.data.length > 0) {\n          setMapData(message);\n          setTimeout(() => drawMap(message), 100);\n          addLog('success', `åœ°åœ–æ›´æ–°: ${message.info.width}x${message.info.height}`);\n        }\n      });\n\n      const batterySimulation = setInterval(() => {\n        setBatteryLevel(prev => Math.max(20, prev - 0.1));\n      }, 10000);\n\n      rosInstance.batterySimulation = batterySimulation;\n      addLog('success', 'ROS è©±é¡Œè¨­ç½®å®Œæˆ');\n    } catch (error) {\n      addLog('error', `è©±é¡Œè¨­ç½®å¤±æ•—: ${error.message}`);\n    }\n  }, [addLog, drawMap]);\n\n  // ç¹ªè£½åœ°åœ–\n  const drawMap = useCallback((mapMessage) => {\n    const canvas = mapCanvasRef.current;\n    if (!canvas || !mapMessage) return;\n\n    const ctx = canvas.getContext('2d');\n    const { width, height, resolution, origin } = mapMessage.info;\n    const { data } = mapMessage;\n    \n    if (!data || data.length === 0) return;\n\n    const displayWidth = canvas.clientWidth || 800;\n    const displayHeight = canvas.clientHeight || 400;\n    canvas.width = displayWidth;\n    canvas.height = displayHeight;\n    \n    ctx.fillStyle = '#374151';\n    ctx.fillRect(0, 0, displayWidth, displayHeight);\n    \n    const baseScaleX = displayWidth / width;\n    const baseScaleY = displayHeight / height;\n    const baseScale = Math.min(baseScaleX, baseScaleY) * 0.8;\n    const finalScale = baseScale * mapZoom;\n    \n    const centerX = displayWidth / 2;\n    const centerY = displayHeight / 2;\n    const offsetX = centerX - (width * finalScale) / 2 + mapOffset.x;\n    const offsetY = centerY - (height * finalScale) / 2 + mapOffset.y;\n    \n    // ç¹ªè£½åœ°åœ–æ•¸æ“š\n    for (let y = 0; y < height; y += 2) {\n      for (let x = 0; x < width; x += 2) {\n        const dataIndex = y * width + x;\n        const value = data[dataIndex];\n        \n        if (value === -1) continue;\n        \n        let color;\n        if (value >= 0 && value < 25) {\n          color = '#ffffff';\n        } else if (value >= 65) {\n          color = '#000000';\n        } else {\n          color = '#d1d5db';\n        }\n        \n        const pixelX = offsetX + x * finalScale;\n        const pixelY = offsetY + y * finalScale;\n        \n        if (pixelX >= 0 && pixelX < displayWidth && pixelY >= 0 && pixelY < displayHeight) {\n          ctx.fillStyle = color;\n          ctx.fillRect(pixelX, pixelY, Math.ceil(finalScale * 2), Math.ceil(finalScale * 2));\n        }\n      }\n    }\n    \n    // ç¹ªè£½ç«™é»ž\n    stations.forEach(station => {\n      const stationX = offsetX + station.x * finalScale;\n      const stationY = offsetY + station.y * finalScale;\n      \n      ctx.fillStyle = station.type === 'charging' ? '#22c55e' : '#3b82f6';\n      ctx.beginPath();\n      ctx.arc(stationX, stationY, 8 * mapZoom, 0, 2 * Math.PI);\n      ctx.fill();\n    });\n    \n    // ç¹ªè£½èˆªé»žå’Œè·¯å¾‘\n    if (waypoints.length > 1) {\n      ctx.strokeStyle = '#10b981';\n      ctx.lineWidth = 2;\n      ctx.setLineDash([5, 5]);\n      \n      for (let i = 0; i < waypoints.length; i++) {\n        const current = waypoints[i];\n        const next = waypoints[(i + 1) % waypoints.length];\n        \n        const currentX = offsetX + current.x * finalScale;\n        const currentY = offsetY + current.y * finalScale;\n        const nextX = offsetX + next.x * finalScale;\n        const nextY = offsetY + next.y * finalScale;\n        \n        ctx.beginPath();\n        ctx.moveTo(currentX, currentY);\n        ctx.lineTo(nextX, nextY);\n        ctx.stroke();\n      }\n      ctx.setLineDash([]);\n    }\n    \n    waypoints.forEach((waypoint, index) => {\n      const wpX = offsetX + waypoint.x * finalScale;\n      const wpY = offsetY + waypoint.y * finalScale;\n      \n      ctx.fillStyle = index === currentWaypointIndex && isPatrolling ? '#fbbf24' : '#10b981';\n      ctx.beginPath();\n      ctx.arc(wpX, wpY, 6 * mapZoom, 0, 2 * Math.PI);\n      ctx.fill();\n      \n      ctx.fillStyle = 'white';\n      ctx.font = `${10 * mapZoom}px Arial`;\n      ctx.textAlign = 'center';\n      ctx.fillText(waypoint.order.toString(), wpX, wpY + 3);\n    });\n    \n    // ç¹ªè£½æ©Ÿå™¨äºº\n    if (currentPose && currentPose.x !== undefined) {\n      const robotWorldX = parseFloat(currentPose.x);\n      const robotWorldY = parseFloat(currentPose.y);\n      \n      const robotMapX = (robotWorldX - origin.position.x) / resolution;\n      const robotMapY = height - (robotWorldY - origin.position.y) / resolution;\n      \n      const robotDisplayX = offsetX + robotMapX * finalScale;\n      const robotDisplayY = offsetY + robotMapY * finalScale;\n      \n      if (robotDisplayX >= -50 && robotDisplayX <= displayWidth + 50 && \n          robotDisplayY >= -50 && robotDisplayY <= displayHeight + 50) {\n        \n        ctx.fillStyle = '#3b82f6';\n        ctx.strokeStyle = '#1e40af';\n        ctx.lineWidth = 2;\n        ctx.beginPath();\n        ctx.arc(robotDisplayX, robotDisplayY, 8 * mapZoom, 0, 2 * Math.PI);\n        ctx.fill();\n        ctx.stroke();\n        \n        const theta = parseFloat(currentPose.theta) * Math.PI / 180;\n        const arrowLength = 20 * mapZoom;\n        const arrowX = robotDisplayX + Math.cos(theta) * arrowLength;\n        const arrowY = robotDisplayY - Math.sin(theta) * arrowLength;\n        \n        ctx.strokeStyle = '#1d4ed8';\n        ctx.lineWidth = 3;\n        ctx.beginPath();\n        ctx.moveTo(robotDisplayX, robotDisplayY);\n        ctx.lineTo(arrowX, arrowY);\n        ctx.stroke();\n        \n        ctx.strokeStyle = '#10b981';\n        ctx.lineWidth = 2;\n        ctx.setLineDash([5, 5]);\n        ctx.beginPath();\n        ctx.arc(robotDisplayX, robotDisplayY, 40 * mapZoom, 0, 2 * Math.PI);\n        ctx.stroke();\n        ctx.setLineDash([]);\n      }\n    }\n    \n    // ç¹ªè£½ç›®æ¨™ä½ç½®\n    if (goalPose) {\n      const goalMapX = (goalPose.x - origin.position.x) / resolution;\n      const goalMapY = height - (goalPose.y - origin.position.y) / resolution;\n      \n      const goalDisplayX = offsetX + goalMapX * finalScale;\n      const goalDisplayY = offsetY + goalMapY * finalScale;\n      \n      ctx.fillStyle = '#ef4444';\n      ctx.beginPath();\n      ctx.arc(goalDisplayX, goalDisplayY, 6 * mapZoom, 0, 2 * Math.PI);\n      ctx.fill();\n    }\n  }, [currentPose, goalPose, mapZoom, mapOffset, stations, waypoints, currentWaypointIndex, isPatrolling]);\n\n  // ROS åˆå§‹åŒ– - ä¿®å¾©ç‰ˆæœ¬\n  useEffect(() => {\n    if (window.ROSLIB) {\n      addLog('success', 'ROSLIB å·²æˆåŠŸåŠ è¼‰');\n      console.log('âœ… ROSLIB å·²æˆåŠŸåŠ è¼‰');\n    } else {\n      addLog('warning', 'ROSLIB æœªåŠ è¼‰ï¼Œä½¿ç”¨æ¨¡æ“¬æ¨¡å¼');\n      console.log('âŒ ROSLIB æœªåŠ è¼‰');\n    }\n    \n    let reconnectTimer = null;\n    let isConnecting = false;\n    \n    const initAndSetupROS = () => {\n      if (isConnecting) {\n        console.log('âš ï¸ å·²åœ¨é€£æŽ¥ä¸­ï¼Œè·³éŽé‡è¤‡é€£æŽ¥');\n        return;\n      }\n      \n      try {\n        isConnecting = true;\n        console.log('ðŸ”„ é–‹å§‹åˆå§‹åŒ– ROS é€£æŽ¥...');\n        \n        // æ¸…é™¤ä¹‹å‰çš„å®šæ™‚å™¨\n        if (reconnectTimer) {\n          clearTimeout(reconnectTimer);\n        }\n        \n        // é—œé–‰èˆŠé€£æŽ¥\n        if (rosRef.current) {\n          try {\n            rosRef.current.close();\n            console.log('ðŸ”’ é—œé–‰èˆŠé€£æŽ¥');\n          } catch (e) {\n            console.log('é—œé–‰èˆŠé€£æŽ¥æ™‚ç™¼ç”ŸéŒ¯èª¤:', e);\n          }\n        }\n        \n        console.log('ðŸŒ å‰µå»ºæ–°çš„ ROS å¯¦ä¾‹:', rosUrl);\n        const rosInstance = new ROSLIB.Ros({ \n          url: rosUrl,\n          groovyCompatibility: false\n        });\n\n        rosInstance.on('connection', () => {\n          isConnecting = false;\n          console.log('âœ… ROS é€£æŽ¥æˆåŠŸ!');\n          setRosConnected(true);\n          setRobotStatus('å·²é€£æŽ¥');\n          addLog('success', 'ROS é€£æŽ¥æˆåŠŸ');\n          \n          // å»¶é²è¨­ç½®è©±é¡Œï¼Œç¢ºä¿é€£æŽ¥ç©©å®š\n          setTimeout(() => {\n            console.log('ðŸ”§ é–‹å§‹è¨­ç½® ROS è©±é¡Œ...');\n            setupRosTopics(rosInstance);\n          }, 1000);\n        });\n\n        rosInstance.on('error', (error) => {\n          isConnecting = false;\n          console.error('âŒ ROS é€£æŽ¥éŒ¯èª¤:', error);\n          setRosConnected(false);\n          setRobotStatus('é€£æŽ¥éŒ¯èª¤');\n          addLog('error', 'é€£æŽ¥éŒ¯èª¤ï¼Œ5ç§’å¾Œé‡è©¦');\n          \n          // å»¶é•·é‡é€£é–“éš”ï¼Œæ¸›å°‘è·³å‹•\n          reconnectTimer = setTimeout(() => {\n            if (!rosRef.current || !rosRef.current.isConnected) {\n              console.log('ðŸ”„ æº–å‚™é‡æ–°é€£æŽ¥...');\n              addLog('info', 'å˜—è©¦é‡æ–°é€£æŽ¥...');\n              initAndSetupROS();\n            }\n          }, 5000);\n        });\n\n        rosInstance.on('close', () => {\n          isConnecting = false;\n          console.log('âš ï¸ ROS é€£æŽ¥é—œé–‰');\n          setRosConnected(false);\n          setRobotStatus('é€£æŽ¥æ–·é–‹');\n          addLog('warning', 'ROS é€£æŽ¥æ–·é–‹ï¼Œ3ç§’å¾Œé‡é€£');\n          \n          // å»¶é•·é‡é€£é–“éš”\n          reconnectTimer = setTimeout(() => {\n            console.log('ðŸ”„ æº–å‚™é‡æ–°é€£æŽ¥...');\n            addLog('info', 'å˜—è©¦é‡æ–°é€£æŽ¥...');\n            initAndSetupROS();\n          }, 3000);\n        });\n\n        rosRef.current = rosInstance;\n        console.log('ðŸ“ ROS å¯¦ä¾‹å·²ä¿å­˜åˆ° ref');\n        \n      } catch (error) {\n        isConnecting = false;\n        console.error('ðŸ’¥ åˆå§‹åŒ–å¤±æ•—:', error);\n        addLog('error', `åˆå§‹åŒ–å¤±æ•—: ${error.message}`);\n        \n        // æ›´é•·çš„é‡è©¦é–“éš”\n        reconnectTimer = setTimeout(() => {\n          console.log('ðŸ”„ é‡è©¦åˆå§‹åŒ–...');\n          addLog('info', 'é‡è©¦åˆå§‹åŒ–...');\n          initAndSetupROS();\n        }, 10000);\n      }\n    };\n\n    // ç«‹å³å˜—è©¦é€£æŽ¥\n    console.log('ðŸš€ å•Ÿå‹• ROS åˆå§‹åŒ–...');\n    initAndSetupROS();\n    \n    // æ¸…ç†å‡½æ•¸\n    return () => {\n      console.log('ðŸ§¹ æ¸…ç† ROS é€£æŽ¥...');\n      isConnecting = false;\n      if (reconnectTimer) {\n        clearTimeout(reconnectTimer);\n      }\n      if (rosRef.current) {\n        try {\n          rosRef.current.close();\n        } catch (e) {\n          console.log('æ¸…ç†é€£æŽ¥æ™‚ç™¼ç”ŸéŒ¯èª¤:', e);\n        }\n      }\n    };\n  }, [rosUrl, addLog, setupRosTopics]);\n\n  // æŽ§åˆ¶å‡½æ•¸\n  const publishCmdVel = useCallback((linear, angular) => {\n    if (!rosConnected || !cmdVelRef.current) return;\n\n    const twist = new ROSLIB.Message({\n      linear: { x: linear, y: 0, z: 0 },\n      angular: { x: 0, y: 0, z: angular }\n    });\n\n    cmdVelRef.current.publish(twist);\n  }, [rosConnected]);\n\n  const stopRobot = useCallback(() => {\n    publishCmdVel(0, 0);\n    setIsNavigating(false);\n    setIsPatrolling(false);\n    addLog('warning', 'æ©Ÿå™¨äººåœæ­¢');\n  }, [publishCmdVel, addLog]);\n\n  const moveRobot = useCallback((direction) => {\n    if (!rosConnected) {\n      addLog('error', 'è«‹å…ˆé€£æŽ¥ ROS');\n      return;\n    }\n\n    let linear = 0, angular = 0;\n\n    switch (direction) {\n      case 'forward':\n        linear = speed;\n        break;\n      case 'backward':\n        linear = -speed;\n        break;\n      case 'left':\n        angular = angularSpeed;\n        break;\n      case 'right':\n        angular = -angularSpeed;\n        break;\n      case 'rotate_left':\n        angular = angularSpeed;\n        break;\n      case 'rotate_right':\n        angular = -angularSpeed;\n        break;\n      default:\n        break;\n    }\n\n    publishCmdVel(linear, angular);\n    addLog('info', `ç§»å‹•æŒ‡ä»¤: ç·šé€Ÿåº¦=${linear.toFixed(2)}, è§’é€Ÿåº¦=${angular.toFixed(2)}`);\n  }, [rosConnected, speed, angularSpeed, publishCmdVel, addLog]);\n\n  // åœ°åœ–äº¤äº’\n  const handleMapWheel = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    \n    const delta = event.deltaY > 0 ? 0.9 : 1.1;\n    const newZoom = Math.max(0.5, Math.min(5.0, mapZoom * delta));\n    setMapZoom(newZoom);\n    \n    if (mapData) setTimeout(() => drawMap(mapData), 10);\n  };\n\n  const handleMapMouseDown = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    setIsDragging(true);\n    setLastMousePos({ x: event.clientX, y: event.clientY });\n  };\n\n  const handleMapMouseMove = (event) => {\n    if (!isDragging) return;\n    \n    const deltaX = event.clientX - lastMousePos.x;\n    const deltaY = event.clientY - lastMousePos.y;\n    \n    setMapOffset(prev => ({\n      x: prev.x + deltaX,\n      y: prev.y + deltaY\n    }));\n    \n    setLastMousePos({ x: event.clientX, y: event.clientY });\n    \n    if (mapData) drawMap(mapData);\n  };\n\n  const handleMapMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  const resetMapView = () => {\n    setMapZoom(1.0);\n    setMapOffset({ x: 0, y: 0 });\n    if (mapData) setTimeout(() => drawMap(mapData), 10);\n  };\n\n  // åœ°åœ–é»žæ“Šè™•ç†\n  const handleMapClick = (event) => {\n    if (!mapData) return;\n\n    const canvas = mapCanvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    if (currentMode === 'mapping') {\n      if (newStationName.trim()) {\n        const newStation = {\n          id: Date.now(),\n          name: newStationName,\n          x: x,\n          y: y,\n          type: 'work',\n          color: 'bg-blue-500'\n        };\n        setStations(prev => [...prev, newStation]);\n        setNewStationName('');\n        addLog('success', `æ–°å¢žç«™é»ž: ${newStation.name}`);\n      }\n    } else if (currentMode === 'waypoints') {\n      const newWaypoint = {\n        id: Date.now(),\n        x: x,\n        y: y,\n        order: waypoints.length + 1\n      };\n      setWaypoints(prev => [...prev, newWaypoint]);\n      addLog('success', `æ–°å¢žèˆªé»ž ${newWaypoint.order}`);\n    } else if (currentMode === 'navigation') {\n      const worldX = x * mapData.info.resolution + mapData.info.origin.position.x;\n      const worldY = (canvas.height - y) * mapData.info.resolution + mapData.info.origin.position.y;\n      setGoalPose({ x: worldX, y: worldY });\n      addLog('info', `è¨­ç½®å°Žèˆªç›®æ¨™: (${worldX.toFixed(2)}, ${worldY.toFixed(2)})`);\n    }\n  };\n\n  const initROS = () => {\n    addLog('info', 'é‡æ–°åˆå§‹åŒ– ROS é€£æŽ¥...');\n    setTimeout(() => {\n      window.location.reload();\n    }, 500);\n  };\n\n  const getBatteryColor = () => {\n    if (batteryLevel > 60) return 'text-green-400';\n    if (batteryLevel > 30) return 'text-yellow-400';\n    return 'text-red-400';\n  };\n\n  const getStatusColor = () => {\n    if (robotStatus.includes('ç§»å‹•') || robotStatus.includes('å°Žèˆª') || robotStatus.includes('å·¡é‚')) return 'text-blue-400';\n    if (robotStatus.includes('å·²åˆ°é”') || robotStatus.includes('å·²é€£æŽ¥')) return 'text-green-400';\n    if (robotStatus.includes('åœæ­¢') || robotStatus.includes('éŒ¯èª¤')) return 'text-red-400';\n    if (robotStatus.includes('å»ºåœ–')) return 'text-purple-400';\n    return 'text-gray-400';\n  };\n\n  return (\n    <div className=\"h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-6 overflow-hidden\">\n      <div className=\"h-full max-w-7xl mx-auto flex flex-col\">\n        {/* æ¨™é¡Œ */}\n        <div className=\"text-center mb-6\">\n          <h1 className=\"text-4xl font-bold text-white mb-2\">AMR æ™ºèƒ½å°Žèˆªç³»çµ±</h1>\n          <p className=\"text-gray-300\">å»ºåœ– Â· å°Žèˆª Â· å·¡é‚æŽ§åˆ¶å°</p>\n        </div>\n\n        {/* ROS é€£æŽ¥è¨­å®š */}\n        <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-4 mb-6 border border-white/20\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex-1\">\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">ROS Bridge URL</label>\n              <input\n                type=\"text\"\n                value={rosUrl}\n                onChange={(e) => setRosUrl(e.target.value)}\n                className=\"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-gray-400\"\n                placeholder=\"ws://localhost:9090\"\n              />\n            </div>\n            <button\n              onClick={initROS}\n              disabled={rosConnected}\n              className=\"px-6 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n            >\n              {rosConnected ? 'å·²é€£æŽ¥' : 'é€£æŽ¥ ROS'}\n            </button>\n            <button\n              onClick={() => window.open('/monitor', '_blank')}\n              className=\"px-6 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-all\"\n            >\n              é–‹å•Ÿç›£æŽ§é é¢\n            </button>\n          </div>\n        </div>\n\n        {/* æ¨¡å¼åˆ‡æ› */}\n        <div className=\"flex justify-center gap-2 mb-6\">\n          <button\n            onClick={() => setCurrentMode('teleop')}\n            className={`px-4 py-2 rounded-lg font-medium transition-all ${\n              currentMode === 'teleop' ? 'bg-blue-500 text-white' : 'bg-white/10 text-gray-300'\n            }`}\n          >\n            é™æŽ§æ¨¡å¼\n          </button>\n          <button\n            onClick={() => setCurrentMode('mapping')}\n            className={`px-4 py-2 rounded-lg font-medium transition-all ${\n              currentMode === 'mapping' ? 'bg-purple-500 text-white' : 'bg-white/10 text-gray-300'\n            }`}\n          >\n            å»ºåœ–æ¨¡å¼\n          </button>\n          <button\n            onClick={() => setCurrentMode('waypoints')}\n            className={`px-4 py-2 rounded-lg font-medium transition-all ${\n              currentMode === 'waypoints' ? 'bg-green-500 text-white' : 'bg-white/10 text-gray-300'\n            }`}\n          >\n            èˆªé»žæ¨¡å¼\n          </button>\n          <button\n            onClick={() => setCurrentMode('navigation')}\n            className={`px-4 py-2 rounded-lg font-medium transition-all ${\n              currentMode === 'navigation' ? 'bg-orange-500 text-white' : 'bg-white/10 text-gray-300'\n            }`}\n          >\n            å°Žèˆªæ¨¡å¼\n          </button>\n        </div>\n\n        {/* ç‹€æ…‹æ¦‚è¦½ */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n          <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\">\n            <div className=\"flex items-center gap-3\">\n              {rosConnected ? <Wifi className=\"w-8 h-8 text-green-400\" /> : <WifiOff className=\"w-8 h-8 text-red-400\" />}\n              <div>\n                <p className=\"text-sm text-gray-300\">ROS ç‹€æ…‹</p>\n                <p className={`font-semibold ${getStatusColor()}`}>{robotStatus}</p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\">\n            <div className=\"flex items-center gap-3\">\n              <Battery className={`w-8 h-8 ${getBatteryColor()}`} />\n              <div>\n                <p className=\"text-sm text-gray-300\">é›»é‡</p>\n                <p className={`font-semibold ${getBatteryColor()}`}>{batteryLevel.toFixed(1)}%</p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\">\n            <div className=\"flex items-center gap-3\">\n              <MapPin className=\"w-8 h-8 text-purple-400\" />\n              <div>\n                <p className=\"text-sm text-gray-300\">ä½ç½®</p>\n                <p className=\"font-semibold text-purple-400\">\n                  ({currentPose.x}, {currentPose.y})\n                </p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white/10 backdrop-blur-lg rounded-xl p-4 border border-white/20\">\n            <div className=\"flex items-center gap-3\">\n              <Activity className=\"w-8 h-8 text-orange-400\" />\n              <div>\n                <p className=\"text-sm text-gray-300\">èˆªé»žæ•¸é‡</p>\n                <p className=\"font-semibold text-orange-400\">{waypoints.length} å€‹</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* ä¸»è¦å…§å®¹å€åŸŸ - ä½¿ç”¨ flex-1 å¡«æ»¿å‰©é¤˜ç©ºé–“ */}\n        <div className=\"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-0\">\n          {/* åœ°åœ–å€åŸŸ */}\n          <div className=\"lg:col-span-2 flex flex-col min-h-0\">\n            <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 flex-1 flex flex-col min-h-0\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h2 className=\"text-xl font-semibold text-white flex items-center gap-2\">\n                  <Map className=\"w-5 h-5\" />\n                  æ™ºèƒ½åœ°åœ–\n                </h2>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={resetMapView}\n                    className=\"px-3 py-1 bg-blue-500/80 hover:bg-blue-600/80 text-white rounded text-sm transition-all\"\n                    title=\"é‡ç½®è¦–åœ–\"\n                  >\n                    ðŸ”„ é‡ç½®\n                  </button>\n                  <div className=\"px-3 py-1 bg-black/60 text-white rounded text-sm\">\n                    {(mapZoom * 100).toFixed(0)}%\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"flex-1 bg-black/30 rounded-lg p-4 relative min-h-0\">\n                <canvas\n                  ref={mapCanvasRef}\n                  onClick={handleMapClick}\n                  onWheel={handleMapWheel}\n                  onMouseDown={handleMapMouseDown}\n                  onMouseMove={handleMapMouseMove}\n                  onMouseUp={handleMapMouseUp}\n                  onMouseLeave={handleMapMouseUp}\n                  className=\"w-full h-full bg-gray-800 rounded cursor-move select-none\"\n                  style={{ touchAction: 'none' }}\n                />\n                \n                {!mapData && (\n                  <div className=\"absolute inset-0 flex items-center justify-center\">\n                    <div className=\"text-gray-400 text-center\">\n                      <MapPin className=\"w-12 h-12 mx-auto mb-2 opacity-50\" />\n                      <p className=\"text-lg mb-2\">ç­‰å¾…åœ°åœ–æ•¸æ“š...</p>\n                      <p className=\"text-sm\">è«‹ç¢ºä¿ SLAM ç¯€é»žæ­£åœ¨é‹è¡Œ</p>\n                    </div>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"flex justify-between text-xs text-gray-400 mt-2\">\n                <span>ðŸ”µ æ©Ÿå™¨äºº ðŸ”´ ç›®æ¨™ ðŸŸ¢ èˆªé»ž ðŸ  å……é›»ç«™ ðŸš© å·¥ä½œç«™</span>\n                <span>æ»¾è¼ªç¸®æ”¾ Â· æ‹–æ‹½ç§»å‹•</span>\n              </div>\n            </div>\n          </div>\n\n          {/* æŽ§åˆ¶é¢æ¿ */}\n          <div className=\"space-y-6 overflow-y-auto\">\n            {/* é™æŽ§æ¨¡å¼ */}\n            {currentMode === 'teleop' && (\n              <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\">\n                <h2 className=\"text-xl font-semibold text-white mb-4\">éµç›¤æŽ§åˆ¶</h2>\n                \n                <div className=\"grid grid-cols-3 gap-2 max-w-48 mx-auto mb-4\">\n                  <div></div>\n                  <button \n                    onMouseDown={() => moveRobot('forward')}\n                    onMouseUp={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n                  >\n                    <ArrowUp className=\"w-6 h-6 mx-auto\" />\n                  </button>\n                  <div></div>\n                  \n                  <button \n                    onMouseDown={() => moveRobot('left')}\n                    onMouseUp={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n                  >\n                    <ArrowLeft className=\"w-6 h-6 mx-auto\" />\n                  </button>\n                  <button \n                    onClick={stopRobot}\n                    className=\"p-3 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all\"\n                  >\n                    <Square className=\"w-6 h-6 mx-auto\" />\n                  </button>\n                  <button \n                    onMouseDown={() => moveRobot('right')}\n                    onMouseUp={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n                  >\n                    <ArrowRight className=\"w-6 h-6 mx-auto\" />\n                  </button>\n                  \n                  <div></div>\n                  <button \n                    onMouseDown={() => moveRobot('backward')}\n                    onMouseUp={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"p-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded-lg transition-all\"\n                  >\n                    <ArrowDown className=\"w-6 h-6 mx-auto\" />\n                  </button>\n                  <div></div>\n                </div>\n                \n                <div className=\"flex gap-2 mb-4\">\n                  <button \n                    onMouseDown={() => moveRobot('rotate_left')}\n                    onMouseUp={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"flex-1 flex items-center justify-center gap-2 p-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\"\n                  >\n                    <RotateCcw className=\"w-4 h-4\" />\n                    å·¦è½‰\n                  </button>\n                  <button \n                    onMouseDown={() => moveRobot('rotate_right')}\n                    onMouseUp={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"flex-1 flex items-center justify-center gap-2 p-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\"\n                  >\n                    <RotateCw className=\"w-4 h-4\" />\n                    å³è½‰\n                  </button>\n                </div>\n                \n                <div className=\"space-y-3\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      ç·šé€Ÿåº¦: {speed.toFixed(1)} m/s\n                    </label>\n                    <input\n                      type=\"range\"\n                      min=\"0.1\"\n                      max=\"1.0\"\n                      step=\"0.1\"\n                      value={speed}\n                      onChange={(e) => setSpeed(parseFloat(e.target.value))}\n                      className=\"w-full h-2 bg-white/20 rounded-lg appearance-none\"\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                      è§’é€Ÿåº¦: {angularSpeed.toFixed(1)} rad/s\n                    </label>\n                    <input\n                      type=\"range\"\n                      min=\"0.1\"\n                      max=\"2.0\"\n                      step=\"0.1\"\n                      value={angularSpeed}\n                      onChange={(e) => setAngularSpeed(parseFloat(e.target.value))}\n                      className=\"w-full h-2 bg-white/20 rounded-lg appearance-none\"\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* å»ºåœ–æ¨¡å¼ */}\n            {currentMode === 'mapping' && (\n              <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\">\n                <h2 className=\"text-xl font-semibold text-white mb-4\">å»ºåœ–å·¥å…·</h2>\n                \n                <div className=\"space-y-3\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"è¼¸å…¥ç«™é»žåç¨±\"\n                    value={newStationName}\n                    onChange={(e) => setNewStationName(e.target.value)}\n                    className=\"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                  />\n                  <p className=\"text-sm text-gray-300\">é»žæ“Šåœ°åœ–æ–°å¢žç«™é»ž</p>\n                  \n                  <button\n                    onClick={() => setIsMappingActive(!isMappingActive)}\n                    disabled={!rosConnected}\n                    className={`w-full flex items-center justify-center gap-2 px-4 py-3 ${\n                      isMappingActive ? 'bg-red-500 hover:bg-red-600' : 'bg-purple-500 hover:bg-purple-600'\n                    } disabled:bg-gray-600 text-white rounded-lg font-medium transition-all`}\n                  >\n                    <Map className=\"w-5 h-5\" />\n                    {isMappingActive ? 'åœæ­¢å»ºåœ–' : 'é–‹å§‹å»ºåœ–'}\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* èˆªé»žæ¨¡å¼ */}\n            {currentMode === 'waypoints' && (\n              <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\">\n                <h2 className=\"text-xl font-semibold text-white mb-4\">èˆªé»žç®¡ç†</h2>\n                \n                <div className=\"space-y-3\">\n                  <button\n                    onClick={() => {\n                      if (waypoints.length === 0) {\n                        addLog('error', 'æ²’æœ‰è¨­å®šèˆªé»žï¼Œç„¡æ³•é–‹å§‹å·¡é‚');\n                        return;\n                      }\n                      setIsPatrolling(!isPatrolling);\n                      if (!isPatrolling) {\n                        setCurrentWaypointIndex(0);\n                        addLog('info', 'é–‹å§‹è‡ªå‹•å·¡é‚');\n                      } else {\n                        addLog('info', 'åœæ­¢å·¡é‚');\n                      }\n                    }}\n                    disabled={waypoints.length === 0 || !rosConnected}\n                    className=\"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg font-medium transition-all\"\n                  >\n                    {isPatrolling ? <Pause className=\"w-5 h-5\" /> : <Play className=\"w-5 h-5\" />}\n                    {isPatrolling ? 'åœæ­¢å·¡é‚' : 'é–‹å§‹å·¡é‚'}\n                  </button>\n                  <p className=\"text-sm text-gray-300\">é»žæ“Šåœ°åœ–æ–°å¢žèˆªé»žï¼Œé»žæ“Šèˆªé»žåˆªé™¤</p>\n                </div>\n              </div>\n            )}\n\n            {/* å°Žèˆªæ¨¡å¼ */}\n            {currentMode === 'navigation' && (\n              <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\">\n                <h2 className=\"text-xl font-semibold text-white mb-4\">è‡ªä¸»å°Žèˆª</h2>\n                \n                <div className=\"space-y-4\">\n                  {goalPose && (\n                    <div className=\"bg-black/20 rounded-lg p-3\">\n                      <p className=\"text-sm text-gray-300\">ç›®æ¨™ä½ç½®:</p>\n                      <p className=\"text-white\">({goalPose.x.toFixed(2)}, {goalPose.y.toFixed(2)})</p>\n                    </div>\n                  )}\n                  \n                  <button\n                    onClick={stopRobot}\n                    disabled={!rosConnected}\n                    className=\"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-500 hover:bg-red-600 disabled:bg-gray-600 text-white rounded-lg font-medium transition-all\"\n                  >\n                    <Square className=\"w-5 h-5\" />\n                    åœæ­¢å°Žèˆª\n                  </button>\n                  \n                  <p className=\"text-sm text-gray-300\">\n                    é»žæ“Šåœ°åœ–è¨­ç½®å°Žèˆªç›®æ¨™é»ž\n                  </p>\n                </div>\n              </div>\n            )}\n\n            {/* ç«™é»žåˆ—è¡¨ */}\n            <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\">\n              <h2 className=\"text-xl font-semibold text-white mb-4\">ç«™é»žç®¡ç†</h2>\n              \n              <div className=\"space-y-2 max-h-40 overflow-y-auto\">\n                {stations.map(station => (\n                  <div key={station.id} className=\"flex items-center justify-between p-2 bg-white/10 rounded-lg\">\n                    <div className=\"flex items-center gap-2\">\n                      <div className={`w-3 h-3 ${station.color} rounded`}></div>\n                      <span className=\"text-white text-sm\">{station.name}</span>\n                    </div>\n                    <div className=\"flex gap-1\">\n                      <button\n                        disabled={!rosConnected}\n                        className=\"p-1 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 text-white rounded text-xs transition-all\"\n                      >\n                        å‰å¾€\n                      </button>\n                      <button\n                        onClick={() => setStations(prev => prev.filter(s => s.id !== station.id))}\n                        className=\"p-1 bg-red-500 hover:bg-red-600 text-white rounded text-xs transition-all\"\n                      >\n                        <Trash2 className=\"w-3 h-3\" />\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* å¿«é€Ÿå‹•ä½œ */}\n            <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20\">\n              <h2 className=\"text-xl font-semibold text-white mb-4\">å¿«é€Ÿå‹•ä½œ</h2>\n              \n              <div className=\"grid grid-cols-1 gap-2\">\n                <button \n                  onClick={() => {\n                    const chargingStation = stations.find(s => s.type === 'charging');\n                    if (chargingStation) {\n                      const worldX = chargingStation.x;\n                      const worldY = chargingStation.y;\n                      setGoalPose({ x: worldX, y: worldY });\n                      addLog('info', `å°Žèˆªè‡³å……é›»ç«™`);\n                    }\n                  }}\n                  disabled={!rosConnected || !stations.find(s => s.type === 'charging')}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\"\n                >\n                  <Home className=\"w-4 h-4\" />\n                  å›žå……é›»ç«™\n                </button>\n                <button \n                  onClick={stopRobot}\n                  disabled={!rosConnected}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-red-500 hover:bg-red-600 disabled:bg-gray-600 text-white rounded-lg text-sm transition-all\"\n                >\n                  <Square className=\"w-4 h-4\" />\n                  ç·Šæ€¥åœæ­¢\n                </button>\n                <button \n                  onClick={() => window.open('http://localhost:8080', '_blank')}\n                  className=\"flex items-center justify-center gap-2 px-3 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm transition-all\"\n                >\n                  <Camera className=\"w-4 h-4\" />\n                  æ”å½±æ©Ÿè¦–åœ–\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TurtleBotInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}